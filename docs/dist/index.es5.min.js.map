{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"React\"","webpack://jueying/./out-es5/errors.js","webpack://jueying/./out-es5/component.js","webpack://jueying/./out-es5/style.js","webpack://jueying/./out-es5/propt-display-names.js","webpack://jueying/./out-es5/components/index.js","webpack://jueying/./out-es5/component-panel.js","webpack://jueying/./node_modules/maishu-toolkit/out/index.js","webpack://jueying/./node_modules/maishu-toolkit/out/callback.js","webpack://jueying/./out-es5/index.js","webpack://jueying/./out-es5/jquery.js","webpack://jueying/external \"$\"","webpack://jueying/./lib/jquery.event.drag-2.2.js","webpack://jueying/./lib/jquery.event.drag.live-2.2.js","webpack://jueying/./lib/jquery.event.drop-2.2.js","webpack://jueying/./lib/jquery.event.drop.live-2.2.js","webpack://jueying/./out-es5/components/master-page.js","webpack://jueying/./out-es5/components/common.js","webpack://jueying/./node_modules/maishu-toolkit/out/guid.js","webpack://jueying/./node_modules/maishu-toolkit/out/path.js","webpack://jueying/./node_modules/maishu-toolkit/out/errors.js","webpack://jueying/./node_modules/maishu-toolkit/out/data.js","webpack://jueying/./node_modules/maishu-toolkit/out/Errors.js","webpack://jueying/./out-es5/editor-panel.js","webpack://jueying/./out-es5/property-editor.js","webpack://jueying/./out-es5/page-designer.js","webpack://jueying/./out-es5/component-wrapper.js","webpack://jueying/./out-es5/prop-editor.js","webpack://jueying/./out-es5/component-data-handler.js","webpack://jueying/./node_modules/maishu-jueying-core/dist/index.js","webpack://jueying/(webpack)/buildin/global.js","webpack://jueying/./node_modules/maishu-jueying-core/decorators.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__11__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","Errors","instance","Constructor","TypeError","_classCallCheck","this","protoProps","staticProps","Error","fileName","concat","argumentName","pluginId","componentId","componentName","msg","fieldName","defaultComponentFactory","Component","ComponentWrapperContext","React","obj","__esModule","newObj","desc","getOwnPropertyDescriptor","set","default","_interopRequireWildcard","_errors","_proptDisplayNames","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","toString","from","_iterableToArray","_nonIterableSpread","_typeof","constructor","createContext","typename","attr","componentAttributes","type","name","assign","defaultComponentAttribute","componentData","componentType","result","propEditorInfo","componentPropEditors","propName","display","componentPropEditorDisplay","push","controlClassName","getPropEditorByArray","propNames","filter","o","componentTypeOrOptions","editorType","group","editorDisplay","options","displayName","proptDisplayNames","split","className","classProps","join","argumentNull","componentTypes","setAttribute","Fragment","container","movable","showHandler","resize","c","children","map","createElement","apply","appendClassName","element","addonClassName","sourceClassName","console","assert","indexOf","removeClassName","targetClassName","replace","RegExp","trim","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","component","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","designer","moveDown","document","innerHTML","head","appendChild","_exportNames","ComponentTypes","constants","_common","_masterPage","keys","forEach","ComponentPanel","_index","_style","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_React$Component","_this","state","componets","subClass","superClass","create","_inherits","dataTransfer","str","getData","JSON","parse","toolItemElement","draggable","addEventListener","ev","setData","stringify","x","offsetX","y","offsetY","setState","_this2","empty","ref","e","toolbarElement","componentIndexName","icon","style","fontSize","color","ctrl","componentDraggable","guid_1","guid","path_1","pathContact","errors_1","errors","callback_1","Callback","data_1","DataSource","DataSourceSelectArguments","funcs","func","args","strings","EditorPanel","PageDesigner","PropEditor","TextInput","ComponentDataHandler","_component","_componentPanel","_editorPanel","_pageDesigner","_propEditor","_componentDataHandler","_decorators","_maishuJueyingCore","j","$","fn","drag","arg","opts","isFunction","trigger","$event","event","$special","special","defaults","which","distance","not","handle","relative","drop","click","datakey","noBubble","add","data","related","each","def","undefined","remove","setup","extend","init","attachEvent","dontstart","teardown","removeData","textselect","detachEvent","touched","results","dd","is","closest","currentTarget","propagates","mousedown","interactions","interaction","pageX","pageY","dragging","hijack","flatten","handler","live","elem","offset","top","left","callback","droppable","preventDefault","Math","pow","Date","getTime","ia","orig","originalEvent","mode","len","isNaN","cancelled","properties","subject","isPropagationStopped","dispatch","proxy","update","startX","startY","deltaX","deltaY","originalX","originalY","slice","available","jquery","nodeType","member","makeArray","bool","css","unselectable","locate","$dispatch","arguments","touchHooks","fixHooks","touchstart","touchmove","touchend","touchcancel","touches","changedTouches","prop","draginit","dragstart","dragend","jQuery","origadd","origteardown","livekey","selector","delegate","elems","events","origType","origHandler","inArray","multi","Infinity","delay","tolerance","targets","active","anyactive","winner","location","grep","$targets","timer","tolerate","clearTimeout","index","$elem","posi","height","outerHeight","width","outerWidth","right","bottom","contains","test","modes","overlap","max","min","sort","a","b","drp","drg","end","xy","last","setTimeout","dropinit","dropstart","dropend","find","MasterPage","MasterPageContext","MasterPageName","master","childComponents","Provider","register","_maishuToolkit","Text","PageView","PlaceHolder","componentsDir","connectorElementClassName","componentTypeName","componentPosition","s4","floor","random","substring","paths","error","expectedType","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","Errors_1","dataSourceCanntInsert","dataSourceCanntDelete","dataSourceCanntUpdate","primaryKeyNull","inserting","inserted","deleting","deleted","updating","updated","selecting","selected","primaryKeys","delete","insert","item","select","canInsert","fire","sender","dataItem","executeInsert","catch","exc","processError","canDelete","checkPrimaryKeys","executeDelete","canUpdate","executeUpdate","theItem","otherItem","pk","selectArguments","executeSelect","dataItems","totalRowCount","queryResultTypeError","selectResult","method","handled","startRowIndex","maximumRows","ArrayDataSource","items","super","sortExpression","_propertyEditor","componentDatas","PropertyEditor","editor","customRender","_designer","ErrorBoundary","_createClass","_element","groupedEditors","editors","getEditors","commonFlatProps","commonPropEditorInfos","selectedComponents","_loop","propEditorInfos","getPropEditors","propInfo1","propInfo2","propName1","propName2","control","controlProps","_loop2","_i","editorProps","propValue","editComponents","updateComponentProp","componentProps","id","updateComponentProps","navPropsNames","r","groupEditorsArray","_loop3","groupEditors","g","_React$Component2","_this3","info","message","stack","_componentWrapper","components","pageData","initPageData","componentRemoved","componentUpdated","pageDataChanged","shift","componentIds","travelComponentData","itemRef","names","getOwnPropertyNames","ids","setComponetRefProp","_len","_key","parentId","componentIndex","appendComponent","position","setComponentsPosition","size","findComponentData","positions","toUpdateProps","_o$position","selectComponents","focus","_len2","_key2","removeComponents","targetComponentIndex","moveComponent","controlId","collection","_this4","controlIndex","child","removeComponentFrom","pop","splice","keyCode","selectedComponentIds","argumentFieldCanntNull","attr1","getAttribute","attr2","wrapperProps","ComponentWrapper","source","typeName","elementTag","componentFactory","defaultProps","stopPropagation","dropEffect","log","getComponentData","pos","mouseInnerPosition","startPos","rect","dragStart","sourceElement","now","setLeft","setTop","setPosition","isResizeHandleClassName","interval","isDrag","_left","_top","transform","setComponentPosition","setComponentSize","invokeOnClick","elementID","ctrlKey","selectedControlIds","selectComponent","enableAppendDroppable","onclick","designtimeBehavior","renderWidthoutWrapper","visibility","move_handle","showResizeHandle","createRawElement","_this$props$source","tagName","emtpy","designTimeEmptyElement","designTimeText","text","valueType","_dropdown","_PropEditor","onChange","itemsPromise","textValues","_PropEditor2","Dropdown","regeneratorRuntime","mark","_callee","_items","wrap","_context","prev","sent","stop","textValue","parseInt","parseFloat","_components","componentAppend","_pageData","initComponentData","namedComponents","num","fillComponent","childComponentIndex","_componentProps$i","pageDataIsNull","_i2","parentControl","isSelectedControl","__WEBPACK_EXTERNAL_MODULE_react__","modules","installedModules","__webpack_require__","moduleId","l","m","d","toStringTag","t","ns","n","s","CompoenntFactory","compoenntTypes","context","_createComponent","createErrorElement","err","createViewComponent","compoenntType","componentNotExists","pathFieldRequired","canntFindModule","path","component_factory_1","Function"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"$\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"$\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"React\"), require(\"$\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"React\"], root[\"$\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__11__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Errors = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"fileNotExists\",\n    value: function fileNotExists(fileName) {\n      return new Error(\"File '\".concat(fileName, \"' is not exists.\"));\n    }\n  }, {\n    key: \"argumentNull\",\n    value: function argumentNull(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" is null or empty.\"));\n    }\n  }, {\n    key: \"argumentRangeError\",\n    value: function argumentRangeError(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" range error.\"));\n    }\n  }, {\n    key: \"pageDataIsNull\",\n    value: function pageDataIsNull() {\n      return new Error(\"Page data is null.\");\n    }\n  }, {\n    key: \"toolbarRequiredKey\",\n    value: function toolbarRequiredKey() {\n      return new Error(\"Toolbar has not a key prop.\");\n    }\n  }, {\n    key: \"loadPluginFail\",\n    value: function loadPluginFail(pluginId) {\n      return new Error(\"Load plugin '\".concat(pluginId, \"' fail.\"));\n    }\n  }, {\n    key: \"idRequired\",\n    value: function idRequired() {\n      return new Error(\"Property id is required.\");\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }, {\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"argumentFieldCanntNull\",\n    value: function argumentFieldCanntNull(fieldName, argumentName) {\n      var msg = \"\".concat(fieldName, \" of argument \").concat(argumentName, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultComponentFactory = exports.Component = exports.ComponentWrapperContext = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _errors = require(\"./errors\");\n\nvar _proptDisplayNames = require(\"./propt-display-names\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// type DesignerContextValue = { designer: ComponentDataHandler | null };\n// export const DesignerContext = React.createContext<DesignerContextValue>({ designer: null });\nvar ComponentWrapperContext = React.createContext(null);\nexports.ComponentWrapperContext = ComponentWrapperContext;\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component() {\n    _classCallCheck(this, Component);\n  }\n\n  _createClass(Component, null, [{\n    key: \"setAttribute\",\n\n    /**\r\n     * 设置组件特性\r\n     * @param typename 组件类型名称\r\n     * @param attr 组件特性\r\n     */\n    value: function setAttribute(typename, attr) {\n      Component.componentAttributes[typename] = attr;\n    }\n    /**\r\n     * 获取组件特性\r\n     * @param typename 组件类型名称\r\n     */\n\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(type) {\n      var typename = typeof type == 'string' ? type : type.name;\n      var attr = Component.componentAttributes[typename];\n      return Object.assign({\n        type: type\n      }, Component.defaultComponentAttribute, attr || {});\n    }\n  }, {\n    key: \"getPropEditors\",\n    value: function getPropEditors(componentData) {\n      var componentType = componentData.type;\n      var result = [];\n      var propEditorInfo = this.componentPropEditors[componentType] || [];\n\n      for (var i = 0; i < propEditorInfo.length; i++) {\n        var propName = propEditorInfo[i].propName;\n        var display = Component.componentPropEditorDisplay[\"\".concat(componentType, \".\").concat(propName)];\n        if (display != null && display(componentData) == false) continue;\n        result.push(propEditorInfo[i]);\n      }\n\n      return result; // let classEditors = this.componentPropEditors[componentType] || []\n      // Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\n      // return classEditors\n    }\n  }, {\n    key: \"getPropEditor\",\n    value: function getPropEditor(controlClassName, propName) {\n      return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /** 通过属性数组获取属性的编辑器 */\n\n  }, {\n    key: \"getPropEditorByArray\",\n    value: function getPropEditorByArray(controlClassName, propNames) {\n      var classEditors = this.componentPropEditors[controlClassName] || [];\n      var editor = classEditors.filter(function (o) {\n        return o.propName == propNames;\n      })[0];\n      return editor;\n    }\n  }, {\n    key: \"setPropEditor\",\n    value: function setPropEditor(componentTypeOrOptions, propName, editorType, group) {\n      var componentType;\n      var editorDisplay;\n\n      if (_typeof(componentTypeOrOptions) == \"object\") {\n        var options = componentTypeOrOptions;\n        componentType = options.componentType;\n        propName = options.propName;\n        editorType = options.editorType;\n        group = options.group;\n        editorDisplay = options.display;\n\n        if (options.displayName != null) {\n          _proptDisplayNames.proptDisplayNames[propName] = options.displayName;\n        }\n      } else {\n        componentType = componentTypeOrOptions;\n      }\n\n      group = group || ''; // 属性可能为导航属性,例如 style.width\n\n      var propNames = propName.split('.');\n      var className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n      Component.componentPropEditorDisplay[\"\".concat(className, \".\").concat(propName)] = editorDisplay;\n      var classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n\n      for (var i = 0; i < classProps.length; i++) {\n        var propName1 = classProps[i].propName; //classProps[i].propNames.join('.')\n\n        var propName2 = propNames.join('.');\n\n        if (propName1 == propName2) {\n          classProps[i].editorType = editorType;\n          return;\n        }\n      }\n\n      classProps.push({\n        propName: propName,\n        editorType: editorType,\n        group: group\n      });\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(componentData) {\n      // return Component._createElement(componentData, { components: [], componentTypes: [] }, h);\n      return defaultComponentFactory(componentData);\n    }\n  }, {\n    key: \"register\",\n    value: function register(componentName, componentType, attr) {\n      if (componentType == null && typeof componentName == 'function') {\n        componentType = componentName;\n        componentName = componentType.name;\n        componentType['componentName'] = componentName;\n      }\n\n      if (!componentName) throw _errors.Errors.argumentNull('componentName');\n      if (!componentType) throw _errors.Errors.argumentNull('componentType');\n      Component.componentTypes[componentName] = componentType;\n      if (attr) Component.setAttribute(componentName, attr);\n    }\n  }]);\n\n  return Component;\n}(); //==========================================\n// 用于创建 React 的 React.Fragment \n\n\nexports.Component = Component;\nComponent.Fragment = \"\"; //==========================================\n\nComponent.defaultComponentAttribute = {\n  container: false,\n  movable: false,\n  showHandler: false,\n  resize: false\n};\nComponent.componentAttributes = {\n  'div': {\n    container: true,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'img': {\n    container: false,\n    movable: true,\n    resize: true\n  },\n  'label': {\n    movable: true\n  },\n  'ul': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: false\n  },\n  'li': {\n    container: true,\n    movable: false\n  },\n  'table': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'thead': {\n    container: false,\n    movable: false\n  },\n  'tbody': {\n    container: false,\n    movable: false\n  },\n  'tfoot': {\n    container: false,\n    movable: false\n  },\n  'tr': {\n    container: false,\n    movable: false\n  },\n  'td': {\n    container: true,\n    movable: false\n  }\n};\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {}; // /**\n//  * 将持久化的元素数据转换为 ReactElement\n//  * @param componentData 元素数据\n//  */\n// private static _createElement(componentData: ComponentData, context: CreateElementContext, h?: ComponentFactory): React.ReactElement<any> | null {\n//     if (!componentData) throw Errors.argumentNull('componentData')\n//     h = h || defaultComponentFactory;\n//     try {\n//         let type: string | React.ComponentClass | React.ComponentType = componentData.type;\n//         let componentName = componentData.type;\n//         let controlType = Component.componentTypes[componentName];\n//         if (controlType) {\n//             type = controlType;\n//         }\n//         let children: (React.ReactElement<any> | string)[] = [];\n//         for (let i = 0; i < componentData.children.length; i++) {\n//             let child = componentData.children[i];\n//             if (typeof child == \"string\")\n//                 children.push(child);\n//             else\n//                 children.push(Component._createElement(child, context, h));\n//         }\n//         //componentData.children ? componentData.children.map(o => Component._createElement(o, context, h)) : [];\n//         let props: ComponentProps<any> = componentData.props == null ? {} : Object.assign({}, componentData.props);//JSON.parse(JSON.stringify(componentData.props));\n//         if (controlType != null && controlType[\"defaultProps\"]) {\n//             props = Object.assign({}, controlType[\"defaultProps\"], props);\n//         }\n//         let result: JSX.Element\n//         if (typeof type == 'string') {\n//             if (props.text) {\n//                 children.push(props.text)\n//             }\n//             //=========================================\n//             // props.text 非 DOM 的 prop，并且已经使用完\n//             // delete props.text\n//             // if (h == React.createElement) {\n//             //     delete props.attr\n//             // }\n//             //=========================================\n//         }\n//         let masterPage: MasterPage;\n//         type = type == Component.Fragment ? React.Fragment : type\n//         let ref = props.ref;\n//         props.ref = function (e: any) {\n//             if (typeof ref == \"function\")\n//                 ref(e);\n//             if (e instanceof MasterPage) {\n//                 masterPage = e;\n//                 for (let i = 0; i < context.componentTypes.length; i++) {\n//                     let typeName = context.componentTypes[i];\n//                     let childComponents = masterPage.childComponents[typeName] = masterPage.childComponents[typeName] || [];\n//                     childComponents.push(context.components[i]);\n//                 }\n//             }\n//             else if (e != null) {\n//                 context.components.push(e);\n//                 context.componentTypes.push(typeof type == \"string\" ? type : type.name);\n//                 // masterPage.componentCreated.fire({ component: e, type: typeof type == \"string\" ? type : type.name });\n//             }\n//         };\n//         result = h(componentData);\n//         return result\n//     }\n//     catch (e) {\n//         console.error(e);\n//         return null;\n//     }\n// }\n\nComponent.componentTypes = {};\n\nvar defaultComponentFactory = function defaultComponentFactory(c) {\n  var children = (c.children || []).map(function (c) {\n    return typeof c == \"string\" ? c : defaultComponentFactory(c);\n  });\n  var type = Component.componentTypes[c.type] || c.type;\n  var e = React.createElement.apply(React, [type, c.props || {}].concat(_toConsumableArray(children)));\n  return e;\n};\n\nexports.defaultComponentFactory = defaultComponentFactory;\n//# sourceMappingURL=component.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.appendClassName = appendClassName;\nexports.removeClassName = removeClassName;\nexports.classNames = void 0;\n\nvar _errors = require(\"./errors\");\n\nvar classNames = {\n  componentSelected: \"component-selected\",\n  emptyTemplates: \"empty-templates\",\n  loadingTemplates: \"loading-templates\",\n  templateSelected: \"template-selected\",\n  templateDialog: \"template-dialog\",\n  emptyDocument: \"empty-document\",\n  component: 'component',\n  componentWrapper: 'component-wrapper',\n  componentPanel: 'component-panel',\n  componentIcon: 'component-icon',\n  placeholder: 'placeholder',\n  editorPanel: 'editor-panel',\n  designer: 'designer',\n  moveDown: 'move-down'\n};\nexports.classNames = classNames;\nvar templateDialog = {\n  nameHeight: 40,\n  fontSize: 22\n};\nvar element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = \"\\n            .\".concat(classNames.componentSelected, \" {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(classNames.componentSelected, \" > :first-child {\\n                border-color: blue;\\n              }\\n              .\").concat(classNames.componentSelected, \" .resize_handle {\\n                position: absolute;\\n                height: 6px;\\n                width: 6px;\\n                border: 1px solid #89B;\\n                background: #9AC;\\n              }\\n              .\").concat(classNames.componentSelected, \" .move_handle {\\n                height: 12px;\\n                width: 12px;\\n                top: 6px;\\n                left: 8px;\\n                border: solid 1px black;\\n                position: relative;\\n                margin-top: -12px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NW,\\n              .\").concat(classNames.componentSelected, \" .NN,\\n              .\").concat(classNames.componentSelected, \" .NE {\\n                top: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NE,\\n              .\").concat(classNames.componentSelected, \" .EE,\\n              .\").concat(classNames.componentSelected, \" .SE {\\n                right: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .SW,\\n              .\").concat(classNames.componentSelected, \".SS,\\n              .\").concat(classNames.componentSelected, \" .SE {\\n                bottom: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NW,\\n              .\").concat(classNames.componentSelected, \" .WW,\\n              .\").concat(classNames.componentSelected, \" .SW {\\n                left: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .SE,\\n              .\").concat(classNames.componentSelected, \" .NW {\\n                cursor: nw-resize;\\n              }\\n              .\").concat(classNames.componentSelected, \" .SW,\\n              .\").concat(classNames.componentSelected, \" .NE {\\n                cursor: ne-resize;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NN,\\n              .\").concat(classNames.componentSelected, \" .SS {\\n                cursor: n-resize;\\n                left: 50%;\\n                margin-left: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .EE,\\n              .\").concat(classNames.componentSelected, \" .WW {\\n                cursor: e-resize;\\n                top: 50%;\\n                margin-top: -4px;\\n              }\\n            .\").concat(classNames.emptyTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(classNames.loadingTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(classNames.templateSelected, \" .page-view {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(classNames.templateDialog, \" .name {\\n                margin-top: -\").concat(templateDialog.nameHeight, \"px;\\n                height: \").concat(templateDialog.nameHeight, \"px;\\n                font-size: \").concat(templateDialog.fontSize, \"px;\\n                text-align: center;\\n                padding-top: 6px;\\n                background-color: black;\\n                opacity: 0.5;\\n            }\\n            .\").concat(classNames.templateDialog, \" .name span {\\n                color: white;\\n            }\\n            .\").concat(classNames.emptyDocument, \" {\\n                text-align: center;\\n                padding: 100px 0;\\n            }\\n            .\").concat(classNames.component, \" > .NW,\\n            .\").concat(classNames.component, \" > .NN,\\n            .\").concat(classNames.component, \" > .NE,\\n            .\").concat(classNames.component, \" > .EE,\\n            .\").concat(classNames.component, \" > .SE,\\n            .\").concat(classNames.component, \" > .SW,\\n            .\").concat(classNames.component, \" > .SS,\\n            .\").concat(classNames.component, \" > .WW {\\n                display: none;\\n            }\\n            .\").concat(classNames.componentSelected, \".component > .NW,\\n            .\").concat(classNames.componentSelected, \".component > .NN,\\n            .\").concat(classNames.componentSelected, \".component > .NE,\\n            .\").concat(classNames.componentSelected, \".component > .EE,\\n            .\").concat(classNames.componentSelected, \".component > .SE,\\n            .\").concat(classNames.componentSelected, \".component > .SW,\\n            .\").concat(classNames.componentSelected, \".component > .SS,\\n            .\").concat(classNames.componentSelected, \".component > .WW {\\n                display: block;\\n            }\\n            .\").concat(classNames.placeholder, \" {\\n                min-height: 40px;\\n                width: 100%;\\n            }\\n            .\").concat(classNames.placeholder, \".active,\\n            .\").concat(classNames.componentWrapper, \".active,\\n            .\").concat(classNames.componentWrapper, \".\").concat(classNames.componentSelected, \".active {\\n                border: 1px solid green;\\n            }\\n            .\").concat(classNames.editorPanel, \" {\\n                width: 300px;\\n                background: white;\\n                color: black;\\n                margin: 0;\\n                font-size: 14px;\\n                z-index: 100;\\n                overflow: auto;\\n            }\\n            .\").concat(classNames.editorPanel, \" label {\\n                width: 80px;\\n                float: left;\\n                padding: 4px;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n            .\").concat(classNames.editorPanel, \" .control {\\n                padding-left: 90px;\\n            }\\n            .\").concat(classNames.editorPanel, \" .empty {\\n                padding-top: 200px;\\n                text-align: center;\\n            }\\n            .\").concat(classNames.designer, \" .error,\\n            .\").concat(classNames.editorPanel, \" .error {\\n                color: red;\\n            }\\n            .\").concat(classNames.componentPanel, \" {\\n                background: white;\\n                color: black;\\n                font-size: 14px;\\n                z-index: 100;\\n                list-style: none;\\n                padding: 0;\\n                text-align: center\\n            }\\n            .\").concat(classNames.componentPanel, \" .panel-heading {\\n                text-align: center;\\n            }\\n            .\").concat(classNames.componentPanel, \" li {\\n                text-align: center;\\n                padding: 8px;\\n            }\\n            .\").concat(classNames.componentWrapper, \".\").concat(classNames.moveDown, \" {\\n         \\n            }\\n        \");\ndocument.head.appendChild(element);\n\nfunction appendClassName(element, addonClassName) {\n  if (element == null) throw _errors.Errors.argumentNull('element');\n  if (!addonClassName) throw _errors.Errors.argumentNull('addonClassName');\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className;\n  sourceClassName = sourceClassName || '';\n  console.assert(addonClassName);\n  if (sourceClassName.indexOf(addonClassName) >= 0) return sourceClassName;\n  var className = \"\".concat(sourceClassName, \" \").concat(addonClassName);\n  if (typeof element != 'string') element.className = className;\n  return className;\n}\n\nfunction removeClassName(element, targetClassName) {\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className || '';\n  if (sourceClassName.indexOf(targetClassName) < 0) return sourceClassName;\n  sourceClassName = sourceClassName || '';\n  sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n  sourceClassName = sourceClassName.trim();\n  if (typeof element != 'string') element.className = sourceClassName;\n  return sourceClassName;\n}\n//# sourceMappingURL=style.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.proptDisplayNames = void 0;\nvar proptDisplayNames = {};\nexports.proptDisplayNames = proptDisplayNames;\n//# sourceMappingURL=propt-display-names.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  ComponentTypes: true,\n  constants: true\n};\nObject.defineProperty(exports, \"ComponentTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _common.ComponentTypes;\n  }\n});\nObject.defineProperty(exports, \"constants\", {\n  enumerable: true,\n  get: function get() {\n    return _common.constants;\n  }\n});\n\nvar _masterPage = require(\"./master-page\");\n\nObject.keys(_masterPage).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _masterPage[key];\n    }\n  });\n});\n\nvar _common = require(\"./common\");\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentPanel = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _index = require(\"./components/index\");\n\nvar _style = require(\"./style\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ComponentPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentPanel, _React$Component);\n\n  function ComponentPanel(props) {\n    var _this;\n\n    _classCallCheck(this, ComponentPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ComponentPanel).call(this, props));\n    _this.state = {\n      componets: []\n    };\n    _this.designer = _this.props.designer;\n    return _this;\n  }\n\n  _createClass(ComponentPanel, [{\n    key: \"componentDraggable\",\n    value: function componentDraggable(toolItemElement, componentData) {\n      console.assert(toolItemElement != null);\n      toolItemElement.draggable = true;\n      toolItemElement.addEventListener('dragstart', function (ev) {\n        componentData.props = componentData.props || {};\n        ev.dataTransfer.setData(_index.constants.componentData, JSON.stringify(componentData));\n        ev.dataTransfer.setData('mousePosition', JSON.stringify({\n          x: ev.offsetX,\n          y: ev.offsetY\n        }));\n      });\n    }\n  }, {\n    key: \"setComponets\",\n    value: function setComponets(componets) {\n      this.setState({\n        componets: componets\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7EC4\\u4EF6\");\n      var props = Object.assign({}, this.props);\n      var componets = this.state.componets || [];\n      return React.createElement(\"ul\", Object.assign({}, props, {\n        className: \"\".concat(_style.classNames.componentPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.toolbarElement = _this2.toolbarElement || e;\n        }\n      }), componets.length == 0 ? empty : componets.map(function (c, i) {\n        var props = {\n          key: i\n        };\n        props[ComponentPanel.componentIndexName] = \"\".concat(i);\n        return React.createElement(\"li\", Object.assign({}, props, {\n          className: _style.classNames.componentIcon\n        }), React.createElement(\"div\", {\n          className: \"btn-link\"\n        }, React.createElement(\"i\", {\n          className: c.icon,\n          style: {\n            fontSize: 44,\n            color: 'black'\n          },\n          ref: function ref(e) {\n            if (!e) return;\n            var ctrl = c.componentData;\n\n            _this2.componentDraggable(e, ctrl);\n          }\n        })), React.createElement(\"div\", null, c.displayName));\n      }));\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this.toolbarElement;\n    }\n  }], [{\n    key: \"getComponentData\",\n    value: function getComponentData(dataTransfer) {\n      var str = dataTransfer.getData(_index.constants.componentData);\n      if (!str) return;\n      return JSON.parse(str);\n    }\n    /** 获取光标在图标内的位置 */\n\n  }, {\n    key: \"mouseInnerPosition\",\n    value: function mouseInnerPosition(dataTransfer) {\n      var str = dataTransfer.getData('mousePosition');\n      if (!str) return;\n      return JSON.parse(str);\n    }\n  }]);\n\n  return ComponentPanel;\n}(React.Component);\n\nexports.ComponentPanel = ComponentPanel;\nComponentPanel.componentIndexName = \"data-component-index\";\n//# sourceMappingURL=component-panel.js.map\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar guid_1 = require(\"./guid\");\r\nexports.guid = guid_1.guid;\r\nvar path_1 = require(\"./path\");\r\nexports.pathContact = path_1.pathContact;\r\nvar errors_1 = require(\"./errors\");\r\nexports.Errors = errors_1.Errors;\r\nexports.errors = errors_1.errors;\r\nvar callback_1 = require(\"./callback\");\r\nexports.Callback = callback_1.Callback;\r\nvar data_1 = require(\"./data\");\r\nexports.DataSource = data_1.DataSource;\r\nexports.DataSourceSelectArguments = data_1.DataSourceSelectArguments;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Callback {\r\n    constructor() {\r\n        this.funcs = new Array();\r\n    }\r\n    add(func) {\r\n        this.funcs.push(func);\r\n    }\r\n    remove(func) {\r\n        this.funcs = this.funcs.filter(o => o != func);\r\n    }\r\n    fire(args) {\r\n        this.funcs.forEach(o => o(args));\r\n    }\r\n    static create() {\r\n        return new Callback();\r\n    }\r\n}\r\nexports.Callback = Callback;\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  strings: true,\n  proptDisplayNames: true,\n  Component: true,\n  ComponentPanel: true,\n  EditorPanel: true,\n  PageDesigner: true,\n  PropEditor: true,\n  TextInput: true,\n  classNames: true,\n  ComponentDataHandler: true,\n  component: true\n};\nObject.defineProperty(exports, \"strings\", {\n  enumerable: true,\n  get: function get() {\n    return _proptDisplayNames.proptDisplayNames;\n  }\n});\nObject.defineProperty(exports, \"proptDisplayNames\", {\n  enumerable: true,\n  get: function get() {\n    return _proptDisplayNames.proptDisplayNames;\n  }\n});\nObject.defineProperty(exports, \"Component\", {\n  enumerable: true,\n  get: function get() {\n    return _component.Component;\n  }\n});\nObject.defineProperty(exports, \"ComponentPanel\", {\n  enumerable: true,\n  get: function get() {\n    return _componentPanel.ComponentPanel;\n  }\n});\nObject.defineProperty(exports, \"EditorPanel\", {\n  enumerable: true,\n  get: function get() {\n    return _editorPanel.EditorPanel;\n  }\n});\nObject.defineProperty(exports, \"PageDesigner\", {\n  enumerable: true,\n  get: function get() {\n    return _pageDesigner.PageDesigner;\n  }\n});\nObject.defineProperty(exports, \"PropEditor\", {\n  enumerable: true,\n  get: function get() {\n    return _propEditor.PropEditor;\n  }\n});\nObject.defineProperty(exports, \"TextInput\", {\n  enumerable: true,\n  get: function get() {\n    return _propEditor.TextInput;\n  }\n});\nObject.defineProperty(exports, \"classNames\", {\n  enumerable: true,\n  get: function get() {\n    return _style.classNames;\n  }\n});\nObject.defineProperty(exports, \"ComponentDataHandler\", {\n  enumerable: true,\n  get: function get() {\n    return _componentDataHandler.ComponentDataHandler;\n  }\n});\nObject.defineProperty(exports, \"component\", {\n  enumerable: true,\n  get: function get() {\n    return _decorators.component;\n  }\n});\n\nrequire(\"./jquery\");\n\nrequire(\"../lib/jquery.event.drag-2.2\");\n\nrequire(\"../lib/jquery.event.drag.live-2.2\");\n\nrequire(\"../lib/jquery.event.drop-2.2\");\n\nrequire(\"../lib/jquery.event.drop.live-2.2\");\n\nvar _proptDisplayNames = require(\"./propt-display-names\");\n\nvar _component = require(\"./component\");\n\nvar _componentPanel = require(\"./component-panel\");\n\nvar _editorPanel = require(\"./editor-panel\");\n\nvar _pageDesigner = require(\"./page-designer\");\n\nvar _propEditor = require(\"./prop-editor\");\n\nvar _style = require(\"./style\");\n\nvar _componentDataHandler = require(\"./component-data-handler\");\n\nvar _index = require(\"./components/index\");\n\nObject.keys(_index).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _index[key];\n    }\n  });\n});\n\nvar _maishuJueyingCore = require(\"maishu-jueying-core\");\n\nObject.keys(_maishuJueyingCore).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _maishuJueyingCore[key];\n    }\n  });\n});\n\nvar _decorators = require(\"maishu-jueying-core/decorators\");\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nvar j = _interopRequireWildcard(require(\"jquery\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// import * as j from '../lib/jquery-2.1.3'\n// let jquery = window['$'] || window['jQuery'];\n// if (jquery == null) {\n//     window['$'] = window['jQuery'] = j\n// }\nvar jquery = window['$'] || window['jQuery'];\n\nif (jquery == null) {\n  window['$'] = window['jQuery'] = j;\n}\n//# sourceMappingURL=jquery.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","/*! \r\n * jquery.event.drag - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2008-06-04 \r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x\r\n\r\n;(function( $ ){\r\n\r\n// add the jquery instance method\r\n$.fn.drag = function( str, arg, opts ){\r\n\t// figure out the event type\r\n\tvar type = typeof str == \"string\" ? str : \"\",\r\n\t// figure out the event handler...\r\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\r\n\t// fix the event type\r\n\tif ( type.indexOf(\"drag\") !== 0 ) \r\n\t\ttype = \"drag\"+ type;\r\n\t// were options passed\r\n\topts = ( str == fn ? arg : opts ) || {};\r\n\t// trigger or bind event handler\r\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\r\n};\r\n\r\n// local refs (increase compression)\r\nvar $event = $.event, \r\n$special = $event.special,\r\n// configure the drag special event \r\ndrag = $special.drag = {\r\n\t\r\n\t// these are the default settings\r\n\tdefaults: {\r\n\t\twhich: 1, // mouse button pressed to start drag sequence\r\n\t\tdistance: 0, // distance dragged before dragstart\r\n\t\tnot: ':input', // selector to suppress dragging on target elements\r\n\t\thandle: null, // selector to match handle target elements\r\n\t\trelative: false, // true to use \"position\", false to use \"offset\"\r\n\t\tdrop: true, // false to suppress drop events, true or selector to allow\r\n\t\tclick: false // false to suppress click events after dragend (no proxy)\r\n\t},\r\n\t\r\n\t// the key name for stored drag data\r\n\tdatakey: \"dragdata\",\r\n\t\r\n\t// prevent bubbling for better performance\r\n\tnoBubble: true,\r\n\t\r\n\t// count bound related events\r\n\tadd: function( obj ){ \r\n\t\t// read the interaction data\r\n\t\tvar data = $.data( this, drag.datakey ),\r\n\t\t// read any passed options \r\n\t\topts = obj.data || {};\r\n\t\t// count another realted event\r\n\t\tdata.related += 1;\r\n\t\t// extend data options bound with this event\r\n\t\t// don't iterate \"opts\" in case it is a node \r\n\t\t$.each( drag.defaults, function( key, def ){\r\n\t\t\tif ( opts[ key ] !== undefined )\r\n\t\t\t\tdata[ key ] = opts[ key ];\r\n\t\t});\r\n\t},\r\n\t\r\n\t// forget unbound related events\r\n\tremove: function(){\r\n\t\t$.data( this, drag.datakey ).related -= 1;\r\n\t},\r\n\t\r\n\t// configure interaction, capture settings\r\n\tsetup: function(){\r\n\t\t// check for related events\r\n\t\tif ( $.data( this, drag.datakey ) ) \r\n\t\t\treturn;\r\n\t\t// initialize the drag data with copied defaults\r\n\t\tvar data = $.extend({ related:0 }, drag.defaults );\r\n\t\t// store the interaction data\r\n\t\t$.data( this, drag.datakey, data );\r\n\t\t// bind the mousedown event, which starts drag interactions\r\n\t\t$event.add( this, \"touchstart mousedown\", drag.init, data );\r\n\t\t// prevent image dragging in IE...\r\n\t\tif ( this.attachEvent ) \r\n\t\t\tthis.attachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\r\n\t// destroy configured interaction\r\n\tteardown: function(){\r\n\t\tvar data = $.data( this, drag.datakey ) || {};\r\n\t\t// check for related events\r\n\t\tif ( data.related ) \r\n\t\t\treturn;\r\n\t\t// remove the stored data\r\n\t\t$.removeData( this, drag.datakey );\r\n\t\t// remove the mousedown event\r\n\t\t$event.remove( this, \"touchstart mousedown\", drag.init );\r\n\t\t// enable text selection\r\n\t\tdrag.textselect( true ); \r\n\t\t// un-prevent image dragging in IE...\r\n\t\tif ( this.detachEvent ) \r\n\t\t\tthis.detachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\t\r\n\t// initialize the interaction\r\n\tinit: function( event ){ \r\n\t\t// sorry, only one touch at a time\r\n\t\tif ( drag.touched ) \r\n\t\t\treturn;\r\n\t\t// the drag/drop interaction data\r\n\t\tvar dd = event.data, results;\r\n\t\t// check the which directive\r\n\t\tif ( event.which != 0 && dd.which > 0 && event.which != dd.which ) \r\n\t\t\treturn; \r\n\t\t// check for suppressed selector\r\n\t\tif ( $( event.target ).is( dd.not ) ) \r\n\t\t\treturn;\r\n\t\t// check for handle selector\r\n\t\tif ( dd.handle && !$( event.target ).closest( dd.handle, event.currentTarget ).length ) \r\n\t\t\treturn;\r\n\r\n\t\tdrag.touched = event.type == 'touchstart' ? this : null;\r\n\t\tdd.propagates = 1;\r\n\t\tdd.mousedown = this;\r\n\t\tdd.interactions = [ drag.interaction( this, dd ) ];\r\n\t\tdd.target = event.target;\r\n\t\tdd.pageX = event.pageX;\r\n\t\tdd.pageY = event.pageY;\r\n\t\tdd.dragging = null;\r\n\t\t// handle draginit event... \r\n\t\tresults = drag.hijack( event, \"draginit\", dd );\r\n\t\t// early cancel\r\n\t\tif ( !dd.propagates )\r\n\t\t\treturn;\r\n\t\t// flatten the result set\r\n\t\tresults = drag.flatten( results );\r\n\t\t// insert new interaction elements\r\n\t\tif ( results && results.length ){\r\n\t\t\tdd.interactions = [];\r\n\t\t\t$.each( results, function(){\r\n\t\t\t\tdd.interactions.push( drag.interaction( this, dd ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\t// remember how many interactions are propagating\r\n\t\tdd.propagates = dd.interactions.length;\r\n\t\t// locate and init the drop targets\r\n\t\tif ( dd.drop !== false && $special.drop ) \r\n\t\t\t$special.drop.handler( event, dd );\r\n\t\t// disable text selection\r\n\t\tdrag.textselect( false ); \r\n\t\t// bind additional events...\r\n\t\tif ( drag.touched )\r\n\t\t\t$event.add( drag.touched, \"touchmove touchend\", drag.handler, dd );\r\n\t\telse \r\n\t\t\t$event.add( document, \"mousemove mouseup\", drag.handler, dd );\r\n\t\t// helps prevent text selection or scrolling\r\n\t\tif ( !drag.touched || dd.live )\r\n\t\t\treturn false;\r\n\t},\t\r\n\t\r\n\t// returns an interaction object\r\n\tinteraction: function( elem, dd ){\r\n\t\tvar offset = $( elem )[ dd.relative ? \"position\" : \"offset\" ]() || { top:0, left:0 };\r\n\t\treturn {\r\n\t\t\tdrag: elem, \r\n\t\t\tcallback: new drag.callback(), \r\n\t\t\tdroppable: [],\r\n\t\t\toffset: offset\r\n\t\t};\r\n\t},\r\n\t\r\n\t// handle drag-releatd DOM events\r\n\thandler: function( event ){ \r\n\t\t// read the data before hijacking anything\r\n\t\tvar dd = event.data;\t\r\n\t\t// handle various events\r\n\t\tswitch ( event.type ){\r\n\t\t\t// mousemove, check distance, start dragging\r\n\t\t\tcase !dd.dragging && 'touchmove': \r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase !dd.dragging && 'mousemove':\r\n\t\t\t\t//  drag tolerance, x� + y� = distance�\r\n\t\t\t\tif ( Math.pow(  event.pageX-dd.pageX, 2 ) + Math.pow(  event.pageY-dd.pageY, 2 ) < Math.pow( dd.distance, 2 ) ) \r\n\t\t\t\t\tbreak; // distance tolerance not reached\r\n\t\t\t\tevent.target = dd.target; // force target from \"mousedown\" event (fix distance issue)\r\n\t\t\t\tdrag.hijack( event, \"dragstart\", dd ); // trigger \"dragstart\"\r\n\t\t\t\tif ( dd.propagates ) // \"dragstart\" not rejected\r\n\t\t\t\t\tdd.dragging = true; // activate interaction\r\n\t\t\t// mousemove, dragging\r\n\t\t\tcase 'touchmove':\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\t// trigger \"drag\"\t\t\r\n\t\t\t\t\tdrag.hijack( event, \"drag\", dd );\r\n\t\t\t\t\tif ( dd.propagates ){\r\n\t\t\t\t\t\t// manage drop events\r\n\t\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"dropstart\", \"dropend\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak; // \"drag\" not rejected, stop\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.type = \"mouseup\"; // helps \"drop\" handler behave\r\n\t\t\t\t}\r\n\t\t\t// mouseup, stop dragging\r\n\t\t\tcase 'touchend': \r\n\t\t\tcase 'mouseup': \r\n\t\t\tdefault:\r\n\t\t\t\tif ( drag.touched )\r\n\t\t\t\t\t$event.remove( drag.touched, \"touchmove touchend\", drag.handler ); // remove touch events\r\n\t\t\t\telse \r\n\t\t\t\t\t$event.remove( document, \"mousemove mouseup\", drag.handler ); // remove page events\t\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"drop\"\r\n\t\t\t\t\tdrag.hijack( event, \"dragend\", dd ); // trigger \"dragend\"\t\r\n\t\t\t\t}\r\n\t\t\t\tdrag.textselect( true ); // enable text selection\r\n\t\t\t\t// if suppressing click events...\r\n\t\t\t\tif ( dd.click === false && dd.dragging )\r\n\t\t\t\t\t$.data( dd.mousedown, \"suppress.click\", new Date().getTime() + 5 );\r\n\t\t\t\tdd.dragging = drag.touched = false; // deactivate element\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\t\r\n\t// re-use event object for custom events\r\n\thijack: function( event, type, dd, x, elem ){\r\n\t\t// not configured\r\n\t\tif ( !dd ) \r\n\t\t\treturn;\r\n\t\t// remember the original event and type\r\n\t\tvar orig = { event:event.originalEvent, type:event.type },\r\n\t\t// is the event drag related or drog related?\r\n\t\tmode = type.indexOf(\"drop\") ? \"drag\" : \"drop\",\r\n\t\t// iteration vars\r\n\t\tresult, i = x || 0, ia, $elems, callback,\r\n\t\tlen = !isNaN( x ) ? x : dd.interactions.length;\r\n\t\t// modify the event type\r\n\t\tevent.type = type;\r\n\t\t// remove the original event\r\n\t\tevent.originalEvent = null;\r\n\t\t// initialize the results\r\n\t\tdd.results = [];\r\n\t\t// handle each interacted element\r\n\t\tdo if ( ia = dd.interactions[ i ] ){\r\n\t\t\t// validate the interaction\r\n\t\t\tif ( type !== \"dragend\" && ia.cancelled )\r\n\t\t\t\tcontinue;\r\n\t\t\t// set the dragdrop properties on the event object\r\n\t\t\tcallback = drag.properties( event, dd, ia );\r\n\t\t\t// prepare for more results\r\n\t\t\tia.results = [];\r\n\t\t\t// handle each element\r\n\t\t\t$( elem || ia[ mode ] || dd.droppable ).each(function( p, subject ){\r\n\t\t\t\t// identify drag or drop targets individually\r\n\t\t\t\tcallback.target = subject;\r\n\t\t\t\t// force propagtion of the custom event\r\n\t\t\t\tevent.isPropagationStopped = function(){ return false; };\r\n\t\t\t\t// handle the event\t\r\n\t\t\t\tresult = subject ? $event.dispatch.call( subject, event, callback ) : null;\r\n\t\t\t\t// stop the drag interaction for this element\r\n\t\t\t\tif ( result === false ){\r\n\t\t\t\t\tif ( mode == \"drag\" ){\r\n\t\t\t\t\t\tia.cancelled = true;\r\n\t\t\t\t\t\tdd.propagates -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( type == \"drop\" ){\r\n\t\t\t\t\t\tia[ mode ][p] = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// assign any dropinit elements\r\n\t\t\t\telse if ( type == \"dropinit\" )\r\n\t\t\t\t\tia.droppable.push( drag.element( result ) || subject );\r\n\t\t\t\t// accept a returned proxy element \r\n\t\t\t\tif ( type == \"dragstart\" )\r\n\t\t\t\t\tia.proxy = $( drag.element( result ) || ia.drag )[0];\r\n\t\t\t\t// remember this result\t\r\n\t\t\t\tia.results.push( result );\r\n\t\t\t\t// forget the event result, for recycling\r\n\t\t\t\tdelete event.result;\r\n\t\t\t\t// break on cancelled handler\r\n\t\t\t\tif ( type !== \"dropinit\" )\r\n\t\t\t\t\treturn result;\r\n\t\t\t});\t\r\n\t\t\t// flatten the results\t\r\n\t\t\tdd.results[ i ] = drag.flatten( ia.results );\t\r\n\t\t\t// accept a set of valid drop targets\r\n\t\t\tif ( type == \"dropinit\" )\r\n\t\t\t\tia.droppable = drag.flatten( ia.droppable );\r\n\t\t\t// locate drop targets\r\n\t\t\tif ( type == \"dragstart\" && !ia.cancelled )\r\n\t\t\t\tcallback.update(); \r\n\t\t}\r\n\t\twhile ( ++i < len )\r\n\t\t// restore the original event & type\r\n\t\tevent.type = orig.type;\r\n\t\tevent.originalEvent = orig.event;\r\n\t\t// return all handler results\r\n\t\treturn drag.flatten( dd.results );\r\n\t},\r\n\t\t\r\n\t// extend the callback object with drag/drop properties...\r\n\tproperties: function( event, dd, ia ){\t\t\r\n\t\tvar obj = ia.callback;\r\n\t\t// elements\r\n\t\tobj.drag = ia.drag;\r\n\t\tobj.proxy = ia.proxy || ia.drag;\r\n\t\t// starting mouse position\r\n\t\tobj.startX = dd.pageX;\r\n\t\tobj.startY = dd.pageY;\r\n\t\t// current distance dragged\r\n\t\tobj.deltaX = event.pageX - dd.pageX;\r\n\t\tobj.deltaY = event.pageY - dd.pageY;\r\n\t\t// original element position\r\n\t\tobj.originalX = ia.offset.left;\r\n\t\tobj.originalY = ia.offset.top;\r\n\t\t// adjusted element position\r\n\t\tobj.offsetX = obj.originalX + obj.deltaX; \r\n\t\tobj.offsetY = obj.originalY + obj.deltaY;\r\n\t\t// assign the drop targets information\r\n\t\tobj.drop = drag.flatten( ( ia.drop || [] ).slice() );\r\n\t\tobj.available = drag.flatten( ( ia.droppable || [] ).slice() );\r\n\t\treturn obj;\t\r\n\t},\r\n\t\r\n\t// determine is the argument is an element or jquery instance\r\n\telement: function( arg ){\r\n\t\tif ( arg && ( arg.jquery || arg.nodeType == 1 ) )\r\n\t\t\treturn arg;\r\n\t},\r\n\t\r\n\t// flatten nested jquery objects and arrays into a single dimension array\r\n\tflatten: function( arr ){\r\n\t\treturn $.map( arr, function( member ){\r\n\t\t\treturn member && member.jquery ? $.makeArray( member ) : \r\n\t\t\t\tmember && member.length ? drag.flatten( member ) : member;\r\n\t\t});\r\n\t},\r\n\t\r\n\t// toggles text selection attributes ON (true) or OFF (false)\r\n\ttextselect: function( bool ){ \r\n\t\t$( document )[ bool ? \"unbind\" : \"bind\" ](\"selectstart\", drag.dontstart )\r\n\t\t\t.css(\"MozUserSelect\", bool ? \"\" : \"none\" );\r\n\t\t// .attr(\"unselectable\", bool ? \"off\" : \"on\" )\r\n\t\tdocument.unselectable = bool ? \"off\" : \"on\"; \r\n\t},\r\n\t\r\n\t// suppress \"selectstart\" and \"ondragstart\" events\r\n\tdontstart: function(){ \r\n\t\treturn false; \r\n\t},\r\n\t\r\n\t// a callback instance contructor\r\n\tcallback: function(){}\r\n\t\r\n};\r\n\r\n// callback methods\r\ndrag.callback.prototype = {\r\n\tupdate: function(){\r\n\t\tif ( $special.drop && this.available.length )\r\n\t\t\t$.each( this.available, function( i ){\r\n\t\t\t\t$special.drop.locate( this, i );\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\n// patch $.event.$dispatch to allow suppressing clicks\r\nvar $dispatch = $event.dispatch;\r\n$event.dispatch = function( event ){\r\n\tif ( $.data( this, \"suppress.\"+ event.type ) - new Date().getTime() > 0 ){\r\n\t\t$.removeData( this, \"suppress.\"+ event.type );\r\n\t\treturn;\r\n\t}\r\n\treturn $dispatch.apply( this, arguments );\r\n};\r\n\r\n// event fix hooks for touch events...\r\nvar touchHooks = \r\n$event.fixHooks.touchstart = \r\n$event.fixHooks.touchmove = \r\n$event.fixHooks.touchend =\r\n$event.fixHooks.touchcancel = {\r\n\tprops: \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tfilter: function( event, orig ) {\r\n\t\tif ( orig ){\r\n\t\t\tvar touched = ( orig.touches && orig.touches[0] )\r\n\t\t\t\t|| ( orig.changedTouches && orig.changedTouches[0] )\r\n\t\t\t\t|| null; \r\n\t\t\t// iOS webkit: touchstart, touchmove, touchend\r\n\t\t\tif ( touched ) \r\n\t\t\t\t$.each( touchHooks.props, function( i, prop ){\r\n\t\t\t\t\tevent[ prop ] = touched[ prop ];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn event;\r\n\t}\r\n};\r\n\r\n// share the same special event configuration with related events...\r\n$special.draginit = $special.dragstart = $special.dragend = drag;\r\n\r\n})( jQuery );","/*! \r\n * jquery.event.drag.live - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2010-06-07\r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x, event.drag 2.2\r\n\r\n;(function( $ ){\r\n\t\r\n// local refs (increase compression)\r\nvar $event = $.event,\r\n// ref the special event config\r\ndrag = $event.special.drag,\r\n// old drag event add method\r\norigadd = drag.add,\r\n// old drag event teradown method\r\norigteardown = drag.teardown;\r\n\r\n// allow events to bubble for delegation\r\ndrag.noBubble = false;\r\n\r\n// the namespace for internal live events\r\ndrag.livekey = \"livedrag\";\r\n\r\n// new drop event add method\r\ndrag.add = function( obj ){ \r\n\t// call the old method\r\n\torigadd.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey );\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( !data.live && obj.selector ){\r\n\t\tdata.live = true;\r\n\t\t$event.add( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t}\r\n};\r\n\r\n// new drop event teardown method\r\ndrag.teardown = function(){ \r\n\t// call the old method\r\n\torigteardown.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey ) || {};\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( data.live ){\r\n\t\t// remove the \"live\" delegation\r\n\t\t$event.remove( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t\tdata.live = false;\r\n\t}\r\n};\r\n\r\n// identify potential delegate elements\r\ndrag.delegate = function( event ){\r\n\t// local refs\r\n\tvar elems = [], target, \r\n\t// element event structure\r\n\tevents = $.data( this, \"events\" ) || {};\r\n\t// query live events\r\n\t$.each( events || [], function( key, arr ){\r\n\t\t// no event type matches\r\n\t\tif ( key.indexOf(\"drag\") !== 0 )\r\n\t\t\treturn;\r\n\t\t$.each( arr || [], function( i, obj ){\r\n\t\t\t// locate the element to delegate\r\n\t\t\ttarget = $( event.target ).closest( obj.selector, event.currentTarget )[0];\r\n\t\t\t// no element found\r\n\t\t\tif ( !target ) \r\n\t\t\t\treturn;\r\n\t\t\t// add an event handler\r\n\t\t\t$event.add( target, obj.origType+'.'+drag.livekey, obj.origHandler || obj.handler, obj.data );\r\n\t\t\t// remember new elements\r\n\t\t\tif ( $.inArray( target, elems ) < 0 )\r\n\t\t\t\telems.push( target );\t\t\r\n\t\t});\r\n\t});\r\n\t// if there are no elements, break\r\n\tif ( !elems.length ) \r\n\t\treturn false;\r\n\t// return the matched results, and clenup when complete\t\t\r\n\treturn $( elems ).bind(\"dragend.\"+ drag.livekey, function(){\r\n\t\t$event.remove( this, \".\"+ drag.livekey ); // cleanup delegation\r\n\t});\r\n};\r\n\t\r\n})( jQuery );","/*! \n * jquery.event.drop - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2008-06-04 \n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// Events: drop, dropstart, dropend\n\n// add the jquery instance method\n$.fn.drop = function( str, arg, opts ){\n\t// figure out the event type\n\tvar type = typeof str == \"string\" ? str : \"\",\n\t// figure out the event handler...\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\n\t// fix the event type\n\tif ( type.indexOf(\"drop\") !== 0 ) \n\t\ttype = \"drop\"+ type;\n\t// were options passed\n\topts = ( str == fn ? arg : opts ) || {};\n\t// trigger or bind event handler\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\n};\n\n// DROP MANAGEMENT UTILITY\n// returns filtered drop target elements, caches their positions\n$.drop = function( opts ){ \n\topts = opts || {};\n\t// safely set new options...\n\tdrop.multi = opts.multi === true ? Infinity : \n\t\topts.multi === false ? 1 : !isNaN( opts.multi ) ? opts.multi : drop.multi;\n\tdrop.delay = opts.delay || drop.delay;\n\tdrop.tolerance = $.isFunction( opts.tolerance ) ? opts.tolerance : \n\t\topts.tolerance === null ? null : drop.tolerance;\n\tdrop.mode = opts.mode || drop.mode || 'intersect';\n};\n\n// local refs (increase compression)\nvar $event = $.event, \n$special = $event.special,\n// configure the drop special event\ndrop = $.event.special.drop = {\n\n\t// these are the default settings\n\tmulti: 1, // allow multiple drop winners per dragged element\n\tdelay: 20, // async timeout delay\n\tmode: 'overlap', // drop tolerance mode\n\t\t\n\t// internal cache\n\ttargets: [], \n\t\n\t// the key name for stored drop data\n\tdatakey: \"dropdata\",\n\t\t\n\t// prevent bubbling for better performance\n\tnoBubble: true,\n\t\n\t// count bound related events\n\tadd: function( obj ){ \n\t\t// read the interaction data\n\t\tvar data = $.data( this, drop.datakey );\n\t\t// count another realted event\n\t\tdata.related += 1;\n\t},\n\t\n\t// forget unbound related events\n\tremove: function(){\n\t\t$.data( this, drop.datakey ).related -= 1;\n\t},\n\t\n\t// configure the interactions\n\tsetup: function(){\n\t\t// check for related events\n\t\tif ( $.data( this, drop.datakey ) ) \n\t\t\treturn;\n\t\t// initialize the drop element data\n\t\tvar data = { \n\t\t\trelated: 0,\n\t\t\tactive: [],\n\t\t\tanyactive: 0,\n\t\t\twinner: 0,\n\t\t\tlocation: {}\n\t\t};\n\t\t// store the drop data on the element\n\t\t$.data( this, drop.datakey, data );\n\t\t// store the drop target in internal cache\n\t\tdrop.targets.push( this );\n\t},\n\t\n\t// destroy the configure interaction\t\n\tteardown: function(){ \n\t\tvar data = $.data( this, drop.datakey ) || {};\n\t\t// check for related events\n\t\tif ( data.related ) \n\t\t\treturn;\n\t\t// remove the stored data\n\t\t$.removeData( this, drop.datakey );\n\t\t// reference the targeted element\n\t\tvar element = this;\n\t\t// remove from the internal cache\n\t\tdrop.targets = $.grep( drop.targets, function( target ){ \n\t\t\treturn ( target !== element ); \n\t\t});\n\t},\n\t\n\t// shared event handler\n\thandler: function( event, dd ){ \n\t\t// local vars\n\t\tvar results, $targets;\n\t\t// make sure the right data is available\n\t\tif ( !dd ) \n\t\t\treturn;\n\t\t// handle various events\n\t\tswitch ( event.type ){\n\t\t\t// draginit, from $.event.special.drag\n\t\t\tcase 'mousedown': // DROPINIT >>\n\t\t\tcase 'touchstart': // DROPINIT >>\n\t\t\t\t// collect and assign the drop targets\n\t\t\t\t$targets =  $( drop.targets );\n\t\t\t\tif ( typeof dd.drop == \"string\" )\n\t\t\t\t\t$targets = $targets.filter( dd.drop );\n\t\t\t\t// reset drop data winner properties\n\t\t\t\t$targets.each(function(){\n\t\t\t\t\tvar data = $.data( this, drop.datakey );\n\t\t\t\t\tdata.active = [];\n\t\t\t\t\tdata.anyactive = 0;\n\t\t\t\t\tdata.winner = 0;\n\t\t\t\t});\n\t\t\t\t// set available target elements\n\t\t\t\tdd.droppable = $targets;\n\t\t\t\t// activate drop targets for the initial element being dragged\n\t\t\t\t$special.drag.hijack( event, \"dropinit\", dd ); \n\t\t\t\tbreak;\n\t\t\t// drag, from $.event.special.drag\n\t\t\tcase 'mousemove': // TOLERATE >>\n\t\t\tcase 'touchmove': // TOLERATE >>\n\t\t\t\tdrop.event = event; // store the mousemove event\n\t\t\t\tif ( !drop.timer )\n\t\t\t\t\t// monitor drop targets\n\t\t\t\t\tdrop.tolerate( dd ); \n\t\t\t\tbreak;\n\t\t\t// dragend, from $.event.special.drag\n\t\t\tcase 'mouseup': // DROP >> DROPEND >>\n\t\t\tcase 'touchend': // DROP >> DROPEND >>\n\t\t\t\tdrop.timer = clearTimeout( drop.timer ); // delete timer\t\n\t\t\t\tif ( dd.propagates ){\n\t\t\t\t\t$special.drag.hijack( event, \"drop\", dd ); \n\t\t\t\t\t$special.drag.hijack( event, \"dropend\", dd ); \n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t}\n\t},\n\t\t\n\t// returns the location positions of an element\n\tlocate: function( elem, index ){ \n\t\tvar data = $.data( elem, drop.datakey ),\n\t\t$elem = $( elem ), \n\t\tposi = $elem.offset() || {}, \n\t\theight = $elem.outerHeight(), \n\t\twidth = $elem.outerWidth(),\n\t\tlocation = { \n\t\t\telem: elem, \n\t\t\twidth: width, \n\t\t\theight: height,\n\t\t\ttop: posi.top, \n\t\t\tleft: posi.left, \n\t\t\tright: posi.left + width, \n\t\t\tbottom: posi.top + height\n\t\t};\n\t\t// drag elements might not have dropdata\n\t\tif ( data ){\n\t\t\tdata.location = location;\n\t\t\tdata.index = index;\n\t\t\tdata.elem = elem;\n\t\t}\n\t\treturn location;\n\t},\n\t\n\t// test the location positions of an element against another OR an X,Y coord\n\tcontains: function( target, test ){ // target { location } contains test [x,y] or { location }\n\t\treturn ( ( test[0] || test.left ) >= target.left && ( test[0] || test.right ) <= target.right\n\t\t\t&& ( test[1] || test.top ) >= target.top && ( test[1] || test.bottom ) <= target.bottom ); \n\t},\n\t\n\t// stored tolerance modes\n\tmodes: { // fn scope: \"$.event.special.drop\" object \n\t\t// target with mouse wins, else target with most overlap wins\n\t\t'intersect': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ event.pageX, event.pageY ] ) ? // check cursor\n\t\t\t\t1e9 : this.modes.overlap.apply( this, arguments ); // check overlap\n\t\t},\n\t\t// target with most overlap wins\t\n\t\t'overlap': function( event, proxy, target ){\n\t\t\t// calculate the area of overlap...\n\t\t\treturn Math.max( 0, Math.min( target.bottom, proxy.bottom ) - Math.max( target.top, proxy.top ) )\n\t\t\t\t* Math.max( 0, Math.min( target.right, proxy.right ) - Math.max( target.left, proxy.left ) );\n\t\t},\n\t\t// proxy is completely contained within target bounds\t\n\t\t'fit': function( event, proxy, target ){\n\t\t\treturn this.contains( target, proxy ) ? 1 : 0;\n\t\t},\n\t\t// center of the proxy is contained within target bounds\t\n\t\t'middle': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ proxy.left + proxy.width * .5, proxy.top + proxy.height * .5 ] ) ? 1 : 0;\n\t\t}\n\t},\t\n\t\n\t// sort drop target cache by by winner (dsc), then index (asc)\n\tsort: function( a, b ){\n\t\treturn ( b.winner - a.winner ) || ( a.index - b.index );\n\t},\n\t\t\n\t// async, recursive tolerance execution\n\ttolerate: function( dd ){\t\t\n\t\t// declare local refs\n\t\tvar i, drp, drg, data, arr, len, elem,\n\t\t// interaction iteration variables\n\t\tx = 0, ia, end = dd.interactions.length,\n\t\t// determine the mouse coords\n\t\txy = [ drop.event.pageX, drop.event.pageY ],\n\t\t// custom or stored tolerance fn\n\t\ttolerance = drop.tolerance || drop.modes[ drop.mode ];\n\t\t// go through each passed interaction...\n\t\tdo if ( ia = dd.interactions[x] ){\n\t\t\t// check valid interaction\n\t\t\tif ( !ia )\n\t\t\t\treturn; \n\t\t\t// initialize or clear the drop data\n\t\t\tia.drop = [];\n\t\t\t// holds the drop elements\n\t\t\tarr = []; \n\t\t\tlen = ia.droppable.length;\n\t\t\t// determine the proxy location, if needed\n\t\t\tif ( tolerance )\n\t\t\t\tdrg = drop.locate( ia.proxy ); \n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop each stored drop target\n\t\t\tdo if ( elem = ia.droppable[i] ){ \n\t\t\t\tdata = $.data( elem, drop.datakey );\n\t\t\t\tdrp = data.location;\n\t\t\t\tif ( !drp ) continue;\n\t\t\t\t// find a winner: tolerance function is defined, call it\n\t\t\t\tdata.winner = tolerance ? tolerance.call( drop, drop.event, drg, drp ) \n\t\t\t\t\t// mouse position is always the fallback\n\t\t\t\t\t: drop.contains( drp, xy ) ? 1 : 0; \n\t\t\t\tarr.push( data );\t\n\t\t\t} while ( ++i < len ); // loop \n\t\t\t// sort the drop targets\n\t\t\tarr.sort( drop.sort );\t\t\t\n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop through all of the targets again\n\t\t\tdo if ( data = arr[ i ] ){\n\t\t\t\t// winners...\n\t\t\t\tif ( data.winner && ia.drop.length < drop.multi ){\n\t\t\t\t\t// new winner... dropstart\n\t\t\t\t\tif ( !data.active[x] && !data.anyactive ){\n\t\t\t\t\t\t// check to make sure that this is not prevented\n\t\t\t\t\t\tif ( $special.drag.hijack( drop.event, \"dropstart\", dd, x, data.elem )[0] !== false ){ \t\n\t\t\t\t\t\t\tdata.active[x] = 1;\n\t\t\t\t\t\t\tdata.anyactive += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if false, it is not a winner\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata.winner = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// if it is still a winner\n\t\t\t\t\tif ( data.winner )\n\t\t\t\t\t\tia.drop.push( data.elem );\n\t\t\t\t}\n\t\t\t\t// losers... \n\t\t\t\telse if ( data.active[x] && data.anyactive == 1 ){\n\t\t\t\t\t// former winner... dropend\n\t\t\t\t\t$special.drag.hijack( drop.event, \"dropend\", dd, x, data.elem ); \n\t\t\t\t\tdata.active[x] = 0;\n\t\t\t\t\tdata.anyactive -= 1;\n\t\t\t\t}\n\t\t\t} while ( ++i < len ); // loop \t\t\n\t\t} while ( ++x < end ) // loop\n\t\t// check if the mouse is still moving or is idle\n\t\tif ( drop.last && xy[0] == drop.last.pageX && xy[1] == drop.last.pageY ) \n\t\t\tdelete drop.timer; // idle, don't recurse\n\t\telse  // recurse\n\t\t\tdrop.timer = setTimeout(function(){ \n\t\t\t\tdrop.tolerate( dd ); \n\t\t\t}, drop.delay );\n\t\t// remember event, to compare idleness\n\t\tdrop.last = drop.event; \n\t}\n\t\n};\n\n// share the same special event configuration with related events...\n$special.dropinit = $special.dropstart = $special.dropend = drop;\n\n})(jQuery); // confine scope\t","/*! \n * jquery.event.drop.live - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2010-06-07\n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2, event.drop 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// local refs (increase compression)\nvar $event = $.event,\n// ref the drop special event config\ndrop = $event.special.drop,\n// old drop event add method\norigadd = drop.add,\n// old drop event teradown method\norigteardown = drop.teardown;\n\n// allow events to bubble for delegation\ndrop.noBubble = false;\n\n// the namespace for internal live events\ndrop.livekey = \"livedrop\";\n\n// new drop event add method\ndrop.add = function( obj ){ \n\t// call the old method\n\torigadd.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey );\n\t// bind the live \"dropinit\" delegator\n\tif ( !data.live && obj.selector ){\n\t\tdata.live = true;\n\t\t$event.add( this, \"dropinit.\"+ drop.livekey, drop.delegate );\n\t}\n};\n\n// new drop event teardown method\ndrop.teardown = function(){ \n\t// call the old method\n\torigteardown.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey ) || {};\n\t// remove the live \"dropinit\" delegator\n\tif ( data.live ){\n\t\t// remove the \"live\" delegation\n\t\t$event.remove( this, \"dropinit\", drop.delegate );\n\t\tdata.live = false;\n\t}\n};\n\n// identify potential delegate elements\ndrop.delegate = function( event, dd ){\n\t// local refs\n\tvar elems = [], $targets, \n\t// element event structure\n\tevents = $.data( this, \"events\" ) || {};\n\t// query live events\n\t$.each( events || [], function( key, arr ){\n\t\t// no event type matches\n\t\tif ( key.indexOf(\"drop\") !== 0 )\n\t\t\treturn;\n\t\t$.each( arr, function( i, obj ){\n\t\t\t// locate the elements to delegate\n\t\t\t$targets = $( event.currentTarget ).find( obj.selector );\n\t\t\t// no element found\n\t\t\tif ( !$targets.length ) \n\t\t\t\treturn;\n\t\t\t// take each target...\n\t\t\t$targets.each(function(){\n\t\t\t\t// add an event handler\n\t\t\t\t$event.add( this, obj.origType +'.'+ drop.livekey, obj.origHandler || obj.handler, obj.data );\n\t\t\t\t// remember new elements\n\t\t\t\tif ( $.inArray( this, elems ) < 0 )\n\t\t\t\t\telems.push( this );\t\n\t\t\t});\t\n\t\t});\n\t});\n\t// may not exist when artifically triggering dropinit event\n\tif ( dd )\n\t\t// clean-up after the interaction ends\n\t\t$event.add( dd.drag, \"dragend.\"+drop.livekey, function(){\n\t\t\t$.each( elems.concat( this ), function(){\n\t\t\t\t$event.remove( this, '.'+ drop.livekey );\t\t\t\t\t\t\t\n\t\t\t});\n\t\t});\n\t//drop.delegates.push( elems );\n\treturn elems.length ? $( elems ) : false;\n};\n\n})( jQuery ); // confine scope\t","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MasterPage = exports.MasterPageContext = exports.MasterPageName = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _component = require(\"../component\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar MasterPageName = 'MasterPage';\nexports.MasterPageName = MasterPageName;\nvar MasterPageContext = React.createContext({\n  master: null\n});\nexports.MasterPageContext = MasterPageContext;\n\nvar MasterPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MasterPage, _React$Component);\n\n  function MasterPage(props) {\n    var _this;\n\n    _classCallCheck(this, MasterPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MasterPage).call(this, props));\n    _this.childComponents = {}; // let children: React.ReactElement<ComponentProps<any>>[] = MasterPage.children(props)\n\n    _this.state = {};\n    return _this;\n  } // private static children(props: ComponentProps): React.ReactElement<ComponentProps<any>>[] {\n  //     let arr = props.children == null ? [] :\n  //         Array.isArray(props.children) ? props.children : [props.children];\n  //     let children: React.ReactElement<ComponentProps<any>>[] = []\n  //     arr.forEach(o => {\n  //         if (!React.isValidElement(o))\n  //             return\n  //         children.push(o as React.ReactElement<ComponentProps<any>>)\n  //     })\n  //     return children\n  // }\n  // static getDerivedStateFromProps(props: ComponentProps) {\n  //     let children: React.ReactElement<ComponentProps<any>>[] = MasterPage.children(props)\n  //     return { children } as MasterPage[\"state\"];\n  // }\n\n\n  _createClass(MasterPage, [{\n    key: \"render\",\n    value: function render() {\n      // let props = {} as any\n      // for (let key in this.props) {\n      //     if (key == 'ref' || key == 'id')\n      //         continue\n      //     props[key] = this.props[key]\n      // }\n      // props.style = Object.assign({ minHeight: 40 }, props.style)\n      // let children = this.state.children.filter(o => o.props.parentId == null);\n      var master = this;\n      console.assert(master != null);\n      var children = this.props.children;\n      return React.createElement(MasterPageContext.Provider, {\n        value: {\n          master: master\n        }\n      }, children);\n    }\n  }]);\n\n  return MasterPage;\n}(React.Component);\n\nexports.MasterPage = MasterPage;\n\n_component.Component.register(MasterPageName, MasterPage, {\n  container: false\n});\n//# sourceMappingURL=master-page.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"guid\", {\n  enumerable: true,\n  get: function get() {\n    return _maishuToolkit.guid;\n  }\n});\nexports.constants = exports.ComponentTypes = void 0;\n\nvar _maishuToolkit = require(\"maishu-toolkit\");\n\nvar ComponentTypes = {\n  Text: \"Text\",\n  PageView: \"PageView\",\n  PlaceHolder: \"PlaceHolder\"\n};\nexports.ComponentTypes = ComponentTypes;\nvar constants = {\n  componentsDir: 'components',\n  connectorElementClassName: 'component-container',\n  componentTypeName: 'data-component-name',\n  componentData: 'component-data',\n  componentPosition: \"component-position\"\n};\nexports.constants = constants;\n//# sourceMappingURL=common.js.map\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\nexports.guid = guid;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** 连接多个路径 */\r\nfunction pathContact(...paths) {\r\n    paths = paths || [];\r\n    if (paths.length == 0)\r\n        return \"\";\r\n    if (paths.length == 1) {\r\n        return paths[0];\r\n    }\r\n    let str = paths.join(\"\");\r\n    // 将一个或多个的 / 变为一个 /，例如：/shop/test// 转换为 /shop/test/\r\n    str = str.replace(/\\/+/g, '/');\r\n    return str;\r\n}\r\nexports.pathContact = pathContact;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    queryResultTypeError() {\r\n        let msg = 'Type of the query result is expected as Array or DataSourceSelectResult.';\r\n        return new Error(msg);\r\n    }\r\n}\r\nexports.Errors = Errors;\r\nexports.errors = new Errors();\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Errors_1 = require(\"./Errors\");\r\nconst callback_1 = require(\"./callback\");\r\nlet errors = Object.assign(Errors_1.errors, {\r\n    dataSourceCanntInsert() {\r\n        return new Error(\"DataSource can not insert.\");\r\n    },\r\n    dataSourceCanntDelete() {\r\n        return new Error(\"DataSource can not delete.\");\r\n    },\r\n    dataSourceCanntUpdate() {\r\n        return new Error(\"DataSource can not update.\");\r\n    },\r\n    primaryKeyNull(key) {\r\n        let msg = `Primary key named '${key}' value is null.`;\r\n        return new Error(msg);\r\n    }\r\n});\r\nclass DataSource {\r\n    constructor(args) {\r\n        this.inserting = new callback_1.Callback(); //callbacks1<DataSource<T>, T, number>();\r\n        this.inserted = new callback_1.Callback();\r\n        this.deleting = new callback_1.Callback(); //callbacks<DataSource<T>, T>();\r\n        this.deleted = new callback_1.Callback(); //callbacks<DataSource<T>, T>();\r\n        this.updating = new callback_1.Callback();\r\n        this.updated = new callback_1.Callback();\r\n        this.selecting = new callback_1.Callback();\r\n        this.selected = new callback_1.Callback(); //callbacks<DataSource<T>, DataSourceSelectResult<T>>();\r\n        this.error = new callback_1.Callback(); //callbacks<this, DataSourceError>();\r\n        this.args = args;\r\n        this.primaryKeys = args.primaryKeys || [];\r\n    }\r\n    ; //callbacks<DataSource<T>, DataSourceSelectArguments>();\r\n    get canDelete() {\r\n        return this.args.delete != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canInsert() {\r\n        return this.args.insert != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canUpdate() {\r\n        return this.args.update != null && this.primaryKeys.length > 0;\r\n    }\r\n    executeInsert(item, args) {\r\n        return this.args.insert(item, args);\r\n    }\r\n    executeDelete(item, args) {\r\n        return this.args.delete(item, args);\r\n    }\r\n    executeUpdate(item, args) {\r\n        return this.args.update(item, args);\r\n    }\r\n    executeSelect(args) {\r\n        args = args || {};\r\n        return this.args.select(args);\r\n    }\r\n    insert(item, args, index) {\r\n        if (!this.canInsert)\r\n            throw errors.dataSourceCanntInsert();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        if (typeof args == 'number') {\r\n            index = args;\r\n            args = null;\r\n        }\r\n        this.inserting.fire({ sender: this, dataItem: item, index });\r\n        return this.executeInsert(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.inserted.fire({ sender: this, dataItem: item, index });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'insert');\r\n            throw exc;\r\n        });\r\n    }\r\n    delete(item, args) {\r\n        if (!this.canDelete)\r\n            throw errors.dataSourceCanntDelete();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.deleting.fire({ sender: this, dataItem: item });\r\n        return this.executeDelete(item, args).then((data) => {\r\n            this.deleted.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'delete');\r\n            throw exc;\r\n        });\r\n    }\r\n    update(item, args) {\r\n        if (!this.canUpdate)\r\n            throw errors.dataSourceCanntUpdate();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.updating.fire({ sender: this, dataItem: item });\r\n        return this.executeUpdate(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.updated.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch((exc) => {\r\n            this.processError(exc, 'update');\r\n            throw exc;\r\n        });\r\n    }\r\n    isSameItem(theItem, otherItem) {\r\n        if (theItem == null)\r\n            throw errors.argumentNull('theItem');\r\n        if (otherItem == null)\r\n            throw errors.argumentNull('otherItem');\r\n        if (this.primaryKeys.length == 0)\r\n            return theItem == otherItem;\r\n        this.checkPrimaryKeys(theItem);\r\n        this.checkPrimaryKeys(otherItem);\r\n        for (let pk of this.primaryKeys) {\r\n            if (theItem[pk] != otherItem[pk])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    checkPrimaryKeys(item) {\r\n        for (let key in item) {\r\n            if (item[key] == null && this.primaryKeys.indexOf(key) >= 0)\r\n                throw errors.primaryKeyNull(key);\r\n        }\r\n    }\r\n    select(args) {\r\n        args = args || {};\r\n        // fireCallback(this.selecting, this, args);\r\n        this.selecting.fire({ sender: this, selectArguments: args });\r\n        return this.executeSelect(args).then((data) => {\r\n            let dataItems;\r\n            let totalRowCount;\r\n            if (Array.isArray(data)) {\r\n                dataItems = data;\r\n                totalRowCount = data.length;\r\n            }\r\n            else if (data.dataItems !== undefined && data.totalRowCount !== undefined) {\r\n                dataItems = data.dataItems;\r\n                totalRowCount = data.totalRowCount;\r\n            }\r\n            else {\r\n                throw errors.queryResultTypeError();\r\n            }\r\n            this.selected.fire({ sender: this, selectResult: { totalRowCount, dataItems } });\r\n            return { totalRowCount, dataItems };\r\n        }).catch(exc => {\r\n            this.processError(exc, 'select');\r\n            throw exc;\r\n        });\r\n    }\r\n    processError(exc, method) {\r\n        exc.method = method;\r\n        this.error.fire({ sender: this, error: exc });\r\n        if (!exc.handled)\r\n            throw exc;\r\n    }\r\n}\r\nexports.DataSource = DataSource;\r\nclass DataSourceSelectArguments {\r\n    constructor() {\r\n        this.startRowIndex = 0;\r\n        this.maximumRows = 2147483647;\r\n    }\r\n}\r\nexports.DataSourceSelectArguments = DataSourceSelectArguments;\r\nclass ArrayDataSource extends DataSource {\r\n    constructor(items) {\r\n        super({\r\n            select(args) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    if (args.sortExpression) {\r\n                    }\r\n                    let dataItems = items.slice(args.startRowIndex, args.startRowIndex + args.maximumRows);\r\n                    let result = { dataItems, totalRowCount: items.length };\r\n                    return result;\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.ArrayDataSource = ArrayDataSource;\r\n// }\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    queryResultTypeError() {\r\n        let msg = 'Type of the query result is expected as Array or DataSourceSelectResult.';\r\n        return new Error(msg);\r\n    }\r\n}\r\nexports.Errors = Errors;\r\nexports.errors = new Errors();\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EditorPanel = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propertyEditor = require(\"./property-editor\");\n\nvar _style = require(\"./style\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar EditorPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditorPanel, _React$Component);\n\n  // private designerComponentChanged: (args: any) => void\n  function EditorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EditorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditorPanel).call(this, props));\n    _this.state = {\n      componentDatas: []\n    }; // this.designerComponentChanged = () => {\n    //     console.assert(this.designer != null)\n    //     this.setState({ designer: this.designer })\n    // }\n\n    return _this;\n  }\n\n  _createClass(EditorPanel, [{\n    key: \"render\",\n    // set designer(value) {\n    //     if (this._designer) {\n    //         this._designer.componentRemoved.remove(this.designerComponentChanged)\n    //         this._designer.componentAppend.remove(this.designerComponentChanged)\n    //         this._designer.componentUpdated.remove(this.designerComponentChanged)\n    //         this._designer.componentSelected.remove(this.designerComponentChanged)\n    //     }\n    //     if (value) {\n    //         value.componentRemoved.add(this.designerComponentChanged)\n    //         value.componentAppend.add(this.designerComponentChanged)\n    //         value.componentUpdated.add(this.designerComponentChanged)\n    //         value.componentSelected.add(this.designerComponentChanged)\n    //     }\n    //     this._designer = value;\n    //     this.setState({ designer: value });\n    // }\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty;\n      empty = empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n      var designer = this.props.designer;\n      return React.createElement(\"div\", {\n        className: \"\".concat(_style.classNames.editorPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.element = e || _this2.element;\n        }\n      }, React.createElement(_propertyEditor.PropertyEditor, {\n        designer: designer,\n        ref: function ref(e) {\n          return _this2.editor = e || _this2.editor;\n        },\n        empty: empty,\n        customRender: this.props.customRender\n      }));\n    }\n  }, {\n    key: \"designer\",\n    get: function get() {\n      return this._designer;\n    }\n  }]);\n\n  return EditorPanel;\n}(React.Component);\n\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorBoundary = exports.PropertyEditor = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _component = require(\"./component\");\n\nvar _proptDisplayNames = require(\"./propt-display-names\");\n\nvar _errors = require(\"./errors\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PropertyEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n\n  function PropertyEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyEditor).call(this, props));\n    _this._element = null;\n    _this.state = {\n      groupedEditors: []\n    };\n\n    _this.props.designer.componentSelected.add(function () {\n      var editors = _this.getEditors(_this.props.designer);\n\n      _this.setState({\n        groupedEditors: editors\n      });\n    });\n\n    return _this;\n  } // static getDerivedStateFromProps(props: EditorProps, state: EditorState): Partial<EditorState> {\n  //     return { designer: props.designer };\n  // }\n\n\n  _createClass(PropertyEditor, [{\n    key: \"getEditors\",\n    value: function getEditors(designer) {\n      var _this2 = this;\n\n      if (designer == null) {\n        return [];\n      } // 各个控件相同的编辑器\n\n\n      var commonPropEditorInfos = [];\n      var selectedComponents = designer.selectedComponents;\n\n      var _loop = function _loop(i) {\n        var componentData = selectedComponents[i];\n\n        var propEditorInfos = _component.Component.getPropEditors(componentData);\n\n        if (i == 0) {\n          commonPropEditorInfos = propEditorInfos || [];\n        } else {\n          var items = [];\n          commonPropEditorInfos.forEach(function (propInfo1) {\n            propEditorInfos.forEach(function (propInfo2) {\n              var propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n\n              var propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n\n              if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                items.push(propInfo1);\n              }\n            });\n          });\n          commonPropEditorInfos = items;\n        }\n      };\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        _loop(i);\n      } // 各个控件相同的属性值\n\n\n      var commonFlatProps;\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        var control = selectedComponents[i];\n        var controlProps = Object.assign({}, control.props);\n        delete controlProps.children; // controlProps = this.flatProps(controlProps)\n\n        if (i == 0) {\n          commonFlatProps = controlProps;\n        } else {\n          var obj = {};\n\n          for (var key in commonFlatProps) {\n            if (commonFlatProps[key] == controlProps[key]) obj[key] = controlProps[key];\n          }\n\n          commonFlatProps = obj;\n        }\n      }\n\n      var editors = [];\n\n      var _loop2 = function _loop2(_i) {\n        var propEditorInfo = commonPropEditorInfos[_i];\n        var propName = propEditorInfo.propName;\n        ;\n        var editorType = propEditorInfo.editorType;\n\n        var value = _this2.propValue(propName, commonFlatProps);\n\n        var editorProps = {\n          value: value,\n          editComponents: selectedComponents,\n          updateComponentProp: function updateComponentProp(value) {\n            var componentProps = selectedComponents.map(function (o) {\n              return {\n                componentId: o.id,\n                propName: propEditorInfo.propName,\n                value: value\n              };\n            });\n            designer.updateComponentProps(componentProps);\n          }\n        };\n        var editor = React.createElement(editorType, editorProps);\n        editors.push({\n          prop: propEditorInfo.propName,\n          editor: editor,\n          group: propEditorInfo.group\n        });\n      };\n\n      for (var _i = 0; _i < commonPropEditorInfos.length; _i++) {\n        _loop2(_i);\n      }\n\n      return editors;\n    }\n  }, {\n    key: \"propValue\",\n    value: function propValue(propName, props) {\n      if (!propName) throw _errors.Errors.argumentNull(\"propName\");\n      if (!props) throw _errors.Errors.argumentNull(\"props\");\n      var navPropsNames = propName.split(\".\");\n      var obj = props;\n\n      for (var i = 0; i < navPropsNames.length; i++) {\n        obj = obj[navPropsNames[i]];\n        if (obj == null) return null;\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var designer = this.props.designer;\n      var editors = this.state.groupedEditors; //this.getEditors(designer)\n\n      if (editors.length == 0) {\n        var empty = this.props.empty;\n        return React.createElement(\"div\", {\n          className: \"text-center\"\n        }, empty);\n      }\n\n      if (this.props.customRender) {\n        var items = editors.map(function (o) {\n          return Object.assign({\n            displayName: _proptDisplayNames.proptDisplayNames[o.prop] || o.prop\n          }, o);\n        });\n        var r = this.props.customRender(designer.selectedComponents, items);\n\n        if (r != null) {\n          return r;\n        }\n      }\n\n      var groupEditorsArray = [];\n\n      var _loop3 = function _loop3(i) {\n        var group = editors[i].group || '';\n        var groupEditors = groupEditorsArray.filter(function (o) {\n          return o.group == group;\n        })[0];\n\n        if (groupEditors == null) {\n          groupEditors = {\n            group: editors[i].group,\n            editors: []\n          };\n          groupEditorsArray.push(groupEditors);\n        }\n\n        groupEditors.editors.push({\n          prop: editors[i].prop,\n          editor: editors[i].editor\n        });\n      };\n\n      for (var i = 0; i < editors.length; i++) {\n        _loop3(i);\n      }\n\n      return React.createElement(React.Fragment, null, groupEditorsArray.map(function (g) {\n        return React.createElement(\"div\", {\n          key: g.group,\n          className: \"panel panel-default\"\n        }, g.group ? React.createElement(\"div\", {\n          className: \"panel-heading\"\n        }, _proptDisplayNames.proptDisplayNames[g.group] || g.group) : null, React.createElement(\"div\", {\n          className: \"panel-body\"\n        }, g.editors.map(function (o, i) {\n          return React.createElement(\"div\", {\n            key: o.prop,\n            className: \"form-group clearfix\"\n          }, React.createElement(\"label\", null, _proptDisplayNames.proptDisplayNames[o.prop] || o.prop), React.createElement(\"div\", {\n            className: \"control\"\n          }, React.createElement(ErrorBoundary, null, o.editor)));\n        })));\n      }));\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }]);\n\n  return PropertyEditor;\n}(React.Component);\n\nexports.PropertyEditor = PropertyEditor;\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(ErrorBoundary, _React$Component2);\n\n  function ErrorBoundary(props) {\n    var _this3;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this3.state = {};\n    return _this3;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        // You can render any custom fallback UI\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=property-editor.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PageDesigner = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _errors = require(\"./errors\");\n\nvar _component = require(\"./component\");\n\nvar _style = require(\"./style\");\n\nvar _componentWrapper = require(\"./component-wrapper\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PageDesigner =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDesigner, _React$Component);\n\n  function PageDesigner(props) {\n    var _this;\n\n    _classCallCheck(this, PageDesigner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDesigner).call(this, props));\n    _this.components = {};\n    var pageData = _this.props.handler.pageData;\n\n    _this.initPageData(pageData);\n\n    _this.state = {\n      pageData: pageData\n    };\n\n    _this.props.handler.componentSelected.add(function (args) {\n      // this.componentSelected.fire(args);\n      _this.setState({\n        pageData: _this.props.handler.pageData\n      });\n    });\n\n    _this.props.handler.componentRemoved.add(function (args) {\n      // this.componentRemoved.fire(args);\n      _this.setState({\n        pageData: _this.props.handler.pageData\n      });\n    });\n\n    _this.props.handler.componentUpdated.add(function (args) {\n      // this.componentUpdated.fire(args);\n      _this.setState({\n        pageData: _this.props.handler.pageData\n      });\n    });\n\n    _this.props.handler.pageDataChanged.add(function (args) {\n      _this.setState({\n        pageData: args\n      });\n    }); // this.componentAppend = Callback.create();\n    // this.props.componentDataHandler.componentAppend.add(() => this.componentAppend.fire(this));\n\n\n    return _this;\n  }\n\n  _createClass(PageDesigner, [{\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData) {\n      var _this2 = this;\n\n      //=========================================================\n      // 纪录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      PageDesigner.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.props[\"id\"]);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            _this2.components[item.type] = _this2.components[item.type] || [];\n\n            _this2.components[item.type].push(e);\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      }); //=========================================================\n      // 仅保留 componentIds 中的控件 \n\n      var names = Object.getOwnPropertyNames(this.components);\n\n      var _loop = function _loop(i) {\n        var typename = names[i];\n        var ids = componentIds[typename] || [];\n        _this2.components[typename] = (_this2.components[typename] || []).filter(function (o) {\n          return ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0;\n        });\n      };\n\n      for (var i = 0; i < names.length; i++) {\n        _loop(i);\n      } //=========================================================\n\n    }\n  }, {\n    key: \"initPageData\",\n    value: function initPageData(pageData) {\n      if (pageData == null) {\n        return;\n      }\n\n      pageData.children = pageData.children || []; // PageDesigner.nameComponent(pageData);\n\n      this.setComponetRefProp(pageData);\n    }\n  }, {\n    key: \"allComponents\",\n    value: function allComponents() {\n      var r = [];\n\n      for (var key in this.components) {\n        r.push.apply(r, _toConsumableArray(this.components[key]));\n      }\n\n      return r;\n    }\n    /** 页面数据 */\n\n  }, {\n    key: \"updateComponentProp\",\n    value: function updateComponentProp(componentId, propName, value) {\n      return this.updateComponentProps({\n        componentId: componentId,\n        propName: propName,\n        value: value\n      });\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps() {\n      for (var _len = arguments.length, componentProps = new Array(_len), _key = 0; _key < _len; _key++) {\n        componentProps[_key] = arguments[_key];\n      }\n\n      this.props.handler.updateComponentProps(componentProps);\n    } // /**\n    //  * 对组件及其子控件进行命名\n    //  * @param component \n    //  */\n    // private static nameComponent(component: ComponentData) {\n    //     let namedComponents: { [key: string]: ComponentData } = {}\n    //     let props = component.props = component.props || {};\n    //     if (!props.name) {\n    //         let num = 0;\n    //         let name: string;\n    //         do {\n    //             num = num + 1;\n    //             name = `${component.type}${num}`;\n    //         } while (namedComponents[name]);\n    //         namedComponents[name] = component\n    //         props.name = name;\n    //     }\n    //     if (!props.id)\n    //         props.id = guid();\n    //     if (!component.children || component.children.length == 0) {\n    //         return;\n    //     }\n    //     component.children.forEach(child => {\n    //         if (typeof child == \"string\")\n    //             return true;\n    //         PageDesigner.nameComponent(child);\n    //     })\n    // }\n\n    /**\r\n     * 添加控件\r\n     * @param parentId 父控件编号\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\n\n  }, {\n    key: \"appendComponent\",\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      this.props.handler.appendComponent(parentId, componentData, componentIndex);\n    }\n    /**\r\n     * 设置控件位置\r\n     * @param componentId 组件编号\r\n     * @param position 组件位置\r\n     */\n\n  }, {\n    key: \"setComponentPosition\",\n    value: function setComponentPosition(componentId, position) {\n      return this.setComponentsPosition([{\n        componentId: componentId,\n        position: position\n      }]);\n    }\n    /**\r\n     * 设置控件大小\r\n     * @param componentId 组件编号\r\n     * @param size 组件大小\r\n     */\n\n  }, {\n    key: \"setComponentSize\",\n    value: function setComponentSize(componentId, size) {\n      console.assert(componentId != null);\n      console.assert(size != null);\n      var componentData = this.findComponentData(componentId);\n      if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n      var style = componentData.props.style = componentData.props.style || {};\n      if (size.height) style.height = size.height;\n      if (size.width) style.width = size.width;\n      var pageData = this.state.pageData;\n      this.setState({\n        pageData: pageData\n      }); // this.componentUpdated.fire([componentData])\n    }\n  }, {\n    key: \"setComponentsPosition\",\n    value: function setComponentsPosition(positions) {\n      var _this3 = this;\n\n      var toUpdateProps = [];\n      positions.forEach(function (o) {\n        var componentId = o.componentId;\n        var _o$position = o.position,\n            left = _o$position.left,\n            top = _o$position.top;\n\n        var componentData = _this3.props.handler.findComponentData(componentId);\n\n        if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n        var style = componentData.props.style = componentData.props.style || {};\n        if (left) style.left = left;\n        if (top) style.top = top;\n        toUpdateProps.push({\n          componentId: componentId,\n          propName: \"style\",\n          value: style\n        });\n      });\n      this.props.handler.updateComponentProps(toUpdateProps);\n    }\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponent\",\n    value: function selectComponent(componentIds) {\n      this.props.handler.selectComponents(componentIds); //====================================================\n      // 设置焦点，以便获取键盘事件\n\n      if (this._element) this._element.focus(); //====================================================\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent() {\n      for (var _len2 = arguments.length, componentIds = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        componentIds[_key2] = arguments[_key2];\n      }\n\n      this.props.handler.removeComponents(componentIds);\n    }\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param targetComponentIndex 组件位置\r\n     */\n\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, targetComponentIndex) {\n      return this.props.handler.moveComponent(componentId, parentId, targetComponentIndex);\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var _this4 = this;\n\n      var controlIndex = null;\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        var _loop2 = function _loop2(_i) {\n          var o = collection[_i];\n          if (typeof o == \"string\") return \"continue\";\n          var children = o.children || [];\n          children.forEach(function (child) {\n            if (typeof child == \"string\") return true;\n\n            var isRemoved = _this4.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          });\n        };\n\n        for (var _i = 0; _i < collection.length; _i++) {\n          var _ret = _loop2(_i);\n\n          if (_ret === \"continue\") continue;\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      return this.props.handler.findComponentData(componentId);\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var DELETE_KEY_CODE = 46;\n\n      if (e.keyCode == DELETE_KEY_CODE) {\n        if (this.selectedComponents.length == 0) return;\n        this.props.handler.removeComponents(this.selectedComponentIds);\n      }\n    }\n  }, {\n    key: \"createDesignTimeElement\",\n    value: function createDesignTimeElement(componentData) {\n      //type: string | React.ComponentClass<any>, props: ComponentProps<any>, ...children: any[]\n      var type = componentData.type,\n          props = componentData.props,\n          children = componentData.children;\n      if (type == null) throw _errors.Errors.argumentFieldCanntNull(\"componentData\", 'type');\n      if (props == null) throw _errors.Errors.argumentNull('props');\n      if (componentData.id == null) throw _errors.Errors.argumentFieldCanntNull('id', 'componentData');\n      console.assert(componentData.id != null);\n      if (componentData.id != null) props.key = componentData.id; //===================================================\n      // 获取对象的 ComponentAttribute ，以从对象 props 中获取的为准\n\n      var attr1 = _component.Component.getAttribute(type);\n\n      console.assert(attr1 != null);\n      var attr2 = componentData.attr || {};\n      var attr = Object.assign({}, attr1, attr2); // delete props.attr\n      //===================================================\n\n      var className = componentData.selected ? (0, _style.appendClassName)(props.className || '', _style.classNames.componentSelected) : props.className;\n      var wrapperProps = Object.assign({}, props);\n      delete wrapperProps.ref;\n      wrapperProps.className = className; // let context: Context = this.props.handler;\n      // console.assert(context.handler != null);\n\n      return React.createElement(_componentWrapper.ComponentWrapper, Object.assign({}, wrapperProps, {\n        handler: this.props.handler,\n        source: {\n          type: type,\n          attr: attr,\n          props: props,\n          children: children\n        }\n      }));\n    }\n  }, {\n    key: \"findComponetsByTypeName\",\n    value: function findComponetsByTypeName(typeName) {\n      this.components[typeName];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pageData = this.state.pageData;\n      var style = this.props.style;\n      var elementTag = this.props.elementTag || \"div\"; // let result = React.createElement(elementTag, {\n      //     className: classNames.designer, tabIndex: 1, style,\n      //     ref: (e: HTMLElement) => {\n      //         if (!e) return;\n      //         this._element = e || this._element;\n      //         let c = this.props.componentFactory(pageData) //.renderDesignTimeComponent(pageData, e, { handler: this.props.componentDataHandler });\n      //         ReactDOM.render(c, e);\n      //     },\n      //     onKeyDown: (t) => this.onKeyDown(t)\n      // })\n      // return result;\n\n      return this.props.componentFactory(pageData);\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this.state.pageData;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      return this.props.handler.selectedComponents;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      return {\n        pageData: props.handler.pageData\n      };\n    }\n  }]);\n\n  return PageDesigner;\n}(React.Component);\n\nexports.PageDesigner = PageDesigner;\nPageDesigner.defaultProps = {\n  handler: null,\n  componentFactory: _component.defaultComponentFactory\n};\n//# sourceMappingURL=page-designer.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentWrapper = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _errors = require(\"./errors\");\n\nvar _componentPanel = require(\"./component-panel\");\n\nvar _style = require(\"./style\");\n\nvar _component = require(\"./component\");\n\nvar _index = require(\"./components/index\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\r\n * 组件包装器，对组件进行包装，实现组件设计时的行为。\r\n * 1. 组件的移动\r\n * 2. 组件的拖放\r\n */\nvar ComponentWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentWrapper, _React$Component);\n\n  function ComponentWrapper(props) {\n    _classCallCheck(this, ComponentWrapper);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ComponentWrapper).call(this, props));\n  }\n\n  _createClass(ComponentWrapper, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"designtimeBehavior\",\n    value: function designtimeBehavior(element, attr) {\n      if (!element) throw _errors.Errors.argumentNull('element');\n      if (!attr) throw _errors.Errors.argumentNull('args');\n\n      if (element.getAttribute('data-behavior')) {\n        return;\n      }\n\n      element.setAttribute('data-behavior', 'behavior');\n      var designer = this.props.handler;\n      console.assert(attr.container != null);\n      console.assert(attr.movable != null);\n\n      if (attr.container) {\n        ComponentWrapper.enableAppendDroppable(element, designer);\n      }\n\n      if (attr.movable) {\n        console.assert(element != null);\n        ComponentWrapper.draggable(designer, element);\n        if (this.handler != null) ComponentWrapper.draggable(designer, element, this.handler);\n      } else {\n        element.onclick = function (ev) {\n          return ComponentWrapper.invokeOnClick(ev, designer, element);\n        };\n      }\n    }\n    /**\r\n     * 启用拖放操作，以便通过拖放图标添加控件\r\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.element) {\n        return;\n      }\n\n      var attr = this.props.source.attr;\n      this.designtimeBehavior(this.element, attr);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      var attr = this.props.source.attr;\n      var shouldWrapper = attr.resize || typeof this.props.source.type != 'string' && this.props.source.type != _index.MasterPage;\n\n      if (!shouldWrapper) {\n        return this.renderWidthoutWrapper();\n      }\n\n      var props = this.props.source.props;\n      var style = props.style = JSON.parse(JSON.stringify(props.style || {})); // 深复制 style\n\n      var top = style.top,\n          left = style.left,\n          position = style.position,\n          width = style.width,\n          height = style.height,\n          display = style.display,\n          visibility = style.visibility;\n      var className = (0, _style.appendClassName)(props.className || '', _style.classNames.componentWrapper);\n      className = props.selected ? (0, _style.appendClassName)(className, _style.classNames.componentSelected) : className;\n      var wrapperProps = {\n        id: props.id,\n        className: className,\n        style: {\n          top: top,\n          left: left,\n          position: position,\n          width: width,\n          height: height,\n          display: display,\n          visibility: visibility\n        },\n        ref: function ref(e) {\n          return _this.element = e || _this.element;\n        }\n      };\n      var move_handle = props.selected && attr.showHandler ? React.createElement(\"div\", {\n        className: \"move_handle\",\n        style: {},\n        ref: function ref(e) {\n          return _this.handler = e || _this.handler;\n        }\n      }) : null;\n      var showResizeHandle = attr.resize && props.style.position == 'absolute' && props.selected;\n      var source = this.props.source;\n\n      if (props.style) {\n        delete props.style.left;\n        delete props.style.top;\n        delete props.style.position;\n        if (wrapperProps.style.width && wrapperProps.style.width != 'unset') props.style.width = '100%';\n        if (wrapperProps.style.height && wrapperProps.style.height != 'unset') props.style.height = '100%';\n      } // source.props.ref = function (e) {\n      // };\n\n\n      return React.createElement(_component.ComponentWrapperContext.Provider, {\n        value: this\n      }, React.createElement(\"div\", Object.assign({}, wrapperProps), move_handle, showResizeHandle ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"resize_handle NE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NN\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle WW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle EE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SS\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SE\"\n      })) : null, this.createRawElement(source.type, source.props, source.children)));\n    }\n  }, {\n    key: \"renderWidthoutWrapper\",\n    value: function renderWidthoutWrapper() {\n      var _this2 = this;\n\n      var _this$props$source = this.props.source,\n          type = _this$props$source.type,\n          props = _this$props$source.props,\n          children = _this$props$source.children;\n      var ref = props.ref;\n\n      props.ref = function (e) {\n        if (typeof ref == \"function\") ref(e);\n        if (!e) return;\n\n        if (e.tagName) {\n          var attr = _this2.props.source.attr;\n\n          _this2.designtimeBehavior(e, attr);\n\n          return;\n        }\n      };\n\n      if (props.selected) {\n        props.className = (0, _style.appendClassName)(props.className || '', _style.classNames.componentSelected);\n      }\n\n      var element = this.createRawElement(type, props, children);\n      return React.createElement(_component.ComponentWrapperContext.Provider, {\n        value: this\n      }, element);\n    }\n  }, {\n    key: \"createRawElement\",\n    value: function createRawElement(type, props, children) {\n      var isEmptyElement = (children || []).length == 0;\n\n      if (isEmptyElement) {\n        var emtpy = this.designTimeEmptyElement(type, props);\n        if (emtpy != null) children = [emtpy];\n      }\n\n      return React.createElement.apply(React, [type, props].concat(_toConsumableArray(children)));\n    }\n  }, {\n    key: \"designTimeEmptyElement\",\n    value: function designTimeEmptyElement(type, props) {\n      if (type == 'input' || type == 'img' || type == 'meta' || type == 'link') return null;\n      var typename = typeof type == 'string' ? type : type.name;\n      var text = this.designTimeText(typename, props);\n      return text;\n    }\n  }, {\n    key: \"designTimeText\",\n    value: function designTimeText(type, props) {\n      var text = props.text;\n\n      if (text) {\n        return text;\n      }\n\n      text = text || props.name || type;\n      return text;\n    }\n  }], [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, designer) {\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var componentName = event.dataTransfer.getData(_index.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event['layerX'], \" top:\").concat(event['layerX']));\n      });\n      element.addEventListener(\"drop\", function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var args1 = arguments[1];\n        if (!event.dataTransfer) return;\n\n        var ctrl = _componentPanel.ComponentPanel.getComponentData(event.dataTransfer);\n\n        if (!ctrl) return;\n        ctrl.props.style = ctrl.props.style || {};\n        designer.pageData.props.style = designer.pageData.props.style || {};\n\n        if (!ctrl.props.style.position) {\n          ctrl.props.style.position = designer.pageData.props.style.position;\n        }\n\n        var pos = _componentPanel.ComponentPanel.mouseInnerPosition(event.dataTransfer);\n\n        console.assert(pos != null);\n\n        if (ctrl.props.style.position == 'absolute') {\n          ctrl.props.style.left = event['layerX'] - pos.x;\n          ctrl.props.style.top = event['layerY'] - pos.y;\n        }\n\n        designer.appendComponent(element.id, ctrl);\n      });\n    }\n  }, {\n    key: \"isResizeHandleClassName\",\n    value: function isResizeHandleClassName(className) {\n      var classNames = ['resize_handle NE', 'resize_handle NN', 'resize_handle NW', 'resize_handle WW', 'resize_handle EE', 'resize_handle SW', 'resize_handle SS', 'resize_handle SE'];\n      return classNames.indexOf(className) >= 0;\n    }\n  }, {\n    key: \"draggable\",\n    value: function draggable(designer, element, handler) {\n      if (!designer) throw _errors.Errors.argumentNull('designer');\n      if (!element) throw _errors.Errors.argumentNull('element');\n      console.assert(element.id != \"\");\n      handler = handler || element;\n      var componentId = element.id;\n      console.assert(componentId != \"\");\n      var startPos;\n      var rect;\n      var dragStart;\n      $(handler).drag(\"init\", function (ev) {\n        startPos = $(element).position();\n        if ($(this).is(\".\".concat(_style.classNames.componentSelected))) return $(\".\".concat(_style.classNames.componentSelected));\n      }).drag('start', function (ev, dd) {\n        dd.attr = $(ev.target).prop(\"className\");\n        dd.width = $(this).width();\n        dd.height = $(this).height();\n        dd.sourceElement = element;\n        dragStart = Date.now();\n      }).drag(function (ev, dd) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        console.log(\"drop:\");\n        console.log(dd.drop);\n        rect = {};\n\n        if (dd.attr.indexOf(\"E\") > -1) {\n          rect.width = Math.max(32, dd.width + dd.deltaX);\n        }\n\n        if (dd.attr.indexOf(\"S\") > -1) {\n          rect.height = Math.max(32, dd.height + dd.deltaY);\n        }\n\n        if (dd.attr.indexOf(\"W\") > -1) {\n          rect.width = Math.max(32, dd.width - dd.deltaX);\n          setLeft(dd);\n        }\n\n        if (dd.attr.indexOf(\"N\") > -1) {\n          rect.height = Math.max(32, dd.height - dd.deltaY);\n          setTop(dd);\n        }\n\n        if (dd.attr.indexOf(\"WW\") >= 0) setLeft(dd);\n        if (dd.attr.indexOf(\"NE\") >= 0 || dd.attr.indexOf(\"NW\") >= 0 || dd.attr.indexOf(\"SW\") >= 0) setPosition(dd);\n        if (dd.attr.indexOf(\"NN\") >= 0) setTop(dd);\n\n        if (dd.attr.indexOf(\"drag\") > -1) {\n          rect.top = dd.offsetY;\n          rect.left = dd.offsetX;\n        }\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          setPosition(dd);\n        }\n\n        if (dd.attr) $(this).css(rect);\n      }, {\n        click: true\n      }).drag('end', function (ev, dd) {\n        var interval = Date.now() - dragStart;\n        ComponentWrapper.isDrag = interval >= 300;\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          var left = startPos.left + dd.deltaX;\n          var top = startPos.top + dd.deltaY;\n          designer.setComponentPosition(element.id, {\n            left: left,\n            top: top\n          });\n          element.style.transform = '';\n        } else {\n          var _left, _top;\n\n          if (dd.attr.indexOf(\"W\") > -1) _left = startPos.left + dd.deltaX;\n          if (dd.attr.indexOf(\"N\") > -1) _top = startPos.top + dd.deltaY;\n          element.style.transform = '';\n          designer.setComponentPosition(element.id, {\n            left: _left,\n            top: _top\n          });\n          designer.setComponentSize(componentId, rect);\n        }\n      }).click(function (ev) {\n        ComponentWrapper.invokeOnClick(ev, designer, element);\n      });\n\n      var setPosition = function setPosition(dd) {\n        console.log(['dd.offsetX, dd.offsetY', dd.offsetX, dd.offsetY]);\n        console.log(dd);\n        element.style.transform = \"translate(\".concat(dd.deltaX, \"px,\").concat(dd.deltaY, \"px)\");\n      };\n\n      var setTop = function setTop(dd) {\n        element.style.transform = \"translateY(\".concat(dd.deltaY, \"px)\");\n      };\n\n      var setLeft = function setLeft(dd) {\n        element.style.transform = \"translateX(\".concat(dd.deltaX, \"px)\");\n      };\n    }\n  }, {\n    key: \"invokeOnClick\",\n    value: function invokeOnClick(ev, designer, element) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (ComponentWrapper.isDrag) {\n        ComponentWrapper.isDrag = false;\n        return;\n      }\n\n      var elementID = element.id;\n\n      if (!ev.ctrlKey) {\n        designer.selectComponent(element.id);\n        return;\n      }\n\n      var selectedControlIds = designer.selectedComponentIds;\n      console.assert(elementID != \"\");\n\n      if (selectedControlIds.indexOf(elementID) >= 0) {\n        selectedControlIds = selectedControlIds.filter(function (o) {\n          return o != elementID;\n        });\n      } else {\n        selectedControlIds.push(elementID);\n      }\n\n      designer.selectComponents(selectedControlIds);\n    }\n  }]);\n\n  return ComponentWrapper;\n}(React.Component);\n\nexports.ComponentWrapper = ComponentWrapper;\nComponentWrapper.isDrag = false; // export interface ComponentAttribute {\n//     /** 表示组件为容器，可以添加组件 */\n//     container?: boolean,\n//     /** 表示组件可移动 */\n//     movable?: boolean,\n//     showHandler?: boolean,\n//     resize?: boolean,\n// }\n//# sourceMappingURL=component-wrapper.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TextInput = exports.PropEditor = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar PropEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropEditor, _React$Component);\n\n  function PropEditor(props) {\n    _classCallCheck(this, PropEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PropEditor).call(this, props));\n  }\n\n  _createClass(PropEditor, null, [{\n    key: \"dropdown\",\n    value: function dropdown(items, valueType) {\n      return _dropdown(items, valueType);\n    }\n  }, {\n    key: \"textInput\",\n    value: function textInput() {\n      return TextInput;\n    }\n  }]);\n\n  return PropEditor;\n}(React.Component);\n\nexports.PropEditor = PropEditor;\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_PropEditor) {\n  _inherits(TextInput, _PropEditor);\n\n  function TextInput() {\n    _classCallCheck(this, TextInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TextInput).apply(this, arguments));\n  }\n\n  _createClass(TextInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var value = this.props.value;\n      return React.createElement(\"input\", {\n        className: 'form-control',\n        value: value || '',\n        onChange: function onChange(e) {\n          // this.setState({ value: e.target.value })\n          _this.props.updateComponentProp(e.target.value);\n        }\n      });\n    }\n  }]);\n\n  return TextInput;\n}(PropEditor);\n\nexports.TextInput = TextInput;\n\nfunction _dropdown(items, valueType) {\n  var itemsPromise;\n  var textValues = [];\n\n  if (valueType == null && Array.isArray(items)) {\n    valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n\n    for (var i = 0; i < items.length; i++) {\n      textValues[i] = {\n        text: items[i],\n        value: items[i]\n      };\n    }\n  } else if (valueType == null) {\n    valueType = \"string\";\n    var propNames = Object.getOwnPropertyNames(items);\n\n    for (var _i = 0; _i < propNames.length; _i++) {\n      textValues[_i] = {\n        text: items[propNames[_i]],\n        value: propNames[_i]\n      };\n    }\n  } else if (Array.isArray(items)) {\n    textValues = items;\n  } else {\n    itemsPromise = items;\n  }\n\n  var Dropdown =\n  /*#__PURE__*/\n  function (_PropEditor2) {\n    _inherits(Dropdown, _PropEditor2);\n\n    function Dropdown(props) {\n      var _this2;\n\n      _classCallCheck(this, Dropdown);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n      _this2.state = {};\n      return _this2;\n    }\n\n    _createClass(Dropdown, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        return __awaiter(this, void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var _items;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!itemsPromise) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return itemsPromise;\n\n                case 3:\n                  _items = _context.sent;\n                  this.setState({\n                    items: _items\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var items = this.state.items;\n        var value = this.props.value;\n        items = items || textValues;\n        return React.createElement(\"select\", {\n          className: 'form-control',\n          value: value == null ? \"\" : value,\n          onChange: function onChange(e) {\n            var textValue = e.target.value;\n\n            if (valueType == \"number\") {\n              var integerRegex = /^\\d+$/;\n              var floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n              if (integerRegex.test(textValue)) value = parseInt(textValue);else if (floatRegex.test(textValue)) value = parseFloat(textValue);else value = null;\n            } else {\n              value = textValue;\n            }\n\n            _this3.props.updateComponentProp(value);\n          }\n        }, items.map(function (o) {\n          return React.createElement(\"option\", {\n            key: o.value,\n            value: o.value\n          }, o.text);\n        }));\n      }\n    }]);\n\n    return Dropdown;\n  }(PropEditor);\n\n  return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentDataHandler = void 0;\n\nvar _errors = require(\"./errors\");\n\nvar _maishuToolkit = require(\"maishu-toolkit\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ComponentDataHandler =\n/*#__PURE__*/\nfunction () {\n  function ComponentDataHandler(componentData) {\n    _classCallCheck(this, ComponentDataHandler);\n\n    this._components = {};\n    this.componentSelected = _maishuToolkit.Callback.create();\n    this.componentRemoved = _maishuToolkit.Callback.create();\n    this.componentAppend = _maishuToolkit.Callback.create();\n    this.componentUpdated = _maishuToolkit.Callback.create();\n    this.pageDataChanged = _maishuToolkit.Callback.create();\n    this._pageData = componentData;\n    this.initComponentData(this._pageData);\n  }\n  /** 对 pageData 字段补全 */\n\n\n  _createClass(ComponentDataHandler, [{\n    key: \"initComponentData\",\n    value: function initComponentData(componentData) {\n      if (componentData == null) {\n        return;\n      }\n\n      componentData.children = componentData.children || [];\n      ComponentDataHandler.fillComponent(componentData);\n      ComponentDataHandler.setComponetRefProp(componentData, this._components);\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"moveComponent\",\n\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param beforeChildId 组件的前一个子组件编号\r\n     */\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.pageData;\n      console.assert(pageData.children != null);\n      var children = pageData.children; //translateComponentDataChildren(pageData.children);\n\n      this.removeComponentFrom(componentId, children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps(componentProps) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentProps.length; i++) {\n        var _componentProps$i = componentProps[i],\n            componentId = _componentProps$i.componentId,\n            propName = _componentProps$i.propName,\n            value = _componentProps$i.value;\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.componentUpdated.fire(componentDatas);\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      var pageData = this._pageData;\n      if (!pageData) throw _errors.Errors.pageDataIsNull(); // let stack = new Array<ComponentData>();\n      // stack.push(pageData);\n      // while (stack.length > 0) {\n      //     let item = stack.pop();\n      //     if (item == null)\n      //         continue\n      //     if (item.props.id == componentId)\n      //         return item;\n      //     let children = (item.children || []).filter(o => typeof o == 'object') as ComponentData[]\n      //     stack.push(...children);\n      // }\n\n      var componentDatas = ComponentDataHandler.travelComponentData(pageData, function (item) {\n        return item.id == componentId;\n      });\n      return componentDatas[0];\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var controlIndex = null;\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var o = collection[_i2];\n          if (typeof o == \"string\") continue;\n          var children = o.children;\n\n          if (children && children.length > 0) {\n            var isRemoved = this.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"appendComponent\",\n\n    /**\r\n     * 添加控件\r\n     * @param parentId 父控件编号\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw _errors.Errors.argumentNull('parentId');\n      if (!componentData) throw _errors.Errors.argumentNull('childComponent');\n      this.initComponentData(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      }\n\n      this.selectComponents(componentData.id);\n      this.componentAppend.fire(this);\n    }\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param component\r\n     */\n\n  }, {\n    key: \"selectComponent\",\n\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n    value: function selectComponent(componentId) {\n      return this.selectComponents(componentId);\n    }\n    /**\r\n     * 选择指定的控件，一个或多个\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponents\",\n    value: function selectComponents(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var stack = [];\n      stack.push(this._pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        var isSelectedControl = componentIds.indexOf(item.id) >= 0;\n        item.selected = isSelectedControl;\n        item.children.forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      this.componentSelected.fire(this.selectedComponentIds);\n    }\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent(componentId) {\n      return this.removeComponents([componentId]);\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponents\",\n    value: function removeComponents(componentIds) {\n      var _this = this;\n\n      var pageData = this.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n      var children = pageData.children;\n      componentIds.forEach(function (controlId) {\n        _this.removeComponentFrom(controlId, children);\n      });\n      this.componentRemoved.fire(componentIds);\n    }\n  }, {\n    key: \"setComponentPosition\",\n    value: function setComponentPosition(componentId, position) {\n      return this.setComponentsPosition([{\n        componentId: componentId,\n        position: position\n      }]);\n    }\n  }, {\n    key: \"setComponentsPosition\",\n    value: function setComponentsPosition(positions) {\n      var _this2 = this;\n\n      var toUpdateProps = [];\n      positions.forEach(function (o) {\n        var componentId = o.componentId;\n        var _o$position = o.position,\n            left = _o$position.left,\n            top = _o$position.top;\n\n        var componentData = _this2.findComponentData(componentId);\n\n        if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n        var style = componentData.props.style = componentData.props.style || {};\n        if (left) style.left = left;\n        if (top) style.top = top;\n        toUpdateProps.push({\n          componentId: componentId,\n          propName: \"style\",\n          value: style\n        });\n      });\n      this.updateComponentProps(toUpdateProps);\n    }\n    /**\r\n    * 设置控件大小\r\n    * @param componentId 组件编号\r\n    * @param size 组件大小\r\n    */\n\n  }, {\n    key: \"setComponentSize\",\n    value: function setComponentSize(componentId, size) {\n      console.assert(componentId != null);\n      console.assert(size != null);\n      var componentData = this.findComponentData(componentId);\n      if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n      var style = componentData.props.style = componentData.props.style || {};\n      if (size.height) style.height = size.height;\n      if (size.width) style.width = size.width; // this.componentUpdated.fire([componentData])\n\n      this.updateComponentProps([{\n        componentId: componentId,\n        propName: \"style\",\n        value: style\n      }]);\n    }\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this._pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.selected == true) arr.push(item);\n        item.children.forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      return arr;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /**  */\n\n  }, {\n    key: \"components\",\n    get: function get() {\n      return this._components;\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this._pageData;\n    },\n    set: function set(value) {\n      this._pageData = value;\n      this.initComponentData(value);\n      this.pageDataChanged.fire(value);\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"fillComponent\",\n    value: function fillComponent(component) {\n      var namedComponents = {}; // let props: any = component.props = component.props || {};\n      //==================================================\n      // 兼容旧版本代码\n      // if (props.id) {\n      //     component.id = props.id;\n      //     delete props.id;\n      // }\n      // if (props.parentId) {\n      //     component.parentId = props.parentId;\n      //     delete component.parentId;\n      // }\n      // if (props.selected) {\n      //     component.selected = props.selected;\n      // }\n      // if (props.name) {\n      //     component.name = props.name;\n      //     delete props.name;\n      // }\n      // if (props.attr) {\n      //     component.attr = props.attr;\n      //     delete props.attr;\n      // }\n      //==================================================\n\n      if (!component.name) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        component.name = name;\n      }\n\n      if (!component.id) component.id = (0, _maishuToolkit.guid)();\n      component.children = component.children || [];\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      component.children.forEach(function (child) {\n        if (typeof child == \"string\") return true;\n        ComponentDataHandler.fillComponent(child);\n      });\n    }\n  }, {\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData, components) {\n      //=========================================================\n      // 纪录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      ComponentDataHandler.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.props[\"id\"]);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            components[item.type] = components[item.type] || [];\n            components[item.type].push(e);\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      }); //=========================================================\n      // 仅保留 componentIds 中的控件 \n\n      var names = Object.getOwnPropertyNames(components);\n\n      var _loop = function _loop(i) {\n        var typename = names[i];\n        var ids = componentIds[typename] || [];\n        components[typename] = (components[typename] || []).filter(function (o) {\n          return ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0;\n        });\n      };\n\n      for (var i = 0; i < names.length; i++) {\n        _loop(i);\n      } //=========================================================\n\n    }\n  }]);\n\n  return ComponentDataHandler;\n}();\n\nexports.ComponentDataHandler = ComponentDataHandler;\n//# sourceMappingURL=component-data-handler.js.map\n","/*!\n * ~\n *  jueying-core v1.0.2\n * \n *  Copyright (c) 2016-2018, mais.shu <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/component-factory.js\":\n/*!**********************************!*\\\n  !*** ./out/component-factory.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __webpack_require__(/*! react */ \"react\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\nclass CompoenntFactory {\n    constructor(compoenntTypes) {\n        this.compoenntTypes = compoenntTypes;\n    }\n    createComponent(componentData, context) {\n        try {\n            return this._createComponent(componentData, context);\n        }\n        catch (e) {\n            return this.createErrorElement(e);\n        }\n    }\n    /** 创建视图组件 */\n    createViewComponent(props, ...children) {\n        return React.createElement(\"div\", props, ...children);\n    }\n    createErrorElement(err) {\n        // return <div>\n        //     <div>Error:</div>\n        //     <div>{err.message}</div>\n        // </div>\n        return this.createViewComponent(this.createViewComponent(\"Error:\"), this.createViewComponent(err.message));\n    }\n    _createComponent(componentData, context) {\n        if (typeof componentData == \"string\")\n            return componentData;\n        let children = (componentData.children || []).map(c => this._createComponent(c));\n        let props = (componentData.props || {});\n        let defaultProps = { factory: this, context };\n        let name = componentData.typeName;\n        let compoenntType = this.compoenntTypes[name];\n        if (compoenntType == null) {\n            throw errors_1.errors.componentNotExists(name);\n        }\n        let r = React.createElement(compoenntType, props, children);\n        return r;\n    }\n}\nexports.CompoenntFactory = CompoenntFactory;\n//# sourceMappingURL=component-factory.js.map\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errors = {\n    pathFieldRequired(name) {\n        let msg = `Path field of '${name}' component config can not be null or empty.`;\n        return new Error(msg);\n    },\n    canntFindModule(name, path) {\n        let msg = `Can not find component '${name}' in the module, module path is: '${path}'.`;\n        return new Error(msg);\n    },\n    componentNotExists(name) {\n        let msg = `Component '${name}' not exists.`;\n        return new Error(msg);\n    }\n};\n//# sourceMappingURL=errors.js.map\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_factory_1 = __webpack_require__(/*! ./component-factory */ \"./out/component-factory.js\");\nexports.CompoenntFactory = component_factory_1.CompoenntFactory;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*!\n * ~\n *  maishu-jueying-core v1.1.4\n * \n *  Copyright (c) 2016-2018, mais.shu <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/decorators.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/decorators.js\":\n/*!***************************!*\\\n  !*** ./out/decorators.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** 组件标记，用于将指定的组件标记为可被外部加载 */\nfunction component(options) {\n    return function classDecorator(constructor) {\n    };\n}\nexports.component = component;\n//# sourceMappingURL=decorators.js.map\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=decorators.js.map"],"sourceRoot":""}