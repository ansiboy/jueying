{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"react\"","webpack://jueying/./node_modules/maishu-jueying-core/out/register.js","webpack://jueying/./out-es5/errors.js","webpack://jueying/./node_modules/maishu-jueying-core/out/component-container.js","webpack://jueying/./node_modules/maishu-jueying-core/out/parse-component-data.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/index.js","webpack://jueying/./out-es5/common.js","webpack://jueying/./out-es5/component.js","webpack://jueying/./out-es5/property-editor.js","webpack://jueying/./out-es5/page-designer.js","webpack://jueying/./node_modules/maishu-jueying-core/out/errors.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/page.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/page-header.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/page-footer.js","webpack://jueying/./out-es5/style.js","webpack://jueying/./node_modules/maishu-toolkit/out/guid.js","webpack://jueying/./node_modules/maishu-toolkit/out/path.js","webpack://jueying/./node_modules/maishu-toolkit/out/errors.js","webpack://jueying/./node_modules/maishu-toolkit/out/callback.js","webpack://jueying/./node_modules/maishu-toolkit/out/data.js","webpack://jueying/./node_modules/maishu-toolkit/out/url.js","webpack://jueying/./node_modules/maishu-toolkit/out/index.js","webpack://jueying/./out-es5/index.js","webpack://jueying/./node_modules/maishu-dilu/dist/index.js","webpack://jueying/./node_modules/maishu-jueying-core/out/index.js","webpack://jueying/./node_modules/maishu-jueying-core/node_modules/maishu-toolkit/out/callback.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/page-body.js","webpack://jueying/./node_modules/maishu-jueying-core/out/style.js","webpack://jueying/./out-es5/editor-panel.js","webpack://jueying/./out-es5/prop-editor.js","webpack://jueying/./out-es5/component-data-handler.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","defineProperty","registerComponent","componentTypes","errors_1","componentName","componentType","name","errors","argumentNull","_defineProperties","target","props","i","length","descriptor","configurable","writable","Errors","instance","Constructor","TypeError","_classCallCheck","this","protoProps","staticProps","Error","fileName","concat","argumentName","pluginId","componentId","msg","fieldName","ComponentContainer","React","components_1","parse_component_data_1","Component","componentData","createElement","Fragment","id","parseComponentData","PageContext","Consumer","args","_a","children","pageData","filter","o","parentId","className","style","map","renderChild","contextType","register_1","type","componentTypeNotExists","c","PageBody","PageFooter","PageHeader","Page","page_1","page_header_1","page_footer_1","page_body_1","Callback","guid","groupDisplayNames","proptDisplayNames","constants","componentsDir","connectorElementClassName","componentTypeName","componentPosition","s4","Math","floor","random","toString","substring","funcs","Array","func","push","forEach","property_editor_1","maishu_jueying_core_1","result","propEditorInfo","componentPropEditors","propName","display","componentPropEditorDisplay","controlClassName","getPropEditorByArray","propNames","options","editorType","editorDisplay","group","displayName","defaultValue","validation","defaultGroupName","split","typename","classProps","join","typeName","_typeof","obj","Symbol","iterator","constructor","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_construct","Parent","Class","a","apply","Function","_setPrototypeOf","arguments","_toConsumableArray","arr","isArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","_createClass","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","p","ErrorBoundary","PropertyEditor","component_1","page_designer_1","common_1","maishu_dilu_1","_React$Component","_this","state","designer","_this2","commonPropEditorInfos","selectedComponents","_loop","propEditorInfos","getPropEditors","items","propInfo1","propInfo2","propName1","propName2","commonFlatProps","control","controlProps","assign","editors","_loop2","_i","propValue","editorProps","editComponents","updateComponentProp","componentProps","_validator","_validateFields","FormValidator","element","checkElement","updateComponentProps","editor","prop","navPropsNames","_this3","DesignerContext","getEditors","empty","customRender","r","ref","_element","groupEditorsArray","_loop3","groupEditors","g","_React$Component2","_this4","error","info","setState","message","stack","PageDesigner","maishu_toolkit_1","createContext","components","initPageData","item","shift","componentIds","travelComponentData","console","assert","itemRef","fillComponent","setComponetRefProp","component","namedComponents","num","child","ids","getOwnPropertyNames","componentDatas","_componentProps$i","findComponentData","componentIndex","parentControl","splice","selectComponents","focus","selectedComponentIds","isSame","pop","isSelectedControl","indexOf","selected","arr1","_len","_key","removeComponents","_this5","controlId","removeComponentFrom","childComponentIndex","appendComponent","collection","_this6","controlIndex","_i2","pageDataIsNull","keyCode","_this7","tabIndex","onKeyDown","Provider","pathFieldRequired","canntFindModule","path","_components","__classPrivateFieldGet","receiver","privateMap","has","callback_1","super","childComponentCreated","set","fire","childComponents","page","WeakMap","component_container_1","height","visible","defaultProps","removeClassName","appendClassName","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","moveDown","document","setAttribute","innerHTML","head","appendChild","addonClassName","sourceClassName","targetClassName","replace","RegExp","trim","pathContact","paths","str","expectedType","dataSourceCanntInsert","dataSourceCanntDelete","dataSourceCanntUpdate","primaryKeyNull","inserting","inserted","deleting","deleted","updating","updated","selecting","primaryKeys","delete","insert","update","select","index","canInsert","sender","dataItem","executeInsert","then","data","catch","exc","processError","canDelete","checkPrimaryKeys","executeDelete","canUpdate","executeUpdate","theItem","otherItem","pk","selectArguments","executeSelect","dataItems","totalRowCount","undefined","queryResultTypeError","selectResult","method","handled","DataSourceSelectArguments","startRowIndex","maximumRows","parseUrl","url","query","match","pl","search","decode","s","decodeURIComponent","urlParams","exec","pareeUrlQuery","substr","ComponentDataHandler","TextInput","PropEditor","EditorPanel","editor_panel_1","prop_editor_1","style_1","component_data_handler_1","modules","installedModules","__webpack_require__","moduleId","l","m","d","toStringTag","t","mode","__esModule","ns","n","parameterName","fieldElementCanntNull","fieldIndex","elementNotExists","fieldResultExpectBooleanType","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","form","fields","validateOnChanged","elementEvents","field","errorElement","fieldErrorElement","removeProperty","querySelectorAll","getElementsByClassName","errorClassName","fieldElement","nextSibling","parentElement","insertBefore","ps","condition","checkField","checkFieldAsync","all","isAsync","validateFunc","checking","addEventListener","elementType","elements","bindElementEvent","depends","j","dependResult","rules","rule","elementValue","isPass","validate","showElement","elementName","errorText","tagName","inputElement","checked","formValidator_1","rules_1","numericRegex","decimalRegex","emailRegex","ipRegex","urlRegex","mobileRegex","dateRegex","msgs","createValidation","calc","elementValueCompare","otherValue","test","parseFloat","date","validDateArray","validDate","setFullYear","setMonth","setDate","getValidDate","required","matches","otherElement","email","minLength","maxLength","greaterThan","lessThan","equal","ip","mobile","numeric","custom","index_1","marginTop","header","footer","marginBottom","isFixed","isVisible","getElementById","position","validator","checkAsync","valueType","_dropdown","_PropEditor","onChange","itemsPromise","textValues","text","_PropEditor2","Dropdown","regeneratorRuntime","mark","_callee","_items","wrap","_context","prev","sent","stop","textValue","parseInt","componentRemoved","componentAppend","componentUpdated","pageDataChanged","_pageData","initComponentData","itemProps","names"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.registerComponent = exports.componentTypes = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nexports.componentTypes = {};\r\nfunction registerComponent(componentName, componentType) {\r\n    if (componentType == null && typeof componentName == 'function') {\r\n        componentType = componentName;\r\n        componentName = componentType.name;\r\n        componentType['componentName'] = componentName;\r\n    }\r\n    if (!componentName)\r\n        throw errors_1.errors.argumentNull('componentName');\r\n    if (!componentType)\r\n        throw errors_1.errors.argumentNull('componentType');\r\n    exports.componentTypes[componentName] = componentType;\r\n}\r\nexports.registerComponent = registerComponent;\r\n//# sourceMappingURL=register.js.map","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Errors = void 0;\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"fileNotExists\",\n    value: function fileNotExists(fileName) {\n      return new Error(\"File '\".concat(fileName, \"' is not exists.\"));\n    }\n  }, {\n    key: \"argumentNull\",\n    value: function argumentNull(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" is null or empty.\"));\n    }\n  }, {\n    key: \"argumentRangeError\",\n    value: function argumentRangeError(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" range error.\"));\n    }\n  }, {\n    key: \"pageDataIsNull\",\n    value: function pageDataIsNull() {\n      return new Error(\"Page data is null.\");\n    }\n  }, {\n    key: \"toolbarRequiredKey\",\n    value: function toolbarRequiredKey() {\n      return new Error(\"Toolbar has not a key prop.\");\n    }\n  }, {\n    key: \"loadPluginFail\",\n    value: function loadPluginFail(pluginId) {\n      return new Error(\"Load plugin '\".concat(pluginId, \"' fail.\"));\n    }\n  }, {\n    key: \"idRequired\",\n    value: function idRequired() {\n      return new Error(\"Property id is required.\");\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }, {\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"argumentFieldCanntNull\",\n    value: function argumentFieldCanntNull(fieldName, argumentName) {\n      var msg = \"\".concat(fieldName, \" of argument \").concat(argumentName, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentContainer = void 0;\r\nconst React = require(\"react\");\r\nconst components_1 = require(\"./components\");\r\nconst parse_component_data_1 = require(\"./parse-component-data\");\r\n/** 组件容器，实现组件的渲染 */\r\nclass ComponentContainer extends React.Component {\r\n    renderChild(componentData) {\r\n        return React.createElement(React.Fragment, { key: componentData.id }, parse_component_data_1.parseComponentData(componentData));\r\n    }\r\n    render() {\r\n        return React.createElement(components_1.PageContext.Consumer, null, args => {\r\n            var _a;\r\n            let children = ((_a = args.pageData) === null || _a === void 0 ? void 0 : _a.children.filter(o => o.parentId == this.props.id)) || [];\r\n            return React.createElement(\"div\", { className: this.props.className, style: this.props.style }, children.map(o => this.renderChild(o)));\r\n        });\r\n    }\r\n}\r\nexports.ComponentContainer = ComponentContainer;\r\nComponentContainer.contextType = components_1.PageContext;\r\n//# sourceMappingURL=component-container.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parseComponentData = void 0;\r\nconst React = require(\"react\");\r\nconst register_1 = require(\"./register\");\r\nconst errors_1 = require(\"./errors\");\r\nfunction parseComponentData(componentData) {\r\n    let type = register_1.componentTypes[componentData.type];\r\n    if (type == null) {\r\n        throw errors_1.errors.componentTypeNotExists(componentData.type);\r\n    }\r\n    let children = [];\r\n    if (componentData.children != null) {\r\n        children = componentData.children.map(c => typeof c == \"string\" ? c : parseComponentData(c));\r\n    }\r\n    return React.createElement(type, componentData.props, ...children);\r\n}\r\nexports.parseComponentData = parseComponentData;\r\n//# sourceMappingURL=parse-component-data.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageBody = exports.PageFooter = exports.PageHeader = exports.PageContext = exports.Page = void 0;\r\nvar page_1 = require(\"./page\");\r\nObject.defineProperty(exports, \"Page\", { enumerable: true, get: function () { return page_1.Page; } });\r\nObject.defineProperty(exports, \"PageContext\", { enumerable: true, get: function () { return page_1.PageContext; } });\r\nvar page_header_1 = require(\"./page-header\");\r\nObject.defineProperty(exports, \"PageHeader\", { enumerable: true, get: function () { return page_header_1.PageHeader; } });\r\nvar page_footer_1 = require(\"./page-footer\");\r\nObject.defineProperty(exports, \"PageFooter\", { enumerable: true, get: function () { return page_footer_1.PageFooter; } });\r\nvar page_body_1 = require(\"./page-body\");\r\nObject.defineProperty(exports, \"PageBody\", { enumerable: true, get: function () { return page_body_1.PageBody; } });\r\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Callback = exports.guid = exports.groupDisplayNames = exports.proptDisplayNames = exports.constants = void 0;\nexports.constants = {\n  componentsDir: 'components',\n  connectorElementClassName: 'component-container',\n  componentTypeName: 'data-component-name',\n  componentData: 'component-data',\n  componentPosition: \"component-position\"\n};\nexports.proptDisplayNames = {};\nexports.groupDisplayNames = {};\n\nfunction guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nexports.guid = guid;\n\nvar Callback =\n/*#__PURE__*/\nfunction () {\n  function Callback() {\n    _classCallCheck(this, Callback);\n\n    this.funcs = new Array();\n  }\n\n  _createClass(Callback, [{\n    key: \"add\",\n    value: function add(func) {\n      this.funcs.push(func);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(func) {\n      this.funcs = this.funcs.filter(function (o) {\n        return o != func;\n      });\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(args) {\n      this.funcs.forEach(function (o) {\n        return o(args);\n      });\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      return new Callback();\n    }\n  }]);\n\n  return Callback;\n}();\n\nexports.Callback = Callback;\n//# sourceMappingURL=common.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = void 0;\n\nvar property_editor_1 = require(\"./property-editor\");\n\nvar maishu_jueying_core_1 = require(\"maishu-jueying-core\"); // type CreateElementContext = { components: React.Component[], componentTypes: string[] };\n// let defaultGroup: GroupedEditor[\"group\"] = { prop: \"\", displayName: \"\" };\n\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component() {\n    _classCallCheck(this, Component);\n  }\n\n  _createClass(Component, null, [{\n    key: \"getPropEditors\",\n    value: function getPropEditors(componentData) {\n      var componentType = componentData.type;\n      var result = [];\n      var propEditorInfo = this.componentPropEditors[componentType] || [];\n\n      for (var i = 0; i < propEditorInfo.length; i++) {\n        var propName = propEditorInfo[i].propName;\n        var display = Component.componentPropEditorDisplay[\"\".concat(componentType, \".\").concat(propName)];\n        if (display != null && display(componentData) == false) continue;\n        result.push(propEditorInfo[i]);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getPropEditor\",\n    value: function getPropEditor(controlClassName, propName) {\n      return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /** 通过属性数组获取属性的编辑器 */\n\n  }, {\n    key: \"getPropEditorByArray\",\n    value: function getPropEditorByArray(controlClassName, propNames) {\n      var classEditors = this.componentPropEditors[controlClassName] || [];\n      var editor = classEditors.filter(function (o) {\n        return o.propName == propNames;\n      })[0];\n      return editor;\n    }\n  }, {\n    key: \"setPropEditor\",\n    value: function setPropEditor(options) {\n      var componentType = options.componentType,\n          editorType = options.editorType,\n          editorDisplay = options.display,\n          group = options.group,\n          propName = options.propName,\n          displayName = options.displayName,\n          defaultValue = options.defaultValue,\n          validation = options.validation;\n      group = group || property_editor_1.defaultGroupName;\n      propName = propName || \"\";\n      displayName = displayName || propName; // 属性可能为导航属性,例如 style.width\n\n      var propNames = propName.split('.');\n      var className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n      Component.componentPropEditorDisplay[\"\".concat(className, \".\").concat(propName)] = editorDisplay;\n      var classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n\n      for (var i = 0; i < classProps.length; i++) {\n        var propName1 = classProps[i].propName;\n        var propName2 = propNames.join('.');\n\n        if (propName1 == propName2) {\n          classProps[i].editorType = editorType;\n          return;\n        }\n      }\n\n      classProps.push({\n        propName: propName,\n        displayName: displayName,\n        editorType: editorType,\n        group: group,\n        defaultValue: defaultValue,\n        validation: validation\n      });\n    }\n  }, {\n    key: \"register\",\n    value: function register(typeName, componentType) {\n      return maishu_jueying_core_1.registerComponent(typeName, componentType);\n    }\n  }]);\n\n  return Component;\n}();\n\nexports.Component = Component; //==========================================\n// 用于创建 React 的 React.Fragment \n\nComponent.Fragment = \"\"; //==========================================\n\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {};\n//# sourceMappingURL=component.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorBoundary = exports.PropertyEditor = exports.defaultGroupName = void 0;\n\nvar React = require(\"react\");\n\nvar component_1 = require(\"./component\");\n\nvar errors_1 = require(\"./errors\");\n\nvar page_designer_1 = require(\"./page-designer\");\n\nvar common_1 = require(\"./common\");\n\nvar maishu_dilu_1 = require(\"maishu-dilu\");\n\nexports.defaultGroupName = \"\";\n\nvar PropertyEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n\n  function PropertyEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyEditor).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(PropertyEditor, [{\n    key: \"getEditors\",\n    value: function getEditors(designer) {\n      var _this2 = this;\n\n      if (designer == null) {\n        return [];\n      } // 各个控件相同的编辑器\n\n\n      var commonPropEditorInfos = [];\n      var selectedComponents = designer.selectedComponents;\n\n      var _loop = function _loop(i) {\n        var componentData = selectedComponents[i];\n        var propEditorInfos = component_1.Component.getPropEditors(componentData);\n\n        if (i == 0) {\n          commonPropEditorInfos = propEditorInfos || [];\n        } else {\n          var items = [];\n          commonPropEditorInfos.forEach(function (propInfo1) {\n            propEditorInfos.forEach(function (propInfo2) {\n              var propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n\n              var propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n\n              if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                items.push(propInfo1);\n              }\n            });\n          });\n          commonPropEditorInfos = items;\n        }\n      };\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        _loop(i);\n      } // 各个控件相同的属性值\n\n\n      var commonFlatProps = {};\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        var control = selectedComponents[i];\n        var controlProps = Object.assign({}, control.props);\n        delete controlProps.children;\n\n        if (i == 0) {\n          commonFlatProps = controlProps;\n        } else {\n          var obj = {};\n\n          for (var key in commonFlatProps) {\n            if (commonFlatProps[key] == controlProps[key]) obj[key] = controlProps[key];\n          }\n\n          commonFlatProps = obj;\n        }\n      }\n\n      var editors = [];\n\n      var _loop2 = function _loop2(_i) {\n        var propEditorInfo = commonPropEditorInfos[_i];\n        var propName = propEditorInfo.propName;\n        ;\n        var editorType = propEditorInfo.editorType;\n\n        var value = _this2.propValue(propName, commonFlatProps);\n\n        if (value == null) value = propEditorInfo.defaultValue;\n        var editorProps = {\n          value: value,\n          editComponents: selectedComponents,\n          updateComponentProp: function updateComponentProp(value) {\n            var componentProps = selectedComponents.map(function (o) {\n              return {\n                componentId: o.id,\n                propName: propEditorInfo.propName,\n                value: value\n              };\n            });\n\n            if (_this2._validator == null) {\n              _this2._validateFields = commonPropEditorInfos.filter(function (o) {\n                return o.validation != null;\n              }).map(function (o) {\n                return Object.assign(o.validation, {\n                  name: o.propName\n                });\n              });\n              _this2._validator = _construct(maishu_dilu_1.FormValidator, [_this2.element].concat(_toConsumableArray(_this2._validateFields)));\n            }\n\n            if (_this2._validateFields.filter(function (o) {\n              return o.name == propEditorInfo.propName;\n            }).length > 0) _this2._validator.checkElement(propEditorInfo.propName);\n            designer.updateComponentProps(componentProps);\n          }\n        };\n        var editor = React.createElement(editorType, editorProps);\n        editors.push({\n          prop: propEditorInfo.propName,\n          displayName: propEditorInfo.displayName,\n          editor: editor,\n          group: propEditorInfo.group\n        });\n      };\n\n      for (var _i = 0; _i < commonPropEditorInfos.length; _i++) {\n        _loop2(_i);\n      }\n\n      return editors;\n    }\n  }, {\n    key: \"propValue\",\n    value: function propValue(propName, props) {\n      if (!propName) throw errors_1.Errors.argumentNull(\"propName\");\n      if (!props) throw errors_1.Errors.argumentNull(\"props\");\n      var navPropsNames = propName.split(\".\");\n      var obj = props;\n\n      for (var i = 0; i < navPropsNames.length; i++) {\n        obj = obj[navPropsNames[i]];\n        if (obj == null) return null;\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(page_designer_1.DesignerContext.Consumer, null, function (args) {\n        var designer = args.designer;\n        if (designer == null) return null;\n\n        var editors = _this3.getEditors(designer);\n\n        if (editors.length == 0) {\n          var empty = _this3.props.empty;\n          return React.createElement(\"div\", {\n            className: \"text-center\"\n          }, empty);\n        }\n\n        if (_this3.props.customRender) {\n          var items = editors.map(function (o) {\n            return Object.assign({\n              displayName: o.displayName\n            }, o);\n          });\n\n          var r = _this3.props.customRender(designer.selectedComponents, items);\n\n          if (r != null) {\n            return React.createElement(\"div\", {\n              ref: function ref(e) {\n                return _this3._element = e || _this3._element;\n              }\n            }, r);\n          }\n        }\n\n        var groupEditorsArray = [];\n\n        var _loop3 = function _loop3(i) {\n          var group = editors[i].group || exports.defaultGroupName;\n          var groupEditors = groupEditorsArray.filter(function (o) {\n            return o.group == group;\n          })[0];\n\n          if (groupEditors == null) {\n            groupEditors = {\n              group: editors[i].group,\n              editors: []\n            };\n            groupEditorsArray.push(groupEditors);\n          }\n\n          groupEditors.editors.push({\n            prop: editors[i].prop,\n            displayName: editors[i].displayName,\n            editor: editors[i].editor\n          });\n        };\n\n        for (var i = 0; i < editors.length; i++) {\n          _loop3(i);\n        }\n\n        return groupEditorsArray.map(function (g) {\n          return React.createElement(\"div\", {\n            key: g.group,\n            className: \"panel panel-default\",\n            ref: function ref(e) {\n              return _this3._element = e || _this3._element;\n            }\n          }, g.group ? React.createElement(\"div\", {\n            className: \"panel-heading\"\n          }, common_1.groupDisplayNames[g.group] || g.group) : null, React.createElement(\"div\", {\n            className: \"panel-body\"\n          }, g.editors.map(function (o, i) {\n            return React.createElement(\"div\", {\n              key: o.prop,\n              className: \"form-group clearfix\"\n            }, React.createElement(\"label\", null, o.displayName), React.createElement(\"div\", {\n              className: \"control\"\n            }, React.createElement(ErrorBoundary, null, o.editor)));\n          })));\n        });\n      });\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }, {\n    key: \"validator\",\n    get: function get() {\n      return this._validator;\n    }\n  }]);\n\n  return PropertyEditor;\n}(React.Component);\n\nexports.PropertyEditor = PropertyEditor;\nPropertyEditor.contextType = page_designer_1.DesignerContext;\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(ErrorBoundary, _React$Component2);\n\n  function ErrorBoundary(props) {\n    var _this4;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this4.state = {};\n    return _this4;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=property-editor.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PageDesigner = exports.DesignerContext = void 0;\n\nvar React = require(\"react\");\n\nvar errors_1 = require(\"./errors\");\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nexports.DesignerContext = React.createContext({\n  designer: null\n});\n\nvar PageDesigner =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDesigner, _React$Component);\n\n  function PageDesigner(props) {\n    var _this;\n\n    _classCallCheck(this, PageDesigner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDesigner).call(this, props));\n    _this.components = {};\n    var pageData = _this.props.pageData;\n\n    _this.initPageData(pageData);\n\n    _this.state = {\n      pageData: pageData\n    };\n    return _this;\n  }\n\n  _createClass(PageDesigner, [{\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData) {\n      var _this2 = this;\n\n      //=========================================================\n      // 记录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      PageDesigner.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.id);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            _this2.components[item.type] = _this2.components[item.type] || {};\n            _this2.components[item.type][item.id] = e;\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      });\n    }\n  }, {\n    key: \"initPageData\",\n    value: function initPageData(pageData) {\n      if (pageData == null) {\n        return;\n      }\n\n      pageData.children = pageData.children || [];\n      this.fillComponent(pageData);\n      this.setComponetRefProp(pageData);\n    }\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param component\r\n     */\n\n  }, {\n    key: \"fillComponent\",\n    value: function fillComponent(component) {\n      var _this3 = this;\n\n      var namedComponents = {};\n\n      if (!component[\"name\"]) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        component[\"name\"] = name;\n      }\n\n      if (!component.id) component.id = maishu_toolkit_1.guid();\n      component.children = component.children || [];\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      component.children.forEach(function (child) {\n        if (typeof child == \"string\") return true;\n\n        _this3.fillComponent(child);\n      });\n    }\n  }, {\n    key: \"allComponents\",\n    value: function allComponents() {\n      var _this4 = this;\n\n      var r = [];\n\n      var _loop = function _loop(key) {\n        var ids = Object.getOwnPropertyNames(_this4.components[key]);\n        r.push.apply(r, _toConsumableArray(ids.map(function (id) {\n          return _this4.components[key][id];\n        })));\n      };\n\n      for (var key in this.components) {\n        _loop(key);\n      }\n\n      return r;\n    }\n    /** 页面数据 */\n\n  }, {\n    key: \"updateComponentProp\",\n    value: function updateComponentProp(componentId, propName, value) {\n      return this.updateComponentProps([{\n        componentId: componentId,\n        propName: propName,\n        value: value\n      }]);\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps(componentProps) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentProps.length; i++) {\n        var _componentProps$i = componentProps[i],\n            componentId = _componentProps$i.componentId,\n            propName = _componentProps$i.propName,\n            value = _componentProps$i.value;\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.setState({\n        pageData: this.pageData\n      });\n    }\n    /**\r\n     * 添加控件\r\n     * @param parentId 父控件编号\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\n\n  }, {\n    key: \"appendComponent\",\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw errors_1.Errors.argumentNull('parentId');\n      if (!componentData) throw errors_1.Errors.argumentNull('childComponent');\n      this.initPageData(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      }\n\n      this.selectComponents(componentData.id);\n    }\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponent\",\n    value: function selectComponent(componentIds) {\n      this.selectComponents(componentIds); //====================================================\n      // 设置焦点，以便获取键盘事件\n\n      if (this._element) this._element.focus(); //====================================================\n    }\n    /**\r\n     * 选择指定的控件，一个或多个。已经选择的控件取消选择。\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponents\",\n    value: function selectComponents(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var selectedComponentIds = this.selectedComponentIds;\n      if (this.isSame(componentIds, selectedComponentIds)) return;\n      var stack = [];\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        var isSelectedControl = componentIds.indexOf(item.id) >= 0;\n        item.selected = isSelectedControl;\n        (item.children || []).forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      this.setState({\n        pageData: this.pageData\n      });\n    }\n    /** 判断两个字符串数组是否相等 */\n\n  }, {\n    key: \"isSame\",\n    value: function isSame(arr1, arr2) {\n      if (arr1.length != arr2.length) return false;\n\n      for (var i = 0; i < arr1.length; i++) {\n        if (arr2.indexOf(arr1[i]) < 0) return false;\n      }\n\n      return true;\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent() {\n      for (var _len = arguments.length, componentIds = new Array(_len), _key = 0; _key < _len; _key++) {\n        componentIds[_key] = arguments[_key];\n      }\n\n      this.removeComponents(componentIds);\n    }\n  }, {\n    key: \"removeComponents\",\n    value: function removeComponents(componentIds) {\n      var _this5 = this;\n\n      var pageData = this.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n      var children = pageData.children;\n      componentIds.forEach(function (controlId) {\n        _this5.removeComponentFrom(controlId, children);\n      });\n      this.setState({\n        pageData: pageData\n      });\n    }\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param childComponentIndex 组件位置\r\n     */\n\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.pageData;\n      console.assert(pageData.children != null);\n      var children = pageData.children;\n      this.removeComponentFrom(componentId, children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var _this6 = this;\n\n      var controlIndex = null;\n      collection = collection || [];\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        var _loop2 = function _loop2(_i2) {\n          var o = collection[_i2];\n          if (typeof o == \"string\") return \"continue\";\n          var children = o.children || [];\n          children.forEach(function (child) {\n            if (typeof child == \"string\") return true;\n\n            var isRemoved = _this6.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          });\n        };\n\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var _ret = _loop2(_i2);\n\n          if (_ret === \"continue\") continue;\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"findComponentData\",\n\n    /**\r\n     * 通过组件编号获取组件的数据\r\n     * @param componentId 组件编号\r\n     */\n    value: function findComponentData(componentId) {\n      var pageData = this.state.pageData;\n      if (!pageData) throw errors_1.Errors.pageDataIsNull();\n      var componentDatas = PageDesigner.travelComponentData(pageData, function (item) {\n        return item.id == componentId;\n      });\n      return componentDatas[0];\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var DELETE_KEY_CODE = 46;\n\n      if (e.keyCode == DELETE_KEY_CODE) {\n        if (this.selectedComponents.length == 0) return;\n        this.removeComponents(this.selectedComponentIds);\n      }\n    }\n    /**\r\n     * 通过组件名称获取组件实例\r\n     * @param typeName 组件名称\r\n     */\n\n  }, {\n    key: \"findComponetsByTypeName\",\n    value: function findComponetsByTypeName(typeName) {\n      this.components[typeName];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return React.createElement(\"div\", {\n        tabIndex: 0,\n        ref: function ref(e) {\n          return _this7._element = _this7._element || e;\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this7.onKeyDown(e);\n        },\n        className: this.props.className,\n        style: this.props.style\n      }, React.createElement(exports.DesignerContext.Provider, {\n        value: {\n          designer: this\n        }\n      }, this.props.children));\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this.state.pageData;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.selected == true) arr.push(item);\n        (item.children || []).forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      return arr;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = [];\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }]);\n\n  return PageDesigner;\n}(React.Component);\n\nexports.PageDesigner = PageDesigner;\n//# sourceMappingURL=page-designer.js.map\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = void 0;\r\nexports.errors = {\r\n    pathFieldRequired(name) {\r\n        let msg = `Path field of '${name}' component config can not be null or empty.`;\r\n        return new Error(msg);\r\n    },\r\n    canntFindModule(name, path) {\r\n        let msg = `Can not find component '${name}' in the module, module path is: '${path}'.`;\r\n        return new Error(msg);\r\n    },\r\n    componentTypeNotExists(name) {\r\n        let msg = `Component '${name}' not exists.`;\r\n        return new Error(msg);\r\n    },\r\n    argumentNull(name) {\r\n        let msg = `Argument '${name}' can not be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n};\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n};\r\nvar _components;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Page = exports.PageContext = void 0;\r\nconst React = require(\"react\");\r\nconst register_1 = require(\"../register\");\r\n// import { component } from \"./decorators\";\r\nconst parse_component_data_1 = require(\"../parse-component-data\");\r\nconst callback_1 = require(\"maishu-toolkit/out/callback\");\r\nexports.PageContext = React.createContext({});\r\n// @component({ type: Page.typeName })\r\nclass Page extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.childComponentCreated = new callback_1.Callback();\r\n        _components.set(this, {});\r\n    }\r\n    get components() {\r\n        return __classPrivateFieldGet(this, _components);\r\n    }\r\n    render() {\r\n        let pageStyle = {};\r\n        let pageData = this.props.pageData;\r\n        pageData.children.forEach(c => {\r\n            c.props.ref = (e) => {\r\n                if (e == null)\r\n                    return;\r\n                if (__classPrivateFieldGet(this, _components)[c.id] == null)\r\n                    this.childComponentCreated.fire({ component: e, id: c.id });\r\n                __classPrivateFieldGet(this, _components)[c.id] = e || __classPrivateFieldGet(this, _components)[c.id];\r\n            };\r\n        });\r\n        let children = pageData.children.filter(o => o.parentId == pageData.id);\r\n        let childComponents = children.map(o => React.createElement(React.Fragment, { key: o.id }, parse_component_data_1.parseComponentData(o)));\r\n        return React.createElement(\"div\", { className: `${Page.className}`, style: pageStyle },\r\n            React.createElement(exports.PageContext.Provider, { value: { page: this, pageData } }, childComponents));\r\n    }\r\n}\r\nexports.Page = Page;\r\n_components = new WeakMap();\r\nPage.typeName = \"article\";\r\nPage.className = \"page-view\";\r\n//========================================================\r\n// 兼容旧代码\r\nregister_1.registerComponent(\"PageView\", Page);\r\n//========================================================\r\nregister_1.registerComponent(Page.typeName, Page);\r\n//# sourceMappingURL=page.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageHeader = void 0;\r\n// import { component } from \"./decorators\";\r\nconst React = require(\"react\");\r\nconst component_container_1 = require(\"../component-container\");\r\nconst register_1 = require(\"../register\");\r\n// @component({ type: PageHeader.typeName })\r\nclass PageHeader extends React.Component {\r\n    render() {\r\n        let style = this.props.style || {};\r\n        Object.assign({}, style, { height: this.props.height, display: this.props.visible ? \"\" : \"none\" });\r\n        return React.createElement(component_container_1.ComponentContainer, { id: this.props.id, className: PageHeader.className, style: style });\r\n    }\r\n}\r\nexports.PageHeader = PageHeader;\r\nPageHeader.typeName = \"header\";\r\nPageHeader.className = \"header\";\r\nPageHeader.id = \"page-header\";\r\nPageHeader.defaultProps = { height: 50, visible: true, id: PageHeader.id };\r\nregister_1.registerComponent(PageHeader.typeName, PageHeader);\r\n//# sourceMappingURL=page-header.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageFooter = void 0;\r\n// import { component } from \"./decorators\";\r\nconst React = require(\"react\");\r\nconst component_container_1 = require(\"../component-container\");\r\nconst register_1 = require(\"../register\");\r\n// @component({ type: PageFooter.typeName })\r\nclass PageFooter extends React.Component {\r\n    render() {\r\n        let style = this.props.style || {};\r\n        Object.assign({}, style, { height: this.props.height, display: this.props.visible ? \"\" : \"none\" });\r\n        return React.createElement(component_container_1.ComponentContainer, { id: this.props.id, className: PageFooter.className, style: style });\r\n    }\r\n}\r\nexports.PageFooter = PageFooter;\r\nPageFooter.typeName = \"footer\";\r\nPageFooter.className = \"footer\";\r\nPageFooter.id = \"page-footer\";\r\nPageFooter.defaultProps = { id: PageFooter.id, height: 50, visible: true };\r\nregister_1.registerComponent(PageFooter.typeName, PageFooter);\r\n//# sourceMappingURL=page-footer.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeClassName = exports.appendClassName = exports.classNames = void 0;\n\nvar errors_1 = require(\"./errors\");\n\nexports.classNames = {\n  componentSelected: \"component-selected\",\n  emptyTemplates: \"empty-templates\",\n  loadingTemplates: \"loading-templates\",\n  templateSelected: \"template-selected\",\n  templateDialog: \"template-dialog\",\n  emptyDocument: \"empty-document\",\n  component: 'component',\n  componentWrapper: 'component-wrapper',\n  componentPanel: 'component-panel',\n  componentIcon: 'component-icon',\n  placeholder: 'placeholder',\n  editorPanel: 'editor-panel',\n  designer: 'designer',\n  moveDown: 'move-down'\n};\nvar templateDialog = {\n  nameHeight: 40,\n  fontSize: 22\n};\nvar element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = \"\\n            .\".concat(exports.classNames.componentSelected, \" {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \" > :first-child {\\n                border-color: blue;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .resize_handle {\\n                position: absolute;\\n                height: 6px;\\n                width: 6px;\\n                border: 1px solid #89B;\\n                background: #9AC;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .move_handle {\\n                height: 12px;\\n                width: 12px;\\n                top: 6px;\\n                left: 8px;\\n                border: solid 1px black;\\n                position: relative;\\n                margin-top: -12px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                top: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NE,\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                right: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \".SS,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                bottom: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .WW,\\n              .\").concat(exports.classNames.componentSelected, \" .SW {\\n                left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SE,\\n              .\").concat(exports.classNames.componentSelected, \" .NW {\\n                cursor: nw-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                cursor: ne-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .SS {\\n                cursor: n-resize;\\n                left: 50%;\\n                margin-left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .WW {\\n                cursor: e-resize;\\n                top: 50%;\\n                margin-top: -4px;\\n              }\\n            .\").concat(exports.classNames.emptyTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.loadingTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.templateSelected, \" .page-view {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name {\\n                margin-top: -\").concat(templateDialog.nameHeight, \"px;\\n                height: \").concat(templateDialog.nameHeight, \"px;\\n                font-size: \").concat(templateDialog.fontSize, \"px;\\n                text-align: center;\\n                padding-top: 6px;\\n                background-color: black;\\n                opacity: 0.5;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name span {\\n                color: white;\\n            }\\n            .\").concat(exports.classNames.emptyDocument, \" {\\n                text-align: center;\\n                padding: 100px 0;\\n            }\\n            .\").concat(exports.classNames.component, \" > .NW,\\n            .\").concat(exports.classNames.component, \" > .NN,\\n            .\").concat(exports.classNames.component, \" > .NE,\\n            .\").concat(exports.classNames.component, \" > .EE,\\n            .\").concat(exports.classNames.component, \" > .SE,\\n            .\").concat(exports.classNames.component, \" > .SW,\\n            .\").concat(exports.classNames.component, \" > .SS,\\n            .\").concat(exports.classNames.component, \" > .WW {\\n                display: none;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \".component > .NW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NN,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .EE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SS,\\n            .\").concat(exports.classNames.componentSelected, \".component > .WW {\\n                display: block;\\n            }\\n            .\").concat(exports.classNames.placeholder, \" {\\n                min-height: 40px;\\n                width: 100%;\\n            }\\n            .\").concat(exports.classNames.placeholder, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.componentSelected, \".active {\\n                border: 1px solid green;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" {\\n                width: 300px;\\n                background: white;\\n                color: black;\\n                margin: 0;\\n                font-size: 14px;\\n                z-index: 100;\\n                overflow: auto;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" label {\\n                width: 80px;\\n                float: left;\\n                padding: 4px;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .control {\\n                padding-left: 90px;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .empty {\\n                padding-top: 200px;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.designer, \" .error,\\n            .\").concat(exports.classNames.editorPanel, \" .error {\\n                color: red;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" {\\n                background: white;\\n                color: black;\\n                font-size: 14px;\\n                z-index: 100;\\n                list-style: none;\\n                padding: 0;\\n                text-align: center\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" .panel-heading {\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" li {\\n                text-align: center;\\n                padding: 8px;\\n            }\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.moveDown, \" {\\n         \\n            }\\n        \");\n\nif (document.head != null) {\n  document.head.appendChild(element);\n}\n\nfunction appendClassName(element, addonClassName) {\n  if (element == null) throw errors_1.Errors.argumentNull('element');\n  if (!addonClassName) throw errors_1.Errors.argumentNull('addonClassName');\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className;\n  sourceClassName = sourceClassName || '';\n  console.assert(addonClassName != null);\n  if (sourceClassName.indexOf(addonClassName) >= 0) return sourceClassName;\n  var className = \"\".concat(sourceClassName, \" \").concat(addonClassName);\n  if (typeof element != 'string') element.className = className;\n  return className;\n}\n\nexports.appendClassName = appendClassName;\n\nfunction removeClassName(element, targetClassName) {\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className || '';\n  if (sourceClassName.indexOf(targetClassName) < 0) return sourceClassName;\n  sourceClassName = sourceClassName || '';\n  sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n  sourceClassName = sourceClassName.trim();\n  if (typeof element != 'string') element.className = sourceClassName;\n  return sourceClassName;\n}\n\nexports.removeClassName = removeClassName;\n//# sourceMappingURL=style.js.map\n","export function guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\n","/** 连接多个路径 */\r\nexport function pathContact(...paths) {\r\n    paths = paths || [];\r\n    if (paths.length == 0)\r\n        return \"\";\r\n    if (paths.length == 1) {\r\n        return paths[0];\r\n    }\r\n    let str = paths.join(\"\");\r\n    // 将一个或多个的 / 变为一个 /，例如：/shop/test// 转换为 /shop/test/\r\n    str = str.replace(/\\/+/g, '/');\r\n    return str;\r\n}\r\n","export class Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    queryResultTypeError() {\r\n        let msg = 'Type of the query result is expected as Array or DataSourceSelectResult.';\r\n        return new Error(msg);\r\n    }\r\n}\r\nexport let errors = new Errors();\r\n","export class Callback {\r\n    constructor() {\r\n        this.funcs = new Array();\r\n    }\r\n    add(func) {\r\n        this.funcs.push(func);\r\n    }\r\n    remove(func) {\r\n        this.funcs = this.funcs.filter(o => o != func);\r\n    }\r\n    fire(args) {\r\n        this.funcs.forEach(o => o(args));\r\n    }\r\n    static create() {\r\n        return new Callback();\r\n    }\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { errors as baseErrors } from \"./errors\";\r\nimport { Callback } from \"./callback\";\r\nlet errors = Object.assign(baseErrors, {\r\n    dataSourceCanntInsert() {\r\n        return new Error(\"DataSource can not insert.\");\r\n    },\r\n    dataSourceCanntDelete() {\r\n        return new Error(\"DataSource can not delete.\");\r\n    },\r\n    dataSourceCanntUpdate() {\r\n        return new Error(\"DataSource can not update.\");\r\n    },\r\n    primaryKeyNull(key) {\r\n        let msg = `Primary key named '${key}' value is null.`;\r\n        return new Error(msg);\r\n    }\r\n});\r\nexport class DataSource {\r\n    constructor(args) {\r\n        this.inserting = new Callback(); //callbacks1<DataSource<T>, T, number>();\r\n        this.inserted = new Callback();\r\n        this.deleting = new Callback(); //callbacks<DataSource<T>, T>();\r\n        this.deleted = new Callback(); //callbacks<DataSource<T>, T>();\r\n        this.updating = new Callback();\r\n        this.updated = new Callback();\r\n        this.selecting = new Callback();\r\n        this.selected = new Callback(); //callbacks<DataSource<T>, DataSourceSelectResult<T>>();\r\n        this.error = new Callback(); //callbacks<this, DataSourceError>();\r\n        this.args = args;\r\n        this.primaryKeys = args.primaryKeys || [];\r\n    }\r\n    ; //callbacks<DataSource<T>, DataSourceSelectArguments>();\r\n    get canDelete() {\r\n        return this.args.delete != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canInsert() {\r\n        return this.args.insert != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canUpdate() {\r\n        return this.args.update != null && this.primaryKeys.length > 0;\r\n    }\r\n    executeInsert(item, args) {\r\n        return this.args.insert(item, args);\r\n    }\r\n    executeDelete(item, args) {\r\n        return this.args.delete(item, args);\r\n    }\r\n    executeUpdate(item, args) {\r\n        return this.args.update(item, args);\r\n    }\r\n    executeSelect(args) {\r\n        args = args || {};\r\n        return this.args.select(args);\r\n    }\r\n    insert(item, args, index) {\r\n        if (!this.canInsert)\r\n            throw errors.dataSourceCanntInsert();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        if (typeof args == 'number') {\r\n            index = args;\r\n            args = null;\r\n        }\r\n        this.inserting.fire({ sender: this, dataItem: item, index });\r\n        return this.executeInsert(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.inserted.fire({ sender: this, dataItem: item, index });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'insert');\r\n            throw exc;\r\n        });\r\n    }\r\n    delete(item, args) {\r\n        if (!this.canDelete)\r\n            throw errors.dataSourceCanntDelete();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.deleting.fire({ sender: this, dataItem: item });\r\n        return this.executeDelete(item, args).then((data) => {\r\n            this.deleted.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'delete');\r\n            throw exc;\r\n        });\r\n    }\r\n    update(item, args) {\r\n        if (!this.canUpdate)\r\n            throw errors.dataSourceCanntUpdate();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.updating.fire({ sender: this, dataItem: item });\r\n        return this.executeUpdate(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.updated.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch((exc) => {\r\n            this.processError(exc, 'update');\r\n            throw exc;\r\n        });\r\n    }\r\n    isSameItem(theItem, otherItem) {\r\n        if (theItem == null)\r\n            throw errors.argumentNull('theItem');\r\n        if (otherItem == null)\r\n            throw errors.argumentNull('otherItem');\r\n        if (this.primaryKeys.length == 0)\r\n            return theItem == otherItem;\r\n        this.checkPrimaryKeys(theItem);\r\n        this.checkPrimaryKeys(otherItem);\r\n        for (let pk of this.primaryKeys) {\r\n            if (theItem[pk] != otherItem[pk])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    checkPrimaryKeys(item) {\r\n        for (let key in item) {\r\n            if (item[key] == null && this.primaryKeys.indexOf(key) >= 0)\r\n                throw errors.primaryKeyNull(key);\r\n        }\r\n    }\r\n    select(args) {\r\n        args = args || {};\r\n        // fireCallback(this.selecting, this, args);\r\n        this.selecting.fire({ sender: this, selectArguments: args });\r\n        return this.executeSelect(args).then((data) => {\r\n            let dataItems;\r\n            let totalRowCount;\r\n            if (Array.isArray(data)) {\r\n                dataItems = data;\r\n                totalRowCount = data.length;\r\n            }\r\n            else if (data.dataItems !== undefined && data.totalRowCount !== undefined) {\r\n                dataItems = data.dataItems;\r\n                totalRowCount = data.totalRowCount;\r\n            }\r\n            else {\r\n                throw errors.queryResultTypeError();\r\n            }\r\n            this.selected.fire({ sender: this, selectResult: { totalRowCount, dataItems } });\r\n            return { totalRowCount, dataItems };\r\n        }).catch(exc => {\r\n            this.processError(exc, 'select');\r\n            throw exc;\r\n        });\r\n    }\r\n    processError(exc, method) {\r\n        exc.method = method;\r\n        this.error.fire({ sender: this, error: exc });\r\n        if (!exc.handled)\r\n            throw exc;\r\n    }\r\n}\r\nexport class DataSourceSelectArguments {\r\n    constructor() {\r\n        this.startRowIndex = 0;\r\n        this.maximumRows = 2147483647;\r\n    }\r\n}\r\nexport class ArrayDataSource extends DataSource {\r\n    constructor(items) {\r\n        super({\r\n            select(args) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    if (args.sortExpression) {\r\n                    }\r\n                    let dataItems = items.slice(args.startRowIndex, args.startRowIndex + args.maximumRows);\r\n                    let result = { dataItems, totalRowCount: items.length };\r\n                    return result;\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n// }\r\n","export function parseUrl(url) {\r\n    let i = url.indexOf(\"?\");\r\n    if (i < 0)\r\n        return {};\r\n    let query = url.substr(i + 1);\r\n    return pareeUrlQuery(query);\r\n}\r\nfunction pareeUrlQuery(query) {\r\n    let match, pl = /\\+/g, // Regex for replacing addition symbol with a space\r\n    search = /([^&=]+)=?([^&]*)/g, decode = function (s) {\r\n        return decodeURIComponent(s.replace(pl, \" \"));\r\n    };\r\n    let urlParams = {};\r\n    while (match = search.exec(query))\r\n        urlParams[decode(match[1])] = decode(match[2]);\r\n    return urlParams;\r\n}\r\n","export { guid } from \"./guid\";\r\nexport { pathContact } from \"./path\";\r\nexport { Errors, errors } from \"./errors\";\r\nexport { Callback } from \"./callback\";\r\nexport { DataSource, DataSourceSelectArguments } from \"./data\";\r\nexport { parseUrl } from \"./url\";\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentDataHandler = exports.classNames = exports.TextInput = exports.PropEditor = exports.DesignerContext = exports.PageDesigner = exports.EditorPanel = exports.Component = exports.groupDisplayNames = void 0;\n\nvar common_1 = require(\"./common\");\n\nObject.defineProperty(exports, \"groupDisplayNames\", {\n  enumerable: true,\n  get: function get() {\n    return common_1.groupDisplayNames;\n  }\n});\n\nvar component_1 = require(\"./component\");\n\nObject.defineProperty(exports, \"Component\", {\n  enumerable: true,\n  get: function get() {\n    return component_1.Component;\n  }\n});\n\nvar editor_panel_1 = require(\"./editor-panel\");\n\nObject.defineProperty(exports, \"EditorPanel\", {\n  enumerable: true,\n  get: function get() {\n    return editor_panel_1.EditorPanel;\n  }\n});\n\nvar page_designer_1 = require(\"./page-designer\");\n\nObject.defineProperty(exports, \"PageDesigner\", {\n  enumerable: true,\n  get: function get() {\n    return page_designer_1.PageDesigner;\n  }\n});\nObject.defineProperty(exports, \"DesignerContext\", {\n  enumerable: true,\n  get: function get() {\n    return page_designer_1.DesignerContext;\n  }\n});\n\nvar prop_editor_1 = require(\"./prop-editor\");\n\nObject.defineProperty(exports, \"PropEditor\", {\n  enumerable: true,\n  get: function get() {\n    return prop_editor_1.PropEditor;\n  }\n});\nObject.defineProperty(exports, \"TextInput\", {\n  enumerable: true,\n  get: function get() {\n    return prop_editor_1.TextInput;\n  }\n});\n\nvar style_1 = require(\"./style\");\n\nObject.defineProperty(exports, \"classNames\", {\n  enumerable: true,\n  get: function get() {\n    return style_1.classNames;\n  }\n});\n\nvar component_data_handler_1 = require(\"./component-data-handler\");\n\nObject.defineProperty(exports, \"ComponentDataHandler\", {\n  enumerable: true,\n  get: function get() {\n    return component_data_handler_1.ComponentDataHandler;\n  }\n});\n//# sourceMappingURL=index.js.map\n","/*!\r\n * \r\n *  maishu-dilu v1.7.1\r\n *  https://github.com/ansiboy/dilu\r\n *  \r\n *  Copyright (c) 2016-2018, shu mai <ansiboy@163.com>\r\n *  Licensed under the MIT License.\r\n * \r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dilu\"] = factory();\n\telse\n\t\troot[\"dilu\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// namespace dilu {\r\nexports.errors = {\r\n    argumentNull(parameterName) {\r\n        let msg = `Parameter ${parameterName} can not be null or empty.`;\r\n        return new Error(msg);\r\n    },\r\n    elementValidateRuleNotSet(element) {\r\n        let msg = `元素'${element.name}'没有设置验证规则`;\r\n        return new Error(msg);\r\n    },\r\n    fieldElementCanntNull(fieldIndex) {\r\n        // if (fieldIndex != null)\r\n        let msg = fieldIndex != null ?\r\n            `The element value in the field cannt be null, field index is ${fieldIndex}.` :\r\n            `The element in the field is null`;\r\n        return new Error(msg);\r\n    },\r\n    elementNotExists(name) {\r\n        let msg = `Element ${name} is not exits in the form.`;\r\n        return new Error(msg);\r\n    },\r\n    fieldResultExpectBooleanType(name) {\r\n        let msg = `Result of ${name} field is expected boolean.`;\r\n        return new Error(msg);\r\n    }\r\n};\r\n// }\r\n\n\n/***/ }),\n\n/***/ \"./out/formValidator.js\":\n/*!******************************!*\\\n  !*** ./out/formValidator.js ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\r\n/**\r\n * 表单验证器，用于对表单中的字段进行验证\r\n */\r\nclass FormValidator {\r\n    constructor(form, ...fields) {\r\n        /** 输入框的值发生改变，是否重新校验该输入框的值，默认为 true */\r\n        this.validateOnChanged = true;\r\n        if (!form)\r\n            throw errors_1.errors.argumentNull('form');\r\n        this.fields = fields || [];\r\n        this.form = form;\r\n        this.elementEvents = {};\r\n    }\r\n    appendField(field) {\r\n        this.fields.push(field);\r\n    }\r\n    /**\r\n     * 清除表单的错误信息\r\n     */\r\n    clearErrors() {\r\n        this.fields.map(o => o.errorElement)\r\n            .filter(o => o != null)\r\n            .forEach(o => o.style.display = 'none');\r\n    }\r\n    /**\r\n     * 清除表单的指定元素错误信息\r\n     * @param name 指定的元素名称\r\n     */\r\n    clearElementError(name) {\r\n        if (!name)\r\n            throw errors_1.errors.argumentNull('name');\r\n        let fields = this.fields.filter(o => o.name == name);\r\n        for (let field of fields) {\r\n            let errorElement = this.fieldErrorElement(field);\r\n            errorElement.style.display = 'none';\r\n        }\r\n    }\r\n    /**\r\n     * 设置表单的指定元素错误信息\r\n     * @param name 指定的元素名称\r\n     * @param error 错误信息\r\n     */\r\n    setElementError(name, error) {\r\n        if (!name)\r\n            throw errors_1.errors.argumentNull('name');\r\n        if (!error)\r\n            throw errors_1.errors.argumentNull('error');\r\n        let fields = this.fields.filter(o => o.name == name);\r\n        for (let field of fields) {\r\n            let errorElement = this.fieldErrorElement(field);\r\n            errorElement.style.removeProperty('display');\r\n            errorElement.innerHTML = error;\r\n        }\r\n    }\r\n    fieldElement(field) {\r\n        let name = field.name;\r\n        let element = this.form.querySelectorAll(`[name='${name}']`)[0];\r\n        if (element == null)\r\n            throw errors_1.errors.elementNotExists(name);\r\n        return element;\r\n    }\r\n    fieldErrorElement(field) {\r\n        if (!field.errorElement) {\r\n            let errorElement = this.form.getElementsByClassName(`${FormValidator.errorClassName} ${field.name}`)[0];\r\n            if (!errorElement) {\r\n                let element = this.fieldElement(field);\r\n                errorElement = document.createElement(\"span\");\r\n                errorElement.className = FormValidator.errorClassName;\r\n                errorElement.style.display = 'none';\r\n                if (element.nextSibling)\r\n                    element.parentElement.insertBefore(errorElement, element.nextSibling);\r\n                else\r\n                    element.parentElement.appendChild(errorElement);\r\n            }\r\n            field.errorElement = errorElement;\r\n        }\r\n        return field.errorElement;\r\n        // return errorElement;\r\n    }\r\n    /**\r\n     * 验证字段\r\n     */\r\n    check() {\r\n        let ps = new Array();\r\n        for (let i = 0; i < this.fields.length; i++) {\r\n            let field = this.fields[i];\r\n            let element = this.fieldElement(field);\r\n            if (field.condition && field.condition(element) == false)\r\n                continue;\r\n            let p = this.checkField(field);\r\n            ps.push(p);\r\n        }\r\n        let result = ps.filter(o => o == false).length == 0;\r\n        return result;\r\n    }\r\n    /**\r\n     * 异步验证字段\r\n     */\r\n    checkAsync() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let ps = new Array();\r\n            for (let i = 0; i < this.fields.length; i++) {\r\n                let field = this.fields[i];\r\n                let element = this.fieldElement(field);\r\n                if (field.condition && field.condition(element) == false)\r\n                    continue;\r\n                let p = this.checkFieldAsync(field);\r\n                ps.push(p);\r\n            }\r\n            let checkResults = yield Promise.all(ps);\r\n            let result = checkResults.filter(o => o == false).length == 0;\r\n            return result;\r\n        });\r\n    }\r\n    bindElementEvent(field, isAsync) {\r\n        if (this.elementEvents[field.name]) {\r\n            return;\r\n        }\r\n        let element = this.fieldElement(field);\r\n        let validateFunc = (() => {\r\n            let checking = false;\r\n            return () => {\r\n                if (checking)\r\n                    return;\r\n                checking = true;\r\n                // isAsync ? this.checkFieldAsync(field) : this.checkField(field);\r\n                if (isAsync) {\r\n                    this.checkFieldAsync(field)\r\n                        .then(() => checking = false)\r\n                        .catch(() => checking = false);\r\n                }\r\n                else {\r\n                    this.checkField(field);\r\n                    checking = false;\r\n                }\r\n            };\r\n        })();\r\n        if (this.validateOnChanged) {\r\n            element.addEventListener('change', validateFunc);\r\n            let elementType = element.type || \"text\";\r\n            if (elementType == \"text\" || elementType == \"password\") {\r\n                element.addEventListener('keyup', validateFunc);\r\n            }\r\n            else if (elementType == \"radio\") {\r\n                let name = element.name;\r\n                let elements = this.form.querySelectorAll(`[name='${name}']`);\r\n                for (let i = 0; i < elements.length; i++) {\r\n                    if (elements[i] == element) {\r\n                        continue;\r\n                    }\r\n                    elements[i].addEventListener(\"change\", validateFunc);\r\n                }\r\n            }\r\n        }\r\n        this.elementEvents[field.name] = true;\r\n    }\r\n    checkField(field) {\r\n        this.bindElementEvent(field, false);\r\n        let element = this.fieldElement(field);\r\n        let depends = field.depends || [];\r\n        for (let j = 0; j < depends.length; j++) {\r\n            let dependResult = depends[j](element);\r\n            if (typeof dependResult == 'object') {\r\n                throw new Error('Please use checkAsync method.');\r\n            }\r\n            let dependIsOK = dependResult;\r\n            if (!dependIsOK)\r\n                return false;\r\n        }\r\n        for (let j = 0; j < field.rules.length; j++) {\r\n            let rule = field.rules[j];\r\n            let element = this.fieldElement(field);\r\n            if (element == null)\r\n                throw errors_1.errors.fieldElementCanntNull();\r\n            let value = this.elementValue(element);\r\n            let isPass = rule.validate(value);\r\n            if (typeof isPass == 'object') {\r\n                throw new Error('Please use checkAsync method.');\r\n            }\r\n            this.showElement(!isPass, field, rule, element);\r\n            if (!isPass)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    checkFieldAsync(field) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.bindElementEvent(field, true);\r\n            let element = this.fieldElement(field);\r\n            let depends = field.depends || [];\r\n            for (let j = 0; j < depends.length; j++) {\r\n                let dependResult = depends[j](element);\r\n                if (typeof dependResult == 'boolean') {\r\n                    dependResult = Promise.resolve(dependResult);\r\n                }\r\n                let dependIsOK = yield dependResult;\r\n                if (!dependIsOK)\r\n                    return false;\r\n            }\r\n            for (let j = 0; j < field.rules.length; j++) {\r\n                let rule = field.rules[j];\r\n                let element = this.fieldElement(field);\r\n                if (element == null)\r\n                    throw errors_1.errors.fieldElementCanntNull();\r\n                let value = this.elementValue(element);\r\n                let p = rule.validate(value);\r\n                if (typeof p == 'boolean') {\r\n                    p = Promise.resolve(p);\r\n                }\r\n                let isPass = yield p;\r\n                this.showElement(!isPass, field, rule, element);\r\n                if (!isPass)\r\n                    return false;\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    showElement(display, field, rule, element) {\r\n        let errorElement = this.fieldErrorElement(field);\r\n        console.assert(errorElement != null, 'errorElement cannt be null.');\r\n        if (rule.error != null) {\r\n            errorElement = field.errorElement;\r\n            let name = this.elementName(element);\r\n            let errorText = typeof rule.error == 'string' ? rule.error : rule.error() || '';\r\n            errorElement.innerHTML = errorText.replace('%s', name);\r\n        }\r\n        if (display) {\r\n            errorElement.style.removeProperty('display');\r\n        }\r\n        else {\r\n            errorElement.style.display = 'none';\r\n        }\r\n    }\r\n    /**\r\n     * 异步验证 HTML 元素\r\n     * @param name HTML 元素名称\r\n     */\r\n    checkElementAsync(name) {\r\n        let field = this.fields.filter(o => o.name == name)[0];\r\n        if (!field)\r\n            throw errors_1.errors.elementNotExists(name);\r\n        return this.checkFieldAsync(field);\r\n    }\r\n    /**\r\n     * 同步验证 HTML 元素\r\n     * @param name HTML 元素名称\r\n     */\r\n    checkElement(name) {\r\n        let field = this.fields.filter(o => o.name == name)[0];\r\n        if (!field)\r\n            throw errors_1.errors.elementNotExists(name);\r\n        return this.checkField(field);\r\n    }\r\n    elementValue(element) {\r\n        if (element.tagName == \"TEXTAREA\") {\r\n            return element.value;\r\n        }\r\n        let inputElement = element;\r\n        if (inputElement.type == \"radio\") {\r\n            let elements = this.form.querySelectorAll(`[name='${inputElement.name}']`);\r\n            for (let i = 0; i < elements.length; i++) {\r\n                if (elements[i].checked) {\r\n                    return elements[i].value;\r\n                }\r\n            }\r\n            return \"\";\r\n        }\r\n        return element.value;\r\n    }\r\n    elementName(element) {\r\n        if (element.tagName == \"TEXTAREA\") {\r\n            return element.name;\r\n        }\r\n        return element.name;\r\n    }\r\n}\r\nexports.FormValidator = FormValidator;\r\nFormValidator.errorClassName = 'validationMessage';\r\n// }\r\n\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar formValidator_1 = __webpack_require__(/*! ./formValidator */ \"./out/formValidator.js\");\r\nexports.FormValidator = formValidator_1.FormValidator;\r\nvar rules_1 = __webpack_require__(/*! ./rules */ \"./out/rules.js\");\r\nexports.rules = rules_1.rules;\r\n\n\n/***/ }),\n\n/***/ \"./out/rules.js\":\n/*!**********************!*\\\n  !*** ./out/rules.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// namespace dilu {\r\nvar ruleRegex = /^(.+?)\\[(.+)\\]$/, numericRegex = /^[0-9]+$/, integerRegex = /^\\-?[0-9]+$/, decimalRegex = /^\\-?[0-9]*\\.?[0-9]+$/, emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/, alphaRegex = /^[a-z]+$/i, alphaNumericRegex = /^[a-z0-9]+$/i, alphaDashRegex = /^[a-z0-9_\\-]+$/i, naturalRegex = /^[0-9]+$/i, naturalNoZeroRegex = /^[1-9][0-9]*$/i, ipRegex = /^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i, base64Regex = /[^a-zA-Z0-9\\/\\+=]/i, numericDashRegex = /^[\\d\\-\\s]+$/, urlRegex = /^((http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)|)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/, mobileRegex = /^1[34578]\\d{9}$/, dateRegex = /\\d{4}-\\d{1,2}-\\d{1,2}/;\r\nlet msgs = {\r\n    required: '%s不能为空',\r\n    matches: '%s与%s不匹配',\r\n    \"default\": 'The %s field is still set to default, please change.',\r\n    equal: '%s和%s必须相同',\r\n    email: '不是有效的邮箱地址',\r\n    valid_emails: 'The %s field must contain all valid email addresses.',\r\n    minLength: '%s至少包含%s个字符',\r\n    maxLength: '%s不能超过%s字符',\r\n    exact_length: 'The %s field must be exactly %s characters in length.',\r\n    greater_than: 'The %s field must contain a number greater than %s.',\r\n    less_than: 'The %s field must contain a number less than %s.',\r\n    alpha: 'The %s field must only contain alphabetical characters.',\r\n    alpha_numeric: 'The %s field must only contain alpha-numeric characters.',\r\n    alpha_dash: 'The %s field must only contain alpha-numeric characters, underscores, and dashes.',\r\n    numeric: '请数入数字',\r\n    integer: 'The %s field must contain an integer.',\r\n    decimal: 'The %s field must contain a decimal number.',\r\n    is_natural: 'The %s field must contain only positive numbers.',\r\n    is_natural_no_zero: 'The %s field must contain a number greater than zero.',\r\n    ip: 'The %s field must contain a valid IP.',\r\n    valid_base64: 'The %s field must contain a base64 string.',\r\n    valid_credit_card: 'The %s field must contain a valid credit card number.',\r\n    is_file_type: 'The %s field must contain only %s files.',\r\n    valid_url: 'The %s field must contain a valid URL.',\r\n    greater_than_date: 'The %s field must contain a more recent date than %s.',\r\n    less_than_date: 'The %s field must contain an older date than %s.',\r\n    greater_than_or_equal_date: 'The %s field must contain a date that\\'s at least as recent as %s.',\r\n    less_than_or_equal_date: 'The %s field must contain a date that\\'s %s or older.',\r\n    mobile: '请输入正确的手机号码',\r\n    custom: '请输入正确制',\r\n};\r\nfunction createValidation(validate, error) {\r\n    return {\r\n        validate: validate,\r\n        error: error\r\n    };\r\n}\r\nfunction calc(value) {\r\n    if (typeof value == 'function') {\r\n        return value();\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * 表单验证规则\r\n */\r\nexports.rules = {\r\n    /**\r\n     * 验证必填字段\r\n     * @param error 错误提示文字\r\n     */\r\n    required(error) {\r\n        let validate = (value) => value != '';\r\n        return createValidation(validate, error || msgs.required);\r\n    },\r\n    /**\r\n     * 验证两个字段值是否相等\r\n     * @param otherElement 另外一个字段\r\n     * @param error 错误提示文字\r\n     */\r\n    matches(otherElement, error) {\r\n        var validate = (value) => value == otherElement.value;\r\n        return createValidation(validate, error || msgs.required);\r\n    },\r\n    /**\r\n     * 验证邮箱\r\n     * @param error 错误提示文字\r\n     */\r\n    email(error) {\r\n        var validate = (value) => emailRegex.test(value);\r\n        return createValidation(validate, error || msgs.required);\r\n    },\r\n    /**\r\n     * 验证字段最小长度\r\n     * @param length 最小长度\r\n     * @param error 错误提示文字\r\n     */\r\n    minLength(length, error) {\r\n        var validate = (value) => (value || '').length >= calc(length);\r\n        return createValidation(validate, error || msgs.minLength);\r\n    },\r\n    /**\r\n     * 验证字段的最大长度\r\n     * @param length 最大长度\r\n     * @param error 错误提示文字\r\n     */\r\n    maxLength(length, error) {\r\n        var validate = (value) => (value || '').length <= calc(length);\r\n        return createValidation(validate, error || msgs.matches);\r\n    },\r\n    /**\r\n     * 验证字段大于指定的值\r\n     * @param value 指定的值\r\n     * @param error 错误提示文字\r\n     */\r\n    greaterThan(value, error) {\r\n        var validate = (o) => elementValueCompare(o, calc(value)) == 'greaterThan';\r\n        return createValidation(validate, error || msgs.greater_than);\r\n    },\r\n    /**\r\n     * 验证字段小于指定的值\r\n     * @param value 指定的值\r\n     * @param error 错误提示文字\r\n     */\r\n    lessThan(value, error) {\r\n        var validate = (o) => elementValueCompare(o, calc(value)) == 'lessThan';\r\n        return createValidation(validate, error || msgs.less_than);\r\n    },\r\n    /**\r\n     * 验证字段等于指定的值\r\n     * @param value 指定的值\r\n     * @param error 错误提示文字\r\n     */\r\n    equal(value, error) {\r\n        var validate = (o) => elementValueCompare(o, calc(value)) == 'equal';\r\n        return createValidation(validate, error || msgs.equal);\r\n    },\r\n    /**\r\n     * 验证字段为 IP\r\n     * @param error 错误提示文字\r\n     */\r\n    ip(error) {\r\n        var validate = (value) => ipRegex.test(value);\r\n        return createValidation(validate, error || msgs.ip);\r\n    },\r\n    /**\r\n     * 验证字段为 URL\r\n     * @param error 错误提示文字\r\n     */\r\n    url(error) {\r\n        var validate = (value) => urlRegex.test(value);\r\n        return createValidation(validate, error || msgs.valid_url);\r\n    },\r\n    /**\r\n     * 验证字段为手机号码\r\n     * @param error 错误提示文字\r\n     */\r\n    mobile(error) {\r\n        var validate = (value) => mobileRegex.test(value);\r\n        return createValidation(validate, error || msgs.mobile);\r\n    },\r\n    /**\r\n     * 验证字段为数字\r\n     * @param error 错误提示文字\r\n     */\r\n    numeric(error) {\r\n        var validate = (value) => numericRegex.test(value);\r\n        return createValidation(validate, error || msgs.numeric);\r\n    },\r\n    /**\r\n     * 自定义验证\r\n     * @param validate 自定义验证的方法\r\n     * @param error 错误提示文字\r\n     */\r\n    custom(validate, error) {\r\n        return createValidation(validate, error || msgs.custom);\r\n    }\r\n};\r\nfunction elementValueCompare(value, otherValue) {\r\n    let elementValue;\r\n    if (typeof otherValue == 'number') {\r\n        elementValue = decimalRegex.test(value) ? parseFloat(value) : null;\r\n    }\r\n    else if (typeof otherValue == 'string') {\r\n        elementValue = value;\r\n    }\r\n    else {\r\n        elementValue = getValidDate(value);\r\n    }\r\n    if (elementValue < otherValue)\r\n        return 'lessThan';\r\n    else if (elementValue > otherValue)\r\n        return 'greaterThan';\r\n    else\r\n        return 'equal';\r\n}\r\n/**\r\n * private function _getValidDate: helper function to convert a string date to a Date object\r\n * @param date (String) must be in format yyyy-mm-dd or use keyword: today\r\n * @returns {Date} returns false if invalid\r\n */\r\nfunction getValidDate(date) {\r\n    if (!date.match('today') && !date.match(dateRegex)) {\r\n        return null;\r\n    }\r\n    var validDate = new Date(), validDateArray;\r\n    if (!date.match('today')) {\r\n        validDateArray = date.split('-');\r\n        validDate.setFullYear(validDateArray[0]);\r\n        validDate.setMonth(validDateArray[1] - 1);\r\n        validDate.setDate(validDateArray[2]);\r\n    }\r\n    return validDate;\r\n}\r\n;\r\n// }\r\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentContainer = exports.PageBody = exports.PageFooter = exports.PageHeader = exports.Page = exports.componentTypes = exports.registerComponent = exports.parseComponentData = void 0;\r\nvar parse_component_data_1 = require(\"./parse-component-data\");\r\nObject.defineProperty(exports, \"parseComponentData\", { enumerable: true, get: function () { return parse_component_data_1.parseComponentData; } });\r\nvar register_1 = require(\"./register\");\r\nObject.defineProperty(exports, \"registerComponent\", { enumerable: true, get: function () { return register_1.registerComponent; } });\r\nObject.defineProperty(exports, \"componentTypes\", { enumerable: true, get: function () { return register_1.componentTypes; } });\r\nvar index_1 = require(\"./components/index\");\r\nObject.defineProperty(exports, \"Page\", { enumerable: true, get: function () { return index_1.Page; } });\r\nObject.defineProperty(exports, \"PageHeader\", { enumerable: true, get: function () { return index_1.PageHeader; } });\r\nObject.defineProperty(exports, \"PageFooter\", { enumerable: true, get: function () { return index_1.PageFooter; } });\r\nObject.defineProperty(exports, \"PageBody\", { enumerable: true, get: function () { return index_1.PageBody; } });\r\nvar component_container_1 = require(\"./component-container\");\r\nObject.defineProperty(exports, \"ComponentContainer\", { enumerable: true, get: function () { return component_container_1.ComponentContainer; } });\r\nrequire(\"./style\");\r\n//# sourceMappingURL=index.js.map","export class Callback {\r\n    constructor() {\r\n        this.funcs = new Array();\r\n    }\r\n    add(func) {\r\n        this.funcs.push(func);\r\n    }\r\n    remove(func) {\r\n        this.funcs = this.funcs.filter(o => o != func);\r\n    }\r\n    fire(args) {\r\n        this.funcs.forEach(o => o(args));\r\n    }\r\n    static create() {\r\n        return new Callback();\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageBody = void 0;\r\n// import { component } from \"./decorators\";\r\nconst React = require(\"react\");\r\nconst component_container_1 = require(\"../component-container\");\r\nconst page_1 = require(\"./page\");\r\nconst page_header_1 = require(\"./page-header\");\r\nconst page_footer_1 = require(\"./page-footer\");\r\nconst register_1 = require(\"../register\");\r\n// @component({ type: PageBody.typeName })\r\nclass PageBody extends React.Component {\r\n    render() {\r\n        return React.createElement(page_1.PageContext.Consumer, null, args => {\r\n            let style = { marginTop: 0 };\r\n            if (args.pageData != null) {\r\n                let header = args.pageData.children.filter(o => o.type == page_header_1.PageHeader.typeName)[0];\r\n                let footer = args.pageData.children.filter(o => o.type == page_footer_1.PageFooter.typeName)[0];\r\n                if (header != null && header.props.visible) {\r\n                    let p = header.props;\r\n                    style.marginTop = p.height;\r\n                    style.height = `calc(100% - ${p.height}px)`;\r\n                }\r\n                if (footer != null && footer.props.visible) {\r\n                    let p = footer.props;\r\n                    style.marginBottom = p.height;\r\n                    style.height = `calc(100% - ${style.marginTop + p.height}px)`;\r\n                }\r\n            }\r\n            style.display = this.props.visible ? \"\" : \"none\";\r\n            return React.createElement(component_container_1.ComponentContainer, Object.assign({ className: PageBody.className }, this.props, { style: style }));\r\n        });\r\n    }\r\n}\r\nexports.PageBody = PageBody;\r\nPageBody.typeName = \"section\";\r\nPageBody.className = \"body\";\r\nPageBody.id = \"page-body\";\r\nPageBody.defaultProps = { id: PageBody.id, visible: true };\r\nPageBody.contextType = page_1.PageContext;\r\nregister_1.registerComponent(PageBody.typeName, PageBody);\r\n//# sourceMappingURL=page-body.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isFixed = exports.isVisible = void 0;\r\nconst components_1 = require(\"./components\");\r\nlet elementId = \"maishu-jueying-core-style\";\r\nif (!document.getElementById(elementId) && document.head != null) {\r\n    let element = document.createElement('style');\r\n    element.type = 'text/css';\r\n    element.id = elementId;\r\n    document.head.appendChild(element);\r\n    element.innerHTML = `\r\n    .${components_1.Page.className} {\r\n        width   : 100%;\r\n        height  : 100%;\r\n        position: absolute;\r\n    }\r\n    \r\n    .${components_1.Page.className} .${components_1.PageBody.className} {\r\n        overflow-y: auto;\r\n        overflow-x: hidden;\r\n        height  : 100%;\r\n    }\r\n    \r\n    .${components_1.Page.className} .${components_1.PageBody.className}::-webkit-scrollbar-track-piece {\r\n        background-color: #fff;\r\n    }\r\n    \r\n    .${components_1.Page.className} .${components_1.PageBody.className}::-webkit-scrollbar {\r\n        width: 4px;\r\n    }\r\n    \r\n    .${components_1.Page.className} .${components_1.PageBody.className}::-webkit-scrollbar-thumb {\r\n        background: #999;\r\n    }\r\n    \r\n    .${components_1.Page.className} .${components_1.PageHeader.className} {\r\n        position: absolute;\r\n        top     : 0px;\r\n        width   : 100%;\r\n    }\r\n    \r\n    .${components_1.Page.className} .${components_1.PageFooter.className} {\r\n        position: absolute;\r\n        bottom  : 0px;\r\n        width   : 100%;\r\n        margin  : 0;\r\n    }\r\n    `;\r\n}\r\nfunction isVisible(style) {\r\n    if (!style.display)\r\n        return true;\r\n    return style.display != \"none\";\r\n}\r\nexports.isVisible = isVisible;\r\nfunction isFixed(style) {\r\n    return style.position == \"fixed\" || style.position == \"absolute\";\r\n}\r\nexports.isFixed = isFixed;\r\n//# sourceMappingURL=style.js.map","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EditorPanel = void 0;\n\nvar React = require(\"react\");\n\nvar property_editor_1 = require(\"./property-editor\");\n\nvar style_1 = require(\"./style\");\n\nvar EditorPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditorPanel, _React$Component);\n\n  function EditorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EditorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditorPanel).call(this, props));\n    _this.state = {\n      componentDatas: []\n    };\n    return _this;\n  }\n  /** 对输入进行验证 */\n\n\n  _createClass(EditorPanel, [{\n    key: \"validateInputs\",\n    value: function validateInputs() {\n      return this.editor.validator.checkAsync();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty;\n      empty = empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n      return React.createElement(\"div\", {\n        className: \"\".concat(style_1.classNames.editorPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.element = e || _this2.element;\n        }\n      }, React.createElement(property_editor_1.PropertyEditor, {\n        ref: function ref(e) {\n          return _this2.editor = e || _this2.editor;\n        },\n        empty: empty,\n        customRender: this.props.customRender\n      }));\n    }\n  }]);\n\n  return EditorPanel;\n}(React.Component);\n\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TextInput = exports.PropEditor = void 0;\n\nvar React = require(\"react\");\n\nvar PropEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropEditor, _React$Component);\n\n  function PropEditor(props) {\n    _classCallCheck(this, PropEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PropEditor).call(this, props));\n  }\n\n  _createClass(PropEditor, null, [{\n    key: \"dropdown\",\n    value: function dropdown(items, valueType) {\n      return _dropdown(items, valueType);\n    }\n  }, {\n    key: \"textInput\",\n    value: function textInput() {\n      return TextInput;\n    }\n  }]);\n\n  return PropEditor;\n}(React.Component);\n\nexports.PropEditor = PropEditor;\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_PropEditor) {\n  _inherits(TextInput, _PropEditor);\n\n  function TextInput() {\n    _classCallCheck(this, TextInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TextInput).apply(this, arguments));\n  }\n\n  _createClass(TextInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var value = this.props.value;\n      return React.createElement(\"input\", {\n        className: 'form-control',\n        value: value || '',\n        onChange: function onChange(e) {\n          // this.setState({ value: e.target.value })\n          _this.props.updateComponentProp(e.target.value);\n        }\n      });\n    }\n  }]);\n\n  return TextInput;\n}(PropEditor);\n\nexports.TextInput = TextInput;\n\nfunction _dropdown(items, valueType) {\n  var itemsPromise;\n  var textValues = [];\n\n  if (valueType == null && Array.isArray(items)) {\n    valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n\n    for (var i = 0; i < items.length; i++) {\n      textValues[i] = {\n        text: items[i],\n        value: items[i]\n      };\n    }\n  } else if (valueType == null) {\n    valueType = \"string\";\n    var propNames = Object.getOwnPropertyNames(items);\n\n    for (var _i = 0; _i < propNames.length; _i++) {\n      textValues[_i] = {\n        text: items[propNames[_i]],\n        value: propNames[_i]\n      };\n    }\n  } else if (Array.isArray(items)) {\n    textValues = items;\n  } else {\n    itemsPromise = items;\n  }\n\n  var Dropdown =\n  /*#__PURE__*/\n  function (_PropEditor2) {\n    _inherits(Dropdown, _PropEditor2);\n\n    function Dropdown(props) {\n      var _this2;\n\n      _classCallCheck(this, Dropdown);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n      _this2.state = {};\n      return _this2;\n    }\n\n    _createClass(Dropdown, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        return __awaiter(this, void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var _items;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!itemsPromise) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return itemsPromise;\n\n                case 3:\n                  _items = _context.sent;\n                  this.setState({\n                    items: _items\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var items = this.state.items;\n        var value = this.props.value;\n        items = items || textValues;\n        return React.createElement(\"select\", {\n          className: 'form-control',\n          value: value == null ? \"\" : value,\n          onChange: function onChange(e) {\n            var textValue = e.target.value;\n\n            if (valueType == \"number\") {\n              var integerRegex = /^\\d+$/;\n              var floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n              if (integerRegex.test(textValue)) value = parseInt(textValue);else if (floatRegex.test(textValue)) value = parseFloat(textValue);else value = null;\n            } else {\n              value = textValue;\n            }\n\n            _this3.props.updateComponentProp(value);\n          }\n        }, items.map(function (o) {\n          return React.createElement(\"option\", {\n            key: o.value,\n            value: o.value\n          }, o.text);\n        }));\n      }\n    }]);\n\n    return Dropdown;\n  }(PropEditor);\n\n  return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map\n","\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentDataHandler = void 0;\n\nvar errors_1 = require(\"./errors\");\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nvar ComponentDataHandler =\n/*#__PURE__*/\nfunction () {\n  function ComponentDataHandler(componentData) {\n    _classCallCheck(this, ComponentDataHandler);\n\n    this._components = {};\n    this.componentSelected = maishu_toolkit_1.Callback.create();\n    this.componentRemoved = maishu_toolkit_1.Callback.create();\n    this.componentAppend = maishu_toolkit_1.Callback.create();\n    this.componentUpdated = maishu_toolkit_1.Callback.create();\n    this.pageDataChanged = maishu_toolkit_1.Callback.create();\n    this._pageData = componentData;\n    this.initComponentData(this._pageData);\n  }\n  /** 对 pageData 字段补全 */\n\n\n  _createClass(ComponentDataHandler, [{\n    key: \"initComponentData\",\n    value: function initComponentData(componentData) {\n      if (componentData == null) {\n        return;\n      }\n\n      componentData.children = componentData.children || [];\n      ComponentDataHandler.fillComponent(componentData);\n      ComponentDataHandler.setComponetRefProp(componentData, this._components);\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"moveComponent\",\n\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param beforeChildId 组件的前一个子组件编号\r\n     */\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.pageData;\n      console.assert(pageData.children != null);\n      var children = pageData.children; //translateComponentDataChildren(pageData.children);\n\n      this.removeComponentFrom(componentId, children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps(componentProps) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentProps.length; i++) {\n        var _componentProps$i = componentProps[i],\n            componentId = _componentProps$i.componentId,\n            propName = _componentProps$i.propName,\n            value = _componentProps$i.value;\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.componentUpdated.fire(componentDatas);\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      var pageData = this._pageData;\n      if (!pageData) throw errors_1.Errors.pageDataIsNull(); // let stack = new Array<ComponentData>();\n      // stack.push(pageData);\n      // while (stack.length > 0) {\n      //     let item = stack.pop();\n      //     if (item == null)\n      //         continue\n      //     if (item.props.id == componentId)\n      //         return item;\n      //     let children = (item.children || []).filter(o => typeof o == 'object') as ComponentData[]\n      //     stack.push(...children);\n      // }\n\n      var componentDatas = ComponentDataHandler.travelComponentData(pageData, function (item) {\n        return item.id == componentId;\n      });\n      return componentDatas[0];\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var controlIndex = null;\n      collection = collection || [];\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var o = collection[_i2];\n          if (typeof o == \"string\") continue;\n          var children = o.children;\n\n          if (children && children.length > 0) {\n            var isRemoved = this.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"appendComponent\",\n\n    /**\r\n     * 添加控件\r\n     * @param parentId 父控件编号\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw errors_1.Errors.argumentNull('parentId');\n      if (!componentData) throw errors_1.Errors.argumentNull('childComponent');\n      this.initComponentData(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      }\n\n      this.selectComponents(componentData.id);\n      this.componentAppend.fire(this);\n    }\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param component\r\n     */\n\n  }, {\n    key: \"selectComponent\",\n\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n    value: function selectComponent(componentId) {\n      return this.selectComponents(componentId);\n    }\n    /**\r\n     * 选择指定的控件，一个或多个\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponents\",\n    value: function selectComponents(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var stack = [];\n      stack.push(this._pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item == null || typeof item == \"string\") continue;\n        var isSelectedControl = componentIds.indexOf(item.id) >= 0;\n        item.selected = isSelectedControl;\n        (item.children || []).forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      this.componentSelected.fire(this.selectedComponentIds);\n    }\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent(componentId) {\n      return this.removeComponents([componentId]);\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponents\",\n    value: function removeComponents(componentIds) {\n      var _this = this;\n\n      var pageData = this.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n      var children = pageData.children;\n      componentIds.forEach(function (controlId) {\n        _this.removeComponentFrom(controlId, children);\n      });\n      this.componentRemoved.fire(componentIds);\n    }\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this._pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.selected == true) arr.push(item);\n        (item.children || []).forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      return arr;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /**  */\n\n  }, {\n    key: \"components\",\n    get: function get() {\n      return this._components;\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this._pageData;\n    },\n    set: function set(value) {\n      this._pageData = value;\n      this.initComponentData(value);\n      this.pageDataChanged.fire(value);\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"fillComponent\",\n    value: function fillComponent(component) {\n      var namedComponents = {}; // let props: any = component.props = component.props || {};\n      //==================================================\n      // 兼容旧版本代码\n      // if (props.id) {\n      //     component.id = props.id;\n      //     delete props.id;\n      // }\n      // if (props.parentId) {\n      //     component.parentId = props.parentId;\n      //     delete component.parentId;\n      // }\n      // if (props.selected) {\n      //     component.selected = props.selected;\n      // }\n      // if (props.name) {\n      //     component.name = props.name;\n      //     delete props.name;\n      // }\n      // if (props.attr) {\n      //     component.attr = props.attr;\n      //     delete props.attr;\n      // }\n      //==================================================\n\n      if (!component[\"name\"]) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        component[\"name\"] = name;\n      }\n\n      if (!component.id) component.id = maishu_toolkit_1.guid();\n      component.children = component.children || [];\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      component.children.forEach(function (child) {\n        if (typeof child == \"string\") return true;\n        ComponentDataHandler.fillComponent(child);\n      });\n    }\n  }, {\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData, components) {\n      //=========================================================\n      // 纪录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      ComponentDataHandler.travelComponentData(pageData).forEach(function (item) {\n        var itemProps = item.props || {};\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.id);\n        var itemRef = itemProps.ref;\n\n        itemProps.ref = function (e) {\n          if (e != null) {\n            components[item.type] = components[item.type] || [];\n            components[item.type].push(e);\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      }); //=========================================================\n      // 仅保留 componentIds 中的控件 \n\n      var names = Object.getOwnPropertyNames(components);\n\n      var _loop = function _loop(i) {\n        var typename = names[i];\n        var ids = componentIds[typename] || [];\n        components[typename] = (components[typename] || []).filter(function (o) {\n          return ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0;\n        });\n      };\n\n      for (var i = 0; i < names.length; i++) {\n        _loop(i);\n      } //=========================================================\n\n    }\n  }]);\n\n  return ComponentDataHandler;\n}();\n\nexports.ComponentDataHandler = ComponentDataHandler;\n//# sourceMappingURL=component-data-handler.js.map\n"],"sourceRoot":""}