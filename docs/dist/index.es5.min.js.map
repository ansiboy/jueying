{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"react\"","webpack://jueying/./out-es5/errors.js","webpack://jueying/./out-es5/common.js","webpack://jueying/./out-es5/component.js","webpack://jueying/./out-es5/property-editor.js","webpack://jueying/./out-es5/page-designer.js","webpack://jueying/./out-es5/style.js","webpack://jueying/./out-es5/index.js","webpack://jueying/external \"maishu-jueying-core\"","webpack://jueying/./out-es5/editor-panel.js","webpack://jueying/./out-es5/prop-editor.js","webpack://jueying/./node_modules/maishu-toolkit/out/guid.js","webpack://jueying/./node_modules/maishu-toolkit/out/path.js","webpack://jueying/./node_modules/maishu-toolkit/out/errors.js","webpack://jueying/./node_modules/maishu-toolkit/out/callback.js","webpack://jueying/./node_modules/maishu-toolkit/out/data.js","webpack://jueying/./node_modules/maishu-toolkit/out/url.js","webpack://jueying/./node_modules/maishu-toolkit/out/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__8__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","Errors","instance","Constructor","TypeError","_classCallCheck","this","protoProps","staticProps","Error","fileName","concat","argumentName","pluginId","componentId","componentName","msg","fieldName","constants","componentsDir","connectorElementClassName","componentTypeName","componentData","componentPosition","proptDisplayNames","groupDisplayNames","guid","s4","Math","floor","random","toString","substring","Callback","funcs","Array","func","push","filter","o","args","forEach","property_editor_1","maishu_jueying_core_1","Component","componentType","type","result","propEditorInfo","componentPropEditors","propName","display","componentPropEditorDisplay","controlClassName","getPropEditorByArray","propNames","options","editorType","editorDisplay","group","displayName","defaultValue","defaultGroupName","split","className","typename","name","classProps","join","typeName","registerComponent","Fragment","_typeof","obj","Symbol","iterator","constructor","_createClass","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","component_1","errors_1","page_designer_1","common_1","PropertyEditor","_React$Component","_this","_element","state","designer","_this2","commonPropEditorInfos","selectedComponents","_loop","propEditorInfos","getPropEditors","items","propInfo1","propInfo2","propName1","propName2","commonFlatProps","control","controlProps","assign","children","editors","_loop2","_i","propValue","editorProps","editComponents","updateComponentProp","componentProps","map","id","updateComponentProps","editor","createElement","prop","argumentNull","navPropsNames","_this3","DesignerContext","Consumer","getEditors","empty","customRender","r","groupEditorsArray","_loop3","groupEditors","g","ErrorBoundary","contextType","_React$Component2","_this4","error","info","setState","message","stack","_toConsumableArray","arr","isArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","maishu_toolkit_1","createContext","PageDesigner","components","pageData","initPageData","item","shift","apply","componentIds","travelComponentData","console","assert","itemRef","ref","e","fillComponent","setComponetRefProp","component","namedComponents","num","child","ids","getOwnPropertyNames","componentDatas","_componentProps$i","findComponentData","parentId","componentIndex","parentControl","splice","selectComponents","focus","selectedComponentIds","isSame","pop","isSelectedControl","indexOf","selected","arr1","_len","arguments","_key","removeComponents","_this5","controlId","removeComponentFrom","childComponentIndex","appendComponent","collection","_this6","controlIndex","_i2","pageDataIsNull","keyCode","_this7","tabIndex","onKeyDown","style","Provider","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","moveDown","element","document","setAttribute","innerHTML","head","appendChild","appendClassName","addonClassName","sourceClassName","removeClassName","targetClassName","replace","RegExp","trim","editor_panel_1","EditorPanel","prop_editor_1","PropEditor","TextInput","style_1","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","valueType","_dropdown","_PropEditor","onChange","itemsPromise","textValues","text","_PropEditor2","Dropdown","regeneratorRuntime","mark","_callee","_items","wrap","_context","prev","sent","stop","textValue","test","parseInt","parseFloat","pathContact","paths","str","expectedType","errors","dataSourceCanntInsert","dataSourceCanntDelete","dataSourceCanntUpdate","primaryKeyNull","inserting","inserted","deleting","deleted","updating","updated","selecting","primaryKeys","delete","insert","update","select","index","canInsert","fire","sender","dataItem","executeInsert","data","catch","exc","processError","canDelete","checkPrimaryKeys","executeDelete","canUpdate","executeUpdate","theItem","otherItem","pk","selectArguments","executeSelect","dataItems","totalRowCount","undefined","queryResultTypeError","selectResult","method","handled","DataSourceSelectArguments","startRowIndex","maximumRows","parseUrl","url","query","match","pl","search","decode","s","decodeURIComponent","urlParams","exec","pareeUrlQuery","substr"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"maishu-jueying-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"maishu-jueying-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"react\"), require(\"maishu-jueying-core\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"react\"], root[\"maishu-jueying-core\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__8__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"fileNotExists\",\n    value: function fileNotExists(fileName) {\n      return new Error(\"File '\".concat(fileName, \"' is not exists.\"));\n    }\n  }, {\n    key: \"argumentNull\",\n    value: function argumentNull(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" is null or empty.\"));\n    }\n  }, {\n    key: \"argumentRangeError\",\n    value: function argumentRangeError(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" range error.\"));\n    }\n  }, {\n    key: \"pageDataIsNull\",\n    value: function pageDataIsNull() {\n      return new Error(\"Page data is null.\");\n    }\n  }, {\n    key: \"toolbarRequiredKey\",\n    value: function toolbarRequiredKey() {\n      return new Error(\"Toolbar has not a key prop.\");\n    }\n  }, {\n    key: \"loadPluginFail\",\n    value: function loadPluginFail(pluginId) {\n      return new Error(\"Load plugin '\".concat(pluginId, \"' fail.\"));\n    }\n  }, {\n    key: \"idRequired\",\n    value: function idRequired() {\n      return new Error(\"Property id is required.\");\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }, {\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"argumentFieldCanntNull\",\n    value: function argumentFieldCanntNull(fieldName, argumentName) {\n      var msg = \"\".concat(fieldName, \" of argument \").concat(argumentName, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.constants = {\n  componentsDir: 'components',\n  connectorElementClassName: 'component-container',\n  componentTypeName: 'data-component-name',\n  componentData: 'component-data',\n  componentPosition: \"component-position\"\n};\nexports.proptDisplayNames = {};\nexports.groupDisplayNames = {};\n\nfunction guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nexports.guid = guid;\n\nvar Callback =\n/*#__PURE__*/\nfunction () {\n  function Callback() {\n    _classCallCheck(this, Callback);\n\n    this.funcs = new Array();\n  }\n\n  _createClass(Callback, [{\n    key: \"add\",\n    value: function add(func) {\n      this.funcs.push(func);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(func) {\n      this.funcs = this.funcs.filter(function (o) {\n        return o != func;\n      });\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(args) {\n      this.funcs.forEach(function (o) {\n        return o(args);\n      });\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      return new Callback();\n    }\n  }]);\n\n  return Callback;\n}();\n\nexports.Callback = Callback;\n//# sourceMappingURL=common.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar property_editor_1 = require(\"./property-editor\");\n\nvar maishu_jueying_core_1 = require(\"maishu-jueying-core\"); // type CreateElementContext = { components: React.Component[], componentTypes: string[] };\n// let defaultGroup: GroupedEditor[\"group\"] = { prop: \"\", displayName: \"\" };\n\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component() {\n    _classCallCheck(this, Component);\n  }\n\n  _createClass(Component, null, [{\n    key: \"getPropEditors\",\n    value: function getPropEditors(componentData) {\n      var componentType = componentData.type;\n      var result = [];\n      var propEditorInfo = this.componentPropEditors[componentType] || [];\n\n      for (var i = 0; i < propEditorInfo.length; i++) {\n        var propName = propEditorInfo[i].propName;\n        var display = Component.componentPropEditorDisplay[\"\".concat(componentType, \".\").concat(propName)];\n        if (display != null && display(componentData) == false) continue;\n        result.push(propEditorInfo[i]);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getPropEditor\",\n    value: function getPropEditor(controlClassName, propName) {\n      return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /** 通过属性数组获取属性的编辑器 */\n\n  }, {\n    key: \"getPropEditorByArray\",\n    value: function getPropEditorByArray(controlClassName, propNames) {\n      var classEditors = this.componentPropEditors[controlClassName] || [];\n      var editor = classEditors.filter(function (o) {\n        return o.propName == propNames;\n      })[0];\n      return editor;\n    }\n  }, {\n    key: \"setPropEditor\",\n    value: function setPropEditor(options) {\n      var componentType = options.componentType,\n          editorType = options.editorType,\n          editorDisplay = options.display,\n          group = options.group,\n          propName = options.propName,\n          displayName = options.displayName,\n          defaultValue = options.defaultValue;\n      group = group || property_editor_1.defaultGroupName;\n      propName = propName || \"\";\n      displayName = displayName || propName; // 属性可能为导航属性,例如 style.width\n\n      var propNames = propName.split('.');\n      var className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n      Component.componentPropEditorDisplay[\"\".concat(className, \".\").concat(propName)] = editorDisplay;\n      var classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n\n      for (var i = 0; i < classProps.length; i++) {\n        var propName1 = classProps[i].propName;\n        var propName2 = propNames.join('.');\n\n        if (propName1 == propName2) {\n          classProps[i].editorType = editorType;\n          return;\n        }\n      }\n\n      classProps.push({\n        propName: propName,\n        displayName: displayName,\n        editorType: editorType,\n        group: group,\n        defaultValue: defaultValue\n      });\n    }\n  }, {\n    key: \"register\",\n    value: function register(typeName, componentType) {\n      return maishu_jueying_core_1.registerComponent(typeName, componentType);\n    }\n  }]);\n\n  return Component;\n}(); //==========================================\n// 用于创建 React 的 React.Fragment \n\n\nComponent.Fragment = \"\"; //==========================================\n\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {};\nexports.Component = Component;\n//# sourceMappingURL=component.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar component_1 = require(\"./component\");\n\nvar errors_1 = require(\"./errors\");\n\nvar page_designer_1 = require(\"./page-designer\");\n\nvar common_1 = require(\"./common\");\n\nexports.defaultGroupName = \"\";\n\nvar PropertyEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n\n  function PropertyEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyEditor).call(this, props));\n    _this._element = null;\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(PropertyEditor, [{\n    key: \"getEditors\",\n    value: function getEditors(designer) {\n      var _this2 = this;\n\n      if (designer == null) {\n        return [];\n      } // 各个控件相同的编辑器\n\n\n      var commonPropEditorInfos = [];\n      var selectedComponents = designer.selectedComponents;\n\n      var _loop = function _loop(i) {\n        var componentData = selectedComponents[i];\n        var propEditorInfos = component_1.Component.getPropEditors(componentData);\n\n        if (i == 0) {\n          commonPropEditorInfos = propEditorInfos || [];\n        } else {\n          var items = [];\n          commonPropEditorInfos.forEach(function (propInfo1) {\n            propEditorInfos.forEach(function (propInfo2) {\n              var propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n\n              var propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n\n              if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                items.push(propInfo1);\n              }\n            });\n          });\n          commonPropEditorInfos = items;\n        }\n      };\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        _loop(i);\n      } // 各个控件相同的属性值\n\n\n      var commonFlatProps = {};\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        var control = selectedComponents[i];\n        var controlProps = Object.assign({}, control.props);\n        delete controlProps.children;\n\n        if (i == 0) {\n          commonFlatProps = controlProps;\n        } else {\n          var obj = {};\n\n          for (var key in commonFlatProps) {\n            if (commonFlatProps[key] == controlProps[key]) obj[key] = controlProps[key];\n          }\n\n          commonFlatProps = obj;\n        }\n      }\n\n      var editors = [];\n\n      var _loop2 = function _loop2(_i) {\n        var propEditorInfo = commonPropEditorInfos[_i];\n        var propName = propEditorInfo.propName;\n        ;\n        var editorType = propEditorInfo.editorType;\n\n        var value = _this2.propValue(propName, commonFlatProps);\n\n        if (value == null) value = propEditorInfo.defaultValue;\n        var editorProps = {\n          value: value,\n          editComponents: selectedComponents,\n          updateComponentProp: function updateComponentProp(value) {\n            var componentProps = selectedComponents.map(function (o) {\n              return {\n                componentId: o.id,\n                propName: propEditorInfo.propName,\n                value: value\n              };\n            });\n            designer.updateComponentProps(componentProps);\n          }\n        };\n        var editor = React.createElement(editorType, editorProps);\n        editors.push({\n          prop: propEditorInfo.propName,\n          displayName: propEditorInfo.displayName,\n          editor: editor,\n          group: propEditorInfo.group\n        });\n      };\n\n      for (var _i = 0; _i < commonPropEditorInfos.length; _i++) {\n        _loop2(_i);\n      }\n\n      return editors;\n    }\n  }, {\n    key: \"propValue\",\n    value: function propValue(propName, props) {\n      if (!propName) throw errors_1.Errors.argumentNull(\"propName\");\n      if (!props) throw errors_1.Errors.argumentNull(\"props\");\n      var navPropsNames = propName.split(\".\");\n      var obj = props;\n\n      for (var i = 0; i < navPropsNames.length; i++) {\n        obj = obj[navPropsNames[i]];\n        if (obj == null) return null;\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(page_designer_1.DesignerContext.Consumer, null, function (args) {\n        var designer = args.designer;\n        if (designer == null) return null;\n\n        var editors = _this3.getEditors(designer);\n\n        if (editors.length == 0) {\n          var empty = _this3.props.empty;\n          return React.createElement(\"div\", {\n            className: \"text-center\"\n          }, empty);\n        }\n\n        if (_this3.props.customRender) {\n          var items = editors.map(function (o) {\n            return Object.assign({\n              displayName: o.displayName\n            }, o);\n          });\n\n          var r = _this3.props.customRender(designer.selectedComponents, items);\n\n          if (r != null) {\n            return r;\n          }\n        }\n\n        var groupEditorsArray = [];\n\n        var _loop3 = function _loop3(i) {\n          var group = editors[i].group || exports.defaultGroupName;\n          var groupEditors = groupEditorsArray.filter(function (o) {\n            return o.group == group;\n          })[0];\n\n          if (groupEditors == null) {\n            groupEditors = {\n              group: editors[i].group,\n              editors: []\n            };\n            groupEditorsArray.push(groupEditors);\n          }\n\n          groupEditors.editors.push({\n            prop: editors[i].prop,\n            displayName: editors[i].displayName,\n            editor: editors[i].editor\n          });\n        };\n\n        for (var i = 0; i < editors.length; i++) {\n          _loop3(i);\n        }\n\n        return groupEditorsArray.map(function (g) {\n          return React.createElement(\"div\", {\n            key: g.group,\n            className: \"panel panel-default\"\n          }, g.group ? React.createElement(\"div\", {\n            className: \"panel-heading\"\n          }, common_1.groupDisplayNames[g.group] || g.group) : null, React.createElement(\"div\", {\n            className: \"panel-body\"\n          }, g.editors.map(function (o, i) {\n            return React.createElement(\"div\", {\n              key: o.prop,\n              className: \"form-group clearfix\"\n            }, React.createElement(\"label\", null, o.displayName), React.createElement(\"div\", {\n              className: \"control\"\n            }, React.createElement(ErrorBoundary, null, o.editor)));\n          })));\n        });\n      });\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }]);\n\n  return PropertyEditor;\n}(React.Component);\n\nexports.PropertyEditor = PropertyEditor;\nPropertyEditor.contextType = page_designer_1.DesignerContext;\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(ErrorBoundary, _React$Component2);\n\n  function ErrorBoundary(props) {\n    var _this4;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this4.state = {};\n    return _this4;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=property-editor.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar errors_1 = require(\"./errors\");\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nexports.DesignerContext = React.createContext({\n  designer: null\n});\n\nvar PageDesigner =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDesigner, _React$Component);\n\n  function PageDesigner(props) {\n    var _this;\n\n    _classCallCheck(this, PageDesigner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDesigner).call(this, props));\n    _this.components = {};\n    var pageData = _this.props.pageData;\n\n    _this.initPageData(pageData);\n\n    _this.state = {\n      pageData: pageData\n    };\n    return _this;\n  }\n\n  _createClass(PageDesigner, [{\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData) {\n      var _this2 = this;\n\n      //=========================================================\n      // 记录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      PageDesigner.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.id);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            _this2.components[item.type] = _this2.components[item.type] || {};\n            _this2.components[item.type][item.id] = e;\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      });\n    }\n  }, {\n    key: \"initPageData\",\n    value: function initPageData(pageData) {\n      if (pageData == null) {\n        return;\n      }\n\n      pageData.children = pageData.children || [];\n      this.fillComponent(pageData);\n      this.setComponetRefProp(pageData);\n    }\n    /**\r\n    * 对组件及其子控件进行命名\r\n    * @param component\r\n    */\n\n  }, {\n    key: \"fillComponent\",\n    value: function fillComponent(component) {\n      var _this3 = this;\n\n      var namedComponents = {};\n\n      if (!component.name) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        component.name = name;\n      }\n\n      if (!component.id) component.id = maishu_toolkit_1.guid();\n      component.children = component.children || [];\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      component.children.forEach(function (child) {\n        if (typeof child == \"string\") return true;\n\n        _this3.fillComponent(child);\n      });\n    }\n  }, {\n    key: \"allComponents\",\n    value: function allComponents() {\n      var _this4 = this;\n\n      var r = [];\n\n      var _loop = function _loop(key) {\n        var ids = Object.getOwnPropertyNames(_this4.components[key]);\n        r.push.apply(r, _toConsumableArray(ids.map(function (id) {\n          return _this4.components[key][id];\n        })));\n      };\n\n      for (var key in this.components) {\n        _loop(key);\n      }\n\n      return r;\n    }\n    /** 页面数据 */\n\n  }, {\n    key: \"updateComponentProp\",\n    value: function updateComponentProp(componentId, propName, value) {\n      return this.updateComponentProps([{\n        componentId: componentId,\n        propName: propName,\n        value: value\n      }]);\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps(componentProps) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentProps.length; i++) {\n        var _componentProps$i = componentProps[i],\n            componentId = _componentProps$i.componentId,\n            propName = _componentProps$i.propName,\n            value = _componentProps$i.value;\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.setState({\n        pageData: this.pageData\n      });\n    }\n    /**\r\n     * 添加控件\r\n     * @param parentId 父控件编号\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\n\n  }, {\n    key: \"appendComponent\",\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw errors_1.Errors.argumentNull('parentId');\n      if (!componentData) throw errors_1.Errors.argumentNull('childComponent');\n      this.initPageData(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      }\n\n      this.selectComponents(componentData.id);\n    }\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponent\",\n    value: function selectComponent(componentIds) {\n      this.selectComponents(componentIds); //====================================================\n      // 设置焦点，以便获取键盘事件\n\n      if (this._element) this._element.focus(); //====================================================\n    }\n    /**\r\n     * 选择指定的控件，一个或多个。已经选择的控件取消选择。\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponents\",\n    value: function selectComponents(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var selectedComponentIds = this.selectedComponentIds;\n      if (this.isSame(componentIds, selectedComponentIds)) return;\n      var stack = [];\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        var isSelectedControl = componentIds.indexOf(item.id) >= 0;\n        item.selected = isSelectedControl;\n        (item.children || []).forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      this.setState({\n        pageData: this.pageData\n      });\n    }\n    /** 判断两个字符串数组是否相等 */\n\n  }, {\n    key: \"isSame\",\n    value: function isSame(arr1, arr2) {\n      if (arr1.length != arr2.length) return false;\n\n      for (var i = 0; i < arr1.length; i++) {\n        if (arr2.indexOf(arr1[i]) < 0) return false;\n      }\n\n      return true;\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent() {\n      for (var _len = arguments.length, componentIds = new Array(_len), _key = 0; _key < _len; _key++) {\n        componentIds[_key] = arguments[_key];\n      }\n\n      this.removeComponents(componentIds);\n    }\n  }, {\n    key: \"removeComponents\",\n    value: function removeComponents(componentIds) {\n      var _this5 = this;\n\n      var pageData = this.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n      var children = pageData.children;\n      componentIds.forEach(function (controlId) {\n        _this5.removeComponentFrom(controlId, children);\n      });\n      this.setState({\n        pageData: pageData\n      });\n    }\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param childComponentIndex 组件位置\r\n     */\n\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.pageData;\n      console.assert(pageData.children != null);\n      var children = pageData.children;\n      this.removeComponentFrom(componentId, children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var _this6 = this;\n\n      var controlIndex = null;\n      collection = collection || [];\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        var _loop2 = function _loop2(_i2) {\n          var o = collection[_i2];\n          if (typeof o == \"string\") return \"continue\";\n          var children = o.children || [];\n          children.forEach(function (child) {\n            if (typeof child == \"string\") return true;\n\n            var isRemoved = _this6.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          });\n        };\n\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var _ret = _loop2(_i2);\n\n          if (_ret === \"continue\") continue;\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"findComponentData\",\n\n    /**\r\n     * 通过组件编号获取组件的数据\r\n     * @param componentId 组件编号\r\n     */\n    value: function findComponentData(componentId) {\n      var pageData = this.state.pageData;\n      if (!pageData) throw errors_1.Errors.pageDataIsNull();\n      var componentDatas = PageDesigner.travelComponentData(pageData, function (item) {\n        return item.id == componentId;\n      });\n      return componentDatas[0];\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var DELETE_KEY_CODE = 46;\n\n      if (e.keyCode == DELETE_KEY_CODE) {\n        if (this.selectedComponents.length == 0) return;\n        this.removeComponents(this.selectedComponentIds);\n      }\n    }\n    /**\r\n     * 通过组件名称获取组件实例\r\n     * @param typeName 组件名称\r\n     */\n\n  }, {\n    key: \"findComponetsByTypeName\",\n    value: function findComponetsByTypeName(typeName) {\n      this.components[typeName];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return React.createElement(\"div\", {\n        tabIndex: 0,\n        ref: function ref(e) {\n          return _this7._element = _this7._element || e;\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this7.onKeyDown(e);\n        },\n        className: this.props.className,\n        style: this.props.style\n      }, React.createElement(exports.DesignerContext.Provider, {\n        value: {\n          designer: this\n        }\n      }, this.props.children));\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this.state.pageData;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.selected == true) arr.push(item);\n        (item.children || []).forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      return arr;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = [];\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }]);\n\n  return PageDesigner;\n}(React.Component);\n\nexports.PageDesigner = PageDesigner;\n//# sourceMappingURL=page-designer.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar errors_1 = require(\"./errors\");\n\nexports.classNames = {\n  componentSelected: \"component-selected\",\n  emptyTemplates: \"empty-templates\",\n  loadingTemplates: \"loading-templates\",\n  templateSelected: \"template-selected\",\n  templateDialog: \"template-dialog\",\n  emptyDocument: \"empty-document\",\n  component: 'component',\n  componentWrapper: 'component-wrapper',\n  componentPanel: 'component-panel',\n  componentIcon: 'component-icon',\n  placeholder: 'placeholder',\n  editorPanel: 'editor-panel',\n  designer: 'designer',\n  moveDown: 'move-down'\n};\nvar templateDialog = {\n  nameHeight: 40,\n  fontSize: 22\n};\nvar element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = \"\\n            .\".concat(exports.classNames.componentSelected, \" {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \" > :first-child {\\n                border-color: blue;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .resize_handle {\\n                position: absolute;\\n                height: 6px;\\n                width: 6px;\\n                border: 1px solid #89B;\\n                background: #9AC;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .move_handle {\\n                height: 12px;\\n                width: 12px;\\n                top: 6px;\\n                left: 8px;\\n                border: solid 1px black;\\n                position: relative;\\n                margin-top: -12px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                top: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NE,\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                right: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \".SS,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                bottom: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .WW,\\n              .\").concat(exports.classNames.componentSelected, \" .SW {\\n                left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SE,\\n              .\").concat(exports.classNames.componentSelected, \" .NW {\\n                cursor: nw-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                cursor: ne-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .SS {\\n                cursor: n-resize;\\n                left: 50%;\\n                margin-left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .WW {\\n                cursor: e-resize;\\n                top: 50%;\\n                margin-top: -4px;\\n              }\\n            .\").concat(exports.classNames.emptyTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.loadingTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.templateSelected, \" .page-view {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name {\\n                margin-top: -\").concat(templateDialog.nameHeight, \"px;\\n                height: \").concat(templateDialog.nameHeight, \"px;\\n                font-size: \").concat(templateDialog.fontSize, \"px;\\n                text-align: center;\\n                padding-top: 6px;\\n                background-color: black;\\n                opacity: 0.5;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name span {\\n                color: white;\\n            }\\n            .\").concat(exports.classNames.emptyDocument, \" {\\n                text-align: center;\\n                padding: 100px 0;\\n            }\\n            .\").concat(exports.classNames.component, \" > .NW,\\n            .\").concat(exports.classNames.component, \" > .NN,\\n            .\").concat(exports.classNames.component, \" > .NE,\\n            .\").concat(exports.classNames.component, \" > .EE,\\n            .\").concat(exports.classNames.component, \" > .SE,\\n            .\").concat(exports.classNames.component, \" > .SW,\\n            .\").concat(exports.classNames.component, \" > .SS,\\n            .\").concat(exports.classNames.component, \" > .WW {\\n                display: none;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \".component > .NW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NN,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .EE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SS,\\n            .\").concat(exports.classNames.componentSelected, \".component > .WW {\\n                display: block;\\n            }\\n            .\").concat(exports.classNames.placeholder, \" {\\n                min-height: 40px;\\n                width: 100%;\\n            }\\n            .\").concat(exports.classNames.placeholder, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.componentSelected, \".active {\\n                border: 1px solid green;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" {\\n                width: 300px;\\n                background: white;\\n                color: black;\\n                margin: 0;\\n                font-size: 14px;\\n                z-index: 100;\\n                overflow: auto;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" label {\\n                width: 80px;\\n                float: left;\\n                padding: 4px;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .control {\\n                padding-left: 90px;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .empty {\\n                padding-top: 200px;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.designer, \" .error,\\n            .\").concat(exports.classNames.editorPanel, \" .error {\\n                color: red;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" {\\n                background: white;\\n                color: black;\\n                font-size: 14px;\\n                z-index: 100;\\n                list-style: none;\\n                padding: 0;\\n                text-align: center\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" .panel-heading {\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" li {\\n                text-align: center;\\n                padding: 8px;\\n            }\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.moveDown, \" {\\n         \\n            }\\n        \");\n\nif (document.head != null) {\n  document.head.appendChild(element);\n}\n\nfunction appendClassName(element, addonClassName) {\n  if (element == null) throw errors_1.Errors.argumentNull('element');\n  if (!addonClassName) throw errors_1.Errors.argumentNull('addonClassName');\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className;\n  sourceClassName = sourceClassName || '';\n  console.assert(addonClassName != null);\n  if (sourceClassName.indexOf(addonClassName) >= 0) return sourceClassName;\n  var className = \"\".concat(sourceClassName, \" \").concat(addonClassName);\n  if (typeof element != 'string') element.className = className;\n  return className;\n}\n\nexports.appendClassName = appendClassName;\n\nfunction removeClassName(element, targetClassName) {\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className || '';\n  if (sourceClassName.indexOf(targetClassName) < 0) return sourceClassName;\n  sourceClassName = sourceClassName || '';\n  sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n  sourceClassName = sourceClassName.trim();\n  if (typeof element != 'string') element.className = sourceClassName;\n  return sourceClassName;\n}\n\nexports.removeClassName = removeClassName;\n//# sourceMappingURL=style.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar common_1 = require(\"./common\");\n\nexports.groupDisplayNames = common_1.groupDisplayNames;\n\nvar component_1 = require(\"./component\");\n\nexports.Component = component_1.Component;\n\nvar editor_panel_1 = require(\"./editor-panel\");\n\nexports.EditorPanel = editor_panel_1.EditorPanel;\n\nvar page_designer_1 = require(\"./page-designer\");\n\nexports.PageDesigner = page_designer_1.PageDesigner;\nexports.DesignerContext = page_designer_1.DesignerContext;\n\nvar prop_editor_1 = require(\"./prop-editor\");\n\nexports.PropEditor = prop_editor_1.PropEditor;\nexports.TextInput = prop_editor_1.TextInput;\n\nvar style_1 = require(\"./style\");\n\nexports.classNames = style_1.classNames;\n//# sourceMappingURL=index.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar property_editor_1 = require(\"./property-editor\");\n\nvar style_1 = require(\"./style\");\n\nvar EditorPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditorPanel, _React$Component);\n\n  function EditorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EditorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditorPanel).call(this, props));\n    _this.state = {\n      componentDatas: []\n    };\n    return _this;\n  }\n\n  _createClass(EditorPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty;\n      empty = empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n      return React.createElement(\"div\", {\n        className: \"\".concat(style_1.classNames.editorPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.element = e || _this2.element;\n        }\n      }, React.createElement(property_editor_1.PropertyEditor, {\n        ref: function ref(e) {\n          return _this2.editor = e || _this2.editor;\n        },\n        empty: empty,\n        customRender: this.props.customRender\n      }));\n    }\n  }]);\n\n  return EditorPanel;\n}(React.Component);\n\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropEditor, _React$Component);\n\n  function PropEditor(props) {\n    _classCallCheck(this, PropEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PropEditor).call(this, props));\n  }\n\n  _createClass(PropEditor, null, [{\n    key: \"dropdown\",\n    value: function dropdown(items, valueType) {\n      return _dropdown(items, valueType);\n    }\n  }, {\n    key: \"textInput\",\n    value: function textInput() {\n      return TextInput;\n    }\n  }]);\n\n  return PropEditor;\n}(React.Component);\n\nexports.PropEditor = PropEditor;\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_PropEditor) {\n  _inherits(TextInput, _PropEditor);\n\n  function TextInput() {\n    _classCallCheck(this, TextInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TextInput).apply(this, arguments));\n  }\n\n  _createClass(TextInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var value = this.props.value;\n      return React.createElement(\"input\", {\n        className: 'form-control',\n        value: value || '',\n        onChange: function onChange(e) {\n          // this.setState({ value: e.target.value })\n          _this.props.updateComponentProp(e.target.value);\n        }\n      });\n    }\n  }]);\n\n  return TextInput;\n}(PropEditor);\n\nexports.TextInput = TextInput;\n\nfunction _dropdown(items, valueType) {\n  var itemsPromise;\n  var textValues = [];\n\n  if (valueType == null && Array.isArray(items)) {\n    valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n\n    for (var i = 0; i < items.length; i++) {\n      textValues[i] = {\n        text: items[i],\n        value: items[i]\n      };\n    }\n  } else if (valueType == null) {\n    valueType = \"string\";\n    var propNames = Object.getOwnPropertyNames(items);\n\n    for (var _i = 0; _i < propNames.length; _i++) {\n      textValues[_i] = {\n        text: items[propNames[_i]],\n        value: propNames[_i]\n      };\n    }\n  } else if (Array.isArray(items)) {\n    textValues = items;\n  } else {\n    itemsPromise = items;\n  }\n\n  var Dropdown =\n  /*#__PURE__*/\n  function (_PropEditor2) {\n    _inherits(Dropdown, _PropEditor2);\n\n    function Dropdown(props) {\n      var _this2;\n\n      _classCallCheck(this, Dropdown);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n      _this2.state = {};\n      return _this2;\n    }\n\n    _createClass(Dropdown, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        return __awaiter(this, void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var _items;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!itemsPromise) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return itemsPromise;\n\n                case 3:\n                  _items = _context.sent;\n                  this.setState({\n                    items: _items\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var items = this.state.items;\n        var value = this.props.value;\n        items = items || textValues;\n        return React.createElement(\"select\", {\n          className: 'form-control',\n          value: value == null ? \"\" : value,\n          onChange: function onChange(e) {\n            var textValue = e.target.value;\n\n            if (valueType == \"number\") {\n              var integerRegex = /^\\d+$/;\n              var floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n              if (integerRegex.test(textValue)) value = parseInt(textValue);else if (floatRegex.test(textValue)) value = parseFloat(textValue);else value = null;\n            } else {\n              value = textValue;\n            }\n\n            _this3.props.updateComponentProp(value);\n          }\n        }, items.map(function (o) {\n          return React.createElement(\"option\", {\n            key: o.value,\n            value: o.value\n          }, o.text);\n        }));\n      }\n    }]);\n\n    return Dropdown;\n  }(PropEditor);\n\n  return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map\n","export function guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\n","/** 连接多个路径 */\r\nexport function pathContact(...paths) {\r\n    paths = paths || [];\r\n    if (paths.length == 0)\r\n        return \"\";\r\n    if (paths.length == 1) {\r\n        return paths[0];\r\n    }\r\n    let str = paths.join(\"\");\r\n    // 将一个或多个的 / 变为一个 /，例如：/shop/test// 转换为 /shop/test/\r\n    str = str.replace(/\\/+/g, '/');\r\n    return str;\r\n}\r\n","export class Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    queryResultTypeError() {\r\n        let msg = 'Type of the query result is expected as Array or DataSourceSelectResult.';\r\n        return new Error(msg);\r\n    }\r\n}\r\nexport let errors = new Errors();\r\n","export class Callback {\r\n    constructor() {\r\n        this.funcs = new Array();\r\n    }\r\n    add(func) {\r\n        this.funcs.push(func);\r\n    }\r\n    remove(func) {\r\n        this.funcs = this.funcs.filter(o => o != func);\r\n    }\r\n    fire(args) {\r\n        this.funcs.forEach(o => o(args));\r\n    }\r\n    static create() {\r\n        return new Callback();\r\n    }\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { errors as baseErrors } from \"./errors\";\r\nimport { Callback } from \"./callback\";\r\nlet errors = Object.assign(baseErrors, {\r\n    dataSourceCanntInsert() {\r\n        return new Error(\"DataSource can not insert.\");\r\n    },\r\n    dataSourceCanntDelete() {\r\n        return new Error(\"DataSource can not delete.\");\r\n    },\r\n    dataSourceCanntUpdate() {\r\n        return new Error(\"DataSource can not update.\");\r\n    },\r\n    primaryKeyNull(key) {\r\n        let msg = `Primary key named '${key}' value is null.`;\r\n        return new Error(msg);\r\n    }\r\n});\r\nexport class DataSource {\r\n    constructor(args) {\r\n        this.inserting = new Callback(); //callbacks1<DataSource<T>, T, number>();\r\n        this.inserted = new Callback();\r\n        this.deleting = new Callback(); //callbacks<DataSource<T>, T>();\r\n        this.deleted = new Callback(); //callbacks<DataSource<T>, T>();\r\n        this.updating = new Callback();\r\n        this.updated = new Callback();\r\n        this.selecting = new Callback();\r\n        this.selected = new Callback(); //callbacks<DataSource<T>, DataSourceSelectResult<T>>();\r\n        this.error = new Callback(); //callbacks<this, DataSourceError>();\r\n        this.args = args;\r\n        this.primaryKeys = args.primaryKeys || [];\r\n    }\r\n    ; //callbacks<DataSource<T>, DataSourceSelectArguments>();\r\n    get canDelete() {\r\n        return this.args.delete != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canInsert() {\r\n        return this.args.insert != null && this.primaryKeys.length > 0;\r\n    }\r\n    get canUpdate() {\r\n        return this.args.update != null && this.primaryKeys.length > 0;\r\n    }\r\n    executeInsert(item, args) {\r\n        return this.args.insert(item, args);\r\n    }\r\n    executeDelete(item, args) {\r\n        return this.args.delete(item, args);\r\n    }\r\n    executeUpdate(item, args) {\r\n        return this.args.update(item, args);\r\n    }\r\n    executeSelect(args) {\r\n        args = args || {};\r\n        return this.args.select(args);\r\n    }\r\n    insert(item, args, index) {\r\n        if (!this.canInsert)\r\n            throw errors.dataSourceCanntInsert();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        if (typeof args == 'number') {\r\n            index = args;\r\n            args = null;\r\n        }\r\n        this.inserting.fire({ sender: this, dataItem: item, index });\r\n        return this.executeInsert(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.inserted.fire({ sender: this, dataItem: item, index });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'insert');\r\n            throw exc;\r\n        });\r\n    }\r\n    delete(item, args) {\r\n        if (!this.canDelete)\r\n            throw errors.dataSourceCanntDelete();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.deleting.fire({ sender: this, dataItem: item });\r\n        return this.executeDelete(item, args).then((data) => {\r\n            this.deleted.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch(exc => {\r\n            this.processError(exc, 'delete');\r\n            throw exc;\r\n        });\r\n    }\r\n    update(item, args) {\r\n        if (!this.canUpdate)\r\n            throw errors.dataSourceCanntUpdate();\r\n        if (!item)\r\n            throw errors.argumentNull(\"item\");\r\n        this.checkPrimaryKeys(item);\r\n        this.updating.fire({ sender: this, dataItem: item });\r\n        return this.executeUpdate(item, args).then((data) => {\r\n            Object.assign(item, data);\r\n            this.updated.fire({ sender: this, dataItem: item });\r\n            return data;\r\n        }).catch((exc) => {\r\n            this.processError(exc, 'update');\r\n            throw exc;\r\n        });\r\n    }\r\n    isSameItem(theItem, otherItem) {\r\n        if (theItem == null)\r\n            throw errors.argumentNull('theItem');\r\n        if (otherItem == null)\r\n            throw errors.argumentNull('otherItem');\r\n        if (this.primaryKeys.length == 0)\r\n            return theItem == otherItem;\r\n        this.checkPrimaryKeys(theItem);\r\n        this.checkPrimaryKeys(otherItem);\r\n        for (let pk of this.primaryKeys) {\r\n            if (theItem[pk] != otherItem[pk])\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    checkPrimaryKeys(item) {\r\n        for (let key in item) {\r\n            if (item[key] == null && this.primaryKeys.indexOf(key) >= 0)\r\n                throw errors.primaryKeyNull(key);\r\n        }\r\n    }\r\n    select(args) {\r\n        args = args || {};\r\n        // fireCallback(this.selecting, this, args);\r\n        this.selecting.fire({ sender: this, selectArguments: args });\r\n        return this.executeSelect(args).then((data) => {\r\n            let dataItems;\r\n            let totalRowCount;\r\n            if (Array.isArray(data)) {\r\n                dataItems = data;\r\n                totalRowCount = data.length;\r\n            }\r\n            else if (data.dataItems !== undefined && data.totalRowCount !== undefined) {\r\n                dataItems = data.dataItems;\r\n                totalRowCount = data.totalRowCount;\r\n            }\r\n            else {\r\n                throw errors.queryResultTypeError();\r\n            }\r\n            this.selected.fire({ sender: this, selectResult: { totalRowCount, dataItems } });\r\n            return { totalRowCount, dataItems };\r\n        }).catch(exc => {\r\n            this.processError(exc, 'select');\r\n            throw exc;\r\n        });\r\n    }\r\n    processError(exc, method) {\r\n        exc.method = method;\r\n        this.error.fire({ sender: this, error: exc });\r\n        if (!exc.handled)\r\n            throw exc;\r\n    }\r\n}\r\nexport class DataSourceSelectArguments {\r\n    constructor() {\r\n        this.startRowIndex = 0;\r\n        this.maximumRows = 2147483647;\r\n    }\r\n}\r\nexport class ArrayDataSource extends DataSource {\r\n    constructor(items) {\r\n        super({\r\n            select(args) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    if (args.sortExpression) {\r\n                    }\r\n                    let dataItems = items.slice(args.startRowIndex, args.startRowIndex + args.maximumRows);\r\n                    let result = { dataItems, totalRowCount: items.length };\r\n                    return result;\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n// }\r\n","export function parseUrl(url) {\r\n    let i = url.indexOf(\"?\");\r\n    if (i < 0)\r\n        return {};\r\n    let query = url.substr(i + 1);\r\n    return pareeUrlQuery(query);\r\n}\r\nfunction pareeUrlQuery(query) {\r\n    let match, pl = /\\+/g, // Regex for replacing addition symbol with a space\r\n    search = /([^&=]+)=?([^&]*)/g, decode = function (s) {\r\n        return decodeURIComponent(s.replace(pl, \" \"));\r\n    };\r\n    let urlParams = {};\r\n    while (match = search.exec(query))\r\n        urlParams[decode(match[1])] = decode(match[2]);\r\n    return urlParams;\r\n}\r\n","export { guid } from \"./guid\";\r\nexport { pathContact } from \"./path\";\r\nexport { Errors, errors } from \"./errors\";\r\nexport { Callback } from \"./callback\";\r\nexport { DataSource, DataSourceSelectArguments } from \"./data\";\r\nexport { parseUrl } from \"./url\";\r\n"],"sourceRoot":""}