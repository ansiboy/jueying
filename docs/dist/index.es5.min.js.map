{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"React\"","webpack://jueying/./out-es5/common.js","webpack://jueying/./out-es5/errors.js","webpack://jueying/./out-es5/style.js","webpack://jueying/./out-es5/component.js","webpack://jueying/./out-es5/component-panel.js","webpack://jueying/./out-es5/component-wrapper.js","webpack://jueying/./out-es5/react-page-builder.js","webpack://jueying/./out-es5/index.js","webpack://jueying/./out-es5/jquery.js","webpack://jueying/external \"$\"","webpack://jueying/./lib/jquery.event.drag-2.2.js","webpack://jueying/./lib/jquery.event.drag.live-2.2.js","webpack://jueying/./lib/jquery.event.drop-2.2.js","webpack://jueying/./lib/jquery.event.drop.live-2.2.js","webpack://jueying/./out-es5/editor-panel.js","webpack://jueying/./out-es5/property-editor.js","webpack://jueying/./out-es5/error-boundary.js","webpack://jueying/./out-es5/page-designer.js","webpack://jueying/external \"ReactDOM\"","webpack://jueying/./out-es5/prop-editor.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__10__","__WEBPACK_EXTERNAL_MODULE__19__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","guid","s4","Math","floor","random","toString","substring","Callback","proptDisplayNames","constants","componentsDir","connectorElementClassName","componentTypeName","componentData","componentPosition","instance","Constructor","TypeError","_classCallCheck","this","funcs","Array","protoProps","staticProps","func","push","filter","o","args","forEach","Errors","Error","fileName","concat","argumentName","pluginId","componentId","componentName","msg","fieldName","appendClassName","element","addonClassName","_errors","argumentNull","sourceClassName","className","console","assert","indexOf","removeClassName","targetClassName","replace","RegExp","trim","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","component","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","designer","moveDown","document","createElement","type","setAttribute","innerHTML","head","appendChild","constructor","Component","name","register","ComponentWrapperContext","React","obj","__esModule","newObj","desc","getOwnPropertyDescriptor","set","default","_interopRequireWildcard","_componentWrapper","_common","_typeof","Symbol","iterator","createContext","typename","attr","componentAttributes","assign","defaultComponentAttribute","componentType","result","propEditorInfo","componentPropEditors","propName","display","componentPropEditorDisplay","controlClassName","getPropEditorByArray","propNames","componentTypeOrOptions","editorType","group","editorDisplay","options","displayName","split","classProps","join","componentTypes","Fragment","container","movable","showHandler","resize","ComponentPanel","_style","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_React$Component","_this","state","componets","subClass","superClass","create","_inherits","dataTransfer","str","getData","JSON","parse","toolItemElement","draggable","addEventListener","ev","setData","stringify","x","offsetX","y","offsetY","setState","_this2","empty","ref","e","toolbarElement","map","c","componentIndexName","icon","style","fontSize","color","ctrl","componentDraggable","ComponentWrapper","_componentPanel","_component","_toConsumableArray","arr","isArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","event","preventDefault","stopPropagation","dropEffect","log","arguments","getComponentData","pageData","position","pos","mouseInnerPosition","left","top","appendComponent","id","handler","startPos","rect","dragStart","$","drag","is","dd","prop","width","height","sourceElement","Date","now","drop","max","deltaX","deltaY","setLeft","setTop","setPosition","isResizeHandleClassName","css","click","interval","isDrag","_left","_top","transform","setComponentPosition","setComponentSize","invokeOnClick","elementID","ctrlKey","selectedControlIds","selectedComponentIds","selectComponent","error","info","getAttribute","enableAppendDroppable","onclick","source","designtimeBehavior","message","stack","noWrapper","renderWidthoutWrapper","visibility","selected","wrapperProps","move_handle","showResizeHandle","Provider","createRawElement","children","_this$props$source","tagName","emtpy","designTimeEmptyElement","parentId","apply","designTimeText","text","PageView","PlaceHolder","MasterPage","MasterPageContext","MasterPageName","ReactPageBuilder","PageBuilderContext","ReactDOM","_createClass","pageBuilder","argumentFieldCanntNull","attr1","attr2","_len","_key","pageElement","fillPageData","render","createDesignTimeElement","componentProps","componentDatas","_componentProps$i","findComponentData","navPropsNames","_i","componentSiezs","_componentSiezs$i","size","travelComponentData","item","componentIndex","nameComponent","parentControl","splice","componentIds","pop","isSelectedControl","focus","positions","_o$position","controlId","removeComponentFrom","childComponentIndex","collection","compoentIndex","_i2","shift","r","namedComponents","num","h","_createElement","components","context","getComponentType","masterPage","typeName","childComponents","master","_this3","minHeight","isValidElement","_React$Component2","_this4","placeHolderIdNull","_this5","layerX","ondrop","host","_this6","wraper","moveComponent","updateComponentProps","_this7","Consumer","canntFindMasterPage","enableMoveDroppable","_React$Component3","_this8","propCanntNull","_editorPanel","EditorPanel","_pageDesigner","PageDesigner","_propEditor","PropEditor","TextInput","_reactPageBuilder","j","fn","arg","opts","isFunction","trigger","$event","$special","special","defaults","which","distance","not","handle","relative","datakey","noBubble","add","data","related","each","def","undefined","remove","setup","extend","init","attachEvent","dontstart","teardown","removeData","textselect","detachEvent","touched","results","closest","currentTarget","propagates","mousedown","interactions","interaction","pageX","pageY","dragging","hijack","flatten","live","elem","offset","callback","droppable","pow","getTime","ia","orig","originalEvent","mode","len","isNaN","cancelled","properties","subject","isPropagationStopped","dispatch","proxy","update","startX","startY","originalX","originalY","slice","available","jquery","nodeType","member","makeArray","bool","unselectable","locate","$dispatch","touchHooks","fixHooks","touchstart","touchmove","touchend","touchcancel","touches","changedTouches","draginit","dragstart","dragend","jQuery","origadd","origteardown","livekey","selector","delegate","elems","events","origType","origHandler","inArray","multi","Infinity","delay","tolerance","targets","active","anyactive","winner","location","grep","$targets","timer","tolerate","clearTimeout","index","$elem","posi","outerHeight","outerWidth","right","bottom","contains","test","modes","overlap","min","sort","a","b","drp","drg","end","xy","last","setTimeout","dropinit","dropstart","dropend","find","_propertyEditor","designerComponentChanged","PropertyEditor","editor","customRender","_designer","componentRemoved","componentAppend","componentUpdated","_errorBoundary","_element","commonFlatProps","commonPropEditorInfos","selectedComponents","_loop","propEditorInfos","getPropEditors","items","propInfo1","propInfo2","propName1","propName2","control","controlProps","editors","_loop2","editorProps","propValue","editComponents","updateComponentProp","getEditors","groupEditorsArray","_loop3","groupEditors","g","ErrorBoundary","designtimeComponentDidMount","pageBuilderType","fire","setComponentsPosition","setComponentsSize","ids","selectComponents","_len2","_key2","removeComponents","keyCode","removeComponent","createPage","tabIndex","onKeyDown","defaultProps","wrapDesignTimeElement","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","valueType","_dropdown","_PropEditor","onChange","itemsPromise","textValues","getOwnPropertyNames","_PropEditor2","Dropdown","regeneratorRuntime","mark","_callee","_items","wrap","_context","prev","sent","stop","textValue","parseInt","parseFloat"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"$\"), require(\"ReactDOM\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"$\", \"ReactDOM\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"React\"), require(\"$\"), require(\"ReactDOM\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"React\"], root[\"$\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__19__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.guid = guid;\nexports.Callback = exports.proptDisplayNames = exports.constants = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar constants = {\n  componentsDir: 'components',\n  connectorElementClassName: 'component-container',\n  componentTypeName: 'data-component-name',\n  componentData: 'component-data',\n  componentPosition: \"component-position\"\n};\nexports.constants = constants;\nvar proptDisplayNames = {};\nexports.proptDisplayNames = proptDisplayNames;\n\nfunction guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nvar Callback =\n/*#__PURE__*/\nfunction () {\n  function Callback() {\n    _classCallCheck(this, Callback);\n\n    this.funcs = new Array();\n  }\n\n  _createClass(Callback, [{\n    key: \"add\",\n    value: function add(func) {\n      this.funcs.push(func);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(func) {\n      this.funcs = this.funcs.filter(function (o) {\n        return o != func;\n      });\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(args) {\n      this.funcs.forEach(function (o) {\n        return o(args);\n      });\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      return new Callback();\n    }\n  }]);\n\n  return Callback;\n}();\n\nexports.Callback = Callback;\n//# sourceMappingURL=common.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Errors = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"fileNotExists\",\n    value: function fileNotExists(fileName) {\n      return new Error(\"File '\".concat(fileName, \"' is not exists.\"));\n    }\n  }, {\n    key: \"argumentNull\",\n    value: function argumentNull(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" is null or empty.\"));\n    }\n  }, {\n    key: \"argumentRangeError\",\n    value: function argumentRangeError(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" range error.\"));\n    }\n  }, {\n    key: \"pageDataIsNull\",\n    value: function pageDataIsNull() {\n      return new Error(\"Page data is null.\");\n    }\n  }, {\n    key: \"toolbarRequiredKey\",\n    value: function toolbarRequiredKey() {\n      return new Error(\"Toolbar has not a key prop.\");\n    }\n  }, {\n    key: \"loadPluginFail\",\n    value: function loadPluginFail(pluginId) {\n      return new Error(\"Load plugin '\".concat(pluginId, \"' fail.\"));\n    }\n  }, {\n    key: \"idRequired\",\n    value: function idRequired() {\n      return new Error(\"Property id is required.\");\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }, {\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"argumentFieldCanntNull\",\n    value: function argumentFieldCanntNull(fieldName, argumentName) {\n      var msg = \"\".concat(fieldName, \" of argument \").concat(argumentName, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"componentDataNotExists\",\n    value: function componentDataNotExists(componentId) {\n      var msg = \"Component data \".concat(componentId, \" is not exists.\");\n      return new Error(msg);\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.appendClassName = appendClassName;\nexports.removeClassName = removeClassName;\nexports.classNames = void 0;\n\nvar _errors = require(\"./errors\");\n\nvar classNames = {\n  componentSelected: \"component-selected\",\n  emptyTemplates: \"empty-templates\",\n  loadingTemplates: \"loading-templates\",\n  templateSelected: \"template-selected\",\n  templateDialog: \"template-dialog\",\n  emptyDocument: \"empty-document\",\n  component: 'component',\n  componentWrapper: 'component-wrapper',\n  componentPanel: 'component-panel',\n  componentIcon: 'component-icon',\n  placeholder: 'placeholder',\n  editorPanel: 'editor-panel',\n  designer: 'designer',\n  moveDown: 'move-down'\n};\nexports.classNames = classNames;\nvar templateDialog = {\n  nameHeight: 40,\n  fontSize: 22\n};\nvar element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = \"\\n            .\".concat(classNames.componentSelected, \" {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(classNames.componentSelected, \" > :first-child {\\n                border-color: blue;\\n              }\\n              .\").concat(classNames.componentSelected, \" .resize_handle {\\n                position: absolute;\\n                height: 6px;\\n                width: 6px;\\n                border: 1px solid #89B;\\n                background: #9AC;\\n              }\\n              .\").concat(classNames.componentSelected, \" .move_handle {\\n                height: 12px;\\n                width: 12px;\\n                top: 6px;\\n                left: 8px;\\n                border: solid 1px black;\\n                position: relative;\\n                margin-top: -12px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NW,\\n              .\").concat(classNames.componentSelected, \" .NN,\\n              .\").concat(classNames.componentSelected, \" .NE {\\n                top: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NE,\\n              .\").concat(classNames.componentSelected, \" .EE,\\n              .\").concat(classNames.componentSelected, \" .SE {\\n                right: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .SW,\\n              .\").concat(classNames.componentSelected, \".SS,\\n              .\").concat(classNames.componentSelected, \" .SE {\\n                bottom: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NW,\\n              .\").concat(classNames.componentSelected, \" .WW,\\n              .\").concat(classNames.componentSelected, \" .SW {\\n                left: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .SE,\\n              .\").concat(classNames.componentSelected, \" .NW {\\n                cursor: nw-resize;\\n              }\\n              .\").concat(classNames.componentSelected, \" .SW,\\n              .\").concat(classNames.componentSelected, \" .NE {\\n                cursor: ne-resize;\\n              }\\n              .\").concat(classNames.componentSelected, \" .NN,\\n              .\").concat(classNames.componentSelected, \" .SS {\\n                cursor: n-resize;\\n                left: 50%;\\n                margin-left: -4px;\\n              }\\n              .\").concat(classNames.componentSelected, \" .EE,\\n              .\").concat(classNames.componentSelected, \" .WW {\\n                cursor: e-resize;\\n                top: 50%;\\n                margin-top: -4px;\\n              }\\n            .\").concat(classNames.emptyTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(classNames.loadingTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(classNames.templateSelected, \" .page-view {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(classNames.templateDialog, \" .name {\\n                margin-top: -\").concat(templateDialog.nameHeight, \"px;\\n                height: \").concat(templateDialog.nameHeight, \"px;\\n                font-size: \").concat(templateDialog.fontSize, \"px;\\n                text-align: center;\\n                padding-top: 6px;\\n                background-color: black;\\n                opacity: 0.5;\\n            }\\n            .\").concat(classNames.templateDialog, \" .name span {\\n                color: white;\\n            }\\n            .\").concat(classNames.emptyDocument, \" {\\n                text-align: center;\\n                padding: 100px 0;\\n            }\\n            .\").concat(classNames.component, \" > .NW,\\n            .\").concat(classNames.component, \" > .NN,\\n            .\").concat(classNames.component, \" > .NE,\\n            .\").concat(classNames.component, \" > .EE,\\n            .\").concat(classNames.component, \" > .SE,\\n            .\").concat(classNames.component, \" > .SW,\\n            .\").concat(classNames.component, \" > .SS,\\n            .\").concat(classNames.component, \" > .WW {\\n                display: none;\\n            }\\n            .\").concat(classNames.componentSelected, \".component > .NW,\\n            .\").concat(classNames.componentSelected, \".component > .NN,\\n            .\").concat(classNames.componentSelected, \".component > .NE,\\n            .\").concat(classNames.componentSelected, \".component > .EE,\\n            .\").concat(classNames.componentSelected, \".component > .SE,\\n            .\").concat(classNames.componentSelected, \".component > .SW,\\n            .\").concat(classNames.componentSelected, \".component > .SS,\\n            .\").concat(classNames.componentSelected, \".component > .WW {\\n                display: block;\\n            }\\n            .\").concat(classNames.placeholder, \" {\\n                min-height: 40px;\\n                width: 100%;\\n            }\\n            .\").concat(classNames.placeholder, \".active,\\n            .\").concat(classNames.componentWrapper, \".active,\\n            .\").concat(classNames.componentWrapper, \".\").concat(classNames.componentSelected, \".active {\\n                border: 1px solid green;\\n            }\\n            .\").concat(classNames.editorPanel, \" {\\n                width: 300px;\\n                background: white;\\n                color: black;\\n                margin: 0;\\n                font-size: 14px;\\n                z-index: 100;\\n                overflow: auto;\\n            }\\n            .\").concat(classNames.editorPanel, \" label {\\n                width: 80px;\\n                float: left;\\n                padding: 4px;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n            .\").concat(classNames.editorPanel, \" .control {\\n                padding-left: 90px;\\n            }\\n            .\").concat(classNames.editorPanel, \" .empty {\\n                padding-top: 200px;\\n                text-align: center;\\n            }\\n            .\").concat(classNames.designer, \" .error,\\n            .\").concat(classNames.editorPanel, \" .error {\\n                color: red;\\n            }\\n            .\").concat(classNames.componentPanel, \" {\\n                background: white;\\n                color: black;\\n                font-size: 14px;\\n                z-index: 100;\\n                list-style: none;\\n                padding: 0;\\n                text-align: center\\n            }\\n            .\").concat(classNames.componentPanel, \" .panel-heading {\\n                text-align: center;\\n            }\\n            .\").concat(classNames.componentPanel, \" li {\\n                text-align: center;\\n                padding: 8px;\\n            }\\n            .\").concat(classNames.componentWrapper, \".\").concat(classNames.moveDown, \" {\\n         \\n            }\\n        \");\ndocument.head.appendChild(element);\n\nfunction appendClassName(element, addonClassName) {\n  if (element == null) throw _errors.Errors.argumentNull('element');\n  if (!addonClassName) throw _errors.Errors.argumentNull('addonClassName');\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className;\n  sourceClassName = sourceClassName || '';\n  console.assert(addonClassName);\n  if (sourceClassName.indexOf(addonClassName) >= 0) return sourceClassName;\n  var className = \"\".concat(sourceClassName, \" \").concat(addonClassName);\n  if (typeof element != 'string') element.className = className;\n  return className;\n}\n\nfunction removeClassName(element, targetClassName) {\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className || '';\n  if (sourceClassName.indexOf(targetClassName) < 0) return sourceClassName;\n  sourceClassName = sourceClassName || '';\n  sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n  sourceClassName = sourceClassName.trim();\n  if (typeof element != 'string') element.className = sourceClassName;\n  return sourceClassName;\n}\n//# sourceMappingURL=style.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.component = component;\nexports.Component = exports.ComponentWrapperContext = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _componentWrapper = require(\"./component-wrapper\");\n\nvar _errors = require(\"./errors\");\n\nvar _common = require(\"./common\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ComponentWrapperContext = React.createContext(null);\nexports.ComponentWrapperContext = ComponentWrapperContext;\n\nfunction component(args) {\n  return function (constructor) {\n    // if (PageDesigner) {\n    Component.setAttribute(constructor.name, args); // }\n\n    Component.register(constructor.name, constructor);\n    return constructor;\n  };\n}\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component() {\n    _classCallCheck(this, Component);\n  }\n\n  _createClass(Component, null, [{\n    key: \"setAttribute\",\n\n    /**\r\n     * 设置组件特性\r\n     * @param typename 组件类型名称\r\n     * @param attr 组件特性\r\n     */\n    value: function setAttribute(typename, attr) {\n      Component.componentAttributes[typename] = attr;\n    }\n    /**\r\n     * 获取组件特性\r\n     * @param typename 组件类型名称\r\n     */\n\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(type) {\n      var typename = typeof type == 'string' ? type : type.name;\n      var attr = Component.componentAttributes[typename];\n      return Object.assign({\n        type: type\n      }, _componentWrapper.defaultComponentAttribute, attr || {});\n    }\n  }, {\n    key: \"getPropEditors\",\n    value: function getPropEditors(componentData) {\n      var componentType = typeof componentData == \"string\" ? \"string\" : componentData.type;\n      var result = [];\n      var propEditorInfo = this.componentPropEditors[componentType] || [];\n\n      for (var i = 0; i < propEditorInfo.length; i++) {\n        var propName = propEditorInfo[i].propName;\n        var display = Component.componentPropEditorDisplay[\"\".concat(componentType, \".\").concat(propName)];\n        if (display != null && display(componentData) == false) continue;\n        result.push(propEditorInfo[i]);\n      }\n\n      return result; // let classEditors = this.componentPropEditors[componentType] || []\n      // Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\n      // return classEditors\n    }\n  }, {\n    key: \"getPropEditor\",\n    value: function getPropEditor(controlClassName, propName) {\n      return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /** 通过属性数组获取属性的编辑器 */\n\n  }, {\n    key: \"getPropEditorByArray\",\n    value: function getPropEditorByArray(controlClassName, propNames) {\n      var classEditors = this.componentPropEditors[controlClassName] || [];\n      var editor = classEditors.filter(function (o) {\n        return o.propName == propNames;\n      })[0];\n      return editor;\n    }\n  }, {\n    key: \"setPropEditor\",\n    value: function setPropEditor(componentTypeOrOptions, propName, editorType, group) {\n      var componentType;\n      var editorDisplay;\n\n      if (_typeof(componentTypeOrOptions) == \"object\") {\n        var options = componentTypeOrOptions;\n        componentType = options.componentType;\n        propName = options.propName;\n        editorType = options.editorType;\n        group = options.group;\n        editorDisplay = options.display;\n\n        if (options.displayName != null) {\n          _common.proptDisplayNames[propName] = options.displayName;\n        }\n      } else {\n        componentType = componentTypeOrOptions;\n      }\n\n      group = group || ''; // 属性可能为导航属性,例如 style.width\n\n      var propNames = propName.split('.');\n      var className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n      Component.componentPropEditorDisplay[\"\".concat(className, \".\").concat(propName)] = editorDisplay;\n      var classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n\n      for (var i = 0; i < classProps.length; i++) {\n        var propName1 = classProps[i].propName; //classProps[i].propNames.join('.')\n\n        var propName2 = propNames.join('.');\n\n        if (propName1 == propName2) {\n          classProps[i].editorType = editorType;\n          return;\n        }\n      }\n\n      classProps.push({\n        propName: propName,\n        editorType: editorType,\n        group: group\n      });\n    }\n  }, {\n    key: \"register\",\n    value: function register(componentName, componentType, attr) {\n      if (componentType == null && typeof componentName == 'function') {\n        componentType = componentName;\n        componentName = componentType.name;\n        componentType['componentName'] = componentName;\n      }\n\n      if (!componentName) throw _errors.Errors.argumentNull('componentName');\n      if (!componentType) throw _errors.Errors.argumentNull('componentType');\n      Component.componentTypes[componentName] = componentType;\n      if (attr) Component.setAttribute(componentName, attr);\n    }\n  }, {\n    key: \"getComponentType\",\n    value: function getComponentType(componentName) {\n      var componentType = Component.componentTypes[componentName];\n      return componentType;\n    }\n  }]);\n\n  return Component;\n}(); //==========================================\n// 用于创建 React 的 React.Fragment \n\n\nexports.Component = Component;\nComponent.Fragment = \"\"; //==========================================\n// private static defaultComponentAttribute: ComponentAttribute = {\n//     container: false, movable: false, showHandler: false, resize: false\n// }\n\nComponent.componentAttributes = {\n  'div': {\n    container: true,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'img': {\n    container: false,\n    movable: true,\n    resize: true\n  },\n  'label': {\n    movable: true\n  },\n  'ul': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: false\n  },\n  'li': {\n    container: true,\n    movable: false\n  },\n  'table': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'thead': {\n    container: false,\n    movable: false\n  },\n  'tbody': {\n    container: false,\n    movable: false\n  },\n  'tfoot': {\n    container: false,\n    movable: false\n  },\n  'tr': {\n    container: false,\n    movable: false\n  },\n  'td': {\n    container: true,\n    movable: false\n  }\n};\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {};\nComponent.componentTypes = {};\n//# sourceMappingURL=component.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentPanel = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _common = require(\"./common\");\n\nvar _style = require(\"./style\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ComponentPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentPanel, _React$Component);\n\n  function ComponentPanel(props) {\n    var _this;\n\n    _classCallCheck(this, ComponentPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ComponentPanel).call(this, props));\n    _this.state = {\n      componets: []\n    };\n    return _this;\n  }\n\n  _createClass(ComponentPanel, [{\n    key: \"componentDraggable\",\n    value: function componentDraggable(toolItemElement, componentData) {\n      console.assert(toolItemElement != null);\n      toolItemElement.draggable = true;\n      toolItemElement.addEventListener('dragstart', function (ev) {\n        componentData.props = componentData.props || {};\n        ev.dataTransfer.setData(_common.constants.componentData, JSON.stringify(componentData));\n        ev.dataTransfer.setData('mousePosition', JSON.stringify({\n          x: ev.offsetX,\n          y: ev.offsetY\n        }));\n      });\n    }\n  }, {\n    key: \"setComponets\",\n    value: function setComponets(componets) {\n      this.setState({\n        componets: componets\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7EC4\\u4EF6\");\n      var props = Object.assign({}, this.props);\n      var componets = this.state.componets || []; // return <DesignerContext.Consumer>\n      //     {context => {\n      //         this.designer = context.designer;\n\n      return React.createElement(\"ul\", Object.assign({}, props, {\n        className: \"\".concat(_style.classNames.componentPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.toolbarElement = _this2.toolbarElement || e;\n        }\n      }), componets.length == 0 ? empty : componets.map(function (c, i) {\n        var props = {\n          key: i\n        };\n        props[ComponentPanel.componentIndexName] = \"\".concat(i);\n        return React.createElement(\"li\", Object.assign({}, props, {\n          className: _style.classNames.componentIcon\n        }), React.createElement(\"div\", {\n          className: \"btn-link\"\n        }, React.createElement(\"i\", {\n          className: c.icon,\n          style: {\n            fontSize: 44,\n            color: 'black'\n          },\n          ref: function ref(e) {\n            if (!e) return;\n            var ctrl = c.componentData;\n\n            _this2.componentDraggable(e, ctrl);\n          }\n        })), React.createElement(\"div\", null, c.displayName));\n      })); // return <div {...props as any} className={`${classNames.componentPanel} panel panel-primary`}>\n      //     <div className=\"panel-heading\">工具栏</div>\n      //     <div className=\"panel-body\">\n      //     </div>\n      // </div>\n      //     }}\n      // </DesignerContext.Consumer>\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this.toolbarElement;\n    }\n  }], [{\n    key: \"getComponentData\",\n    value: function getComponentData(dataTransfer) {\n      var str = dataTransfer.getData(_common.constants.componentData);\n      if (!str) return;\n      return JSON.parse(str);\n    }\n    /** 获取光标在图标内的位置 */\n\n  }, {\n    key: \"mouseInnerPosition\",\n    value: function mouseInnerPosition(dataTransfer) {\n      var str = dataTransfer.getData('mousePosition');\n      if (!str) return;\n      return JSON.parse(str);\n    }\n  }]);\n\n  return ComponentPanel;\n}(React.Component); // designer: PageDesigner;\n\n\nexports.ComponentPanel = ComponentPanel;\nComponentPanel.componentIndexName = \"data-component-index\";\n//# sourceMappingURL=component-panel.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultComponentAttribute = exports.ComponentWrapper = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _errors = require(\"./errors\");\n\nvar _common = require(\"./common\");\n\nvar _componentPanel = require(\"./component-panel\");\n\nvar _style = require(\"./style\");\n\nvar _component = require(\"./component\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\r\n * 组件包装器，对组件进行包装，实现组件设计时的行为。\r\n * 1. 组件的移动\r\n * 2. 组件的拖放\r\n */\nvar ComponentWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentWrapper, _React$Component);\n\n  function ComponentWrapper(props) {\n    _classCallCheck(this, ComponentWrapper);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ComponentWrapper).call(this, props));\n  }\n\n  _createClass(ComponentWrapper, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"designtimeBehavior\",\n    value: function designtimeBehavior(element, attr) {\n      if (!element) throw _errors.Errors.argumentNull('element');\n      if (!attr) throw _errors.Errors.argumentNull('args');\n\n      if (element.getAttribute('data-behavior')) {\n        return;\n      }\n\n      element.setAttribute('data-behavior', 'behavior');\n      var designer = this.props.designer;\n      console.assert(attr.container != null);\n      console.assert(attr.movable != null);\n\n      if (attr.container) {\n        ComponentWrapper.enableAppendDroppable(element, designer);\n      }\n\n      if (attr.movable) {\n        console.assert(element != null);\n        ComponentWrapper.draggable(designer, element);\n        if (this.handler != null) ComponentWrapper.draggable(designer, element, this.handler);\n      } else {\n        element.onclick = function (ev) {\n          return ComponentWrapper.invokeOnClick(ev, designer, element);\n        };\n      }\n    }\n    /**\r\n     * 启用拖放操作，以便通过拖放图标添加控件\r\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.element) {\n        return;\n      }\n\n      var attr = this.props.source.attr;\n      this.designtimeBehavior(this.element, attr);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      var attr = this.props.source.attr;\n      var noWrapper = attr.noWrapper; //attr.resize || typeof this.props.source.type != 'string';// || (typeof this.props.source.type != 'string' && this.props.source.type != MasterPage)\n\n      if (noWrapper) {\n        return this.renderWidthoutWrapper();\n      }\n\n      var props = this.props.source.props;\n      var style = props.style = JSON.parse(JSON.stringify(props.style || {})); // 深复制 style\n\n      var top = style.top,\n          left = style.left,\n          position = style.position,\n          width = style.width,\n          height = style.height,\n          display = style.display,\n          visibility = style.visibility;\n      var className = (0, _style.appendClassName)(props.className || '', _style.classNames.componentWrapper);\n      className = props.selected ? (0, _style.appendClassName)(className, _style.classNames.componentSelected) : className;\n      var wrapperProps = {\n        id: props.id,\n        className: className,\n        style: {\n          top: top,\n          left: left,\n          position: position,\n          width: width,\n          height: height,\n          display: display,\n          visibility: visibility\n        },\n        ref: function ref(e) {\n          return _this.element = e || _this.element;\n        }\n      };\n      var move_handle = props.selected && attr.showHandler ? React.createElement(\"div\", {\n        className: \"move_handle\",\n        style: {},\n        ref: function ref(e) {\n          return _this.handler = e || _this.handler;\n        }\n      }) : null;\n      var showResizeHandle = attr.resize && props.style.position == 'absolute' && props.selected;\n      var source = this.props.source;\n\n      if (props.style) {\n        delete props.style.left;\n        delete props.style.top;\n        delete props.style.position;\n        if (wrapperProps.style.width && wrapperProps.style.width != 'unset') props.style.width = '100%';\n        if (wrapperProps.style.height && wrapperProps.style.height != 'unset') props.style.height = '100%';\n      } // source.props.ref = function (e) {\n      // };\n\n\n      return React.createElement(_component.ComponentWrapperContext.Provider, {\n        value: this\n      }, React.createElement(\"div\", Object.assign({}, wrapperProps), move_handle, showResizeHandle ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"resize_handle NE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NN\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle WW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle EE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SS\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SE\"\n      })) : null, this.createRawElement(source.type, source.props, source.children)));\n    }\n  }, {\n    key: \"renderWidthoutWrapper\",\n    value: function renderWidthoutWrapper() {\n      var _this2 = this;\n\n      var _this$props$source = this.props.source,\n          type = _this$props$source.type,\n          props = _this$props$source.props,\n          children = _this$props$source.children;\n      var ref = props.ref;\n\n      props.ref = function (e) {\n        if (typeof ref == \"function\") ref(e);\n        if (!e) return;\n\n        if (e.tagName) {\n          var attr = _this2.props.source.attr;\n\n          _this2.designtimeBehavior(e, attr);\n\n          return;\n        }\n      };\n\n      if (props.selected) {\n        props.className = (0, _style.appendClassName)(props.className || '', _style.classNames.componentSelected);\n      }\n\n      var element = this.createRawElement(type, props, children);\n      return React.createElement(_component.ComponentWrapperContext.Provider, {\n        value: this\n      }, element);\n    }\n  }, {\n    key: \"createRawElement\",\n    value: function createRawElement(type, props, children) {\n      props = Object.assign({}, props);\n      var isEmptyElement = (children || []).length == 0;\n\n      if (isEmptyElement) {\n        var emtpy = this.designTimeEmptyElement(type, props);\n        if (emtpy != null) children = [emtpy];\n      }\n\n      if (typeof type == \"string\") {\n        props[\"parent-id\"] = props.parentId;\n        delete props.parentId;\n      }\n\n      return React.createElement.apply(React, [type, props].concat(_toConsumableArray(children)));\n    }\n  }, {\n    key: \"designTimeEmptyElement\",\n    value: function designTimeEmptyElement(type, props) {\n      if (type == 'input' || type == 'img' || type == 'meta' || type == 'link') return null;\n      var typename = typeof type == 'string' ? type : type.name;\n      var text = this.designTimeText(typename, props);\n      return text;\n    }\n  }, {\n    key: \"designTimeText\",\n    value: function designTimeText(type, props) {\n      var text = props.text;\n\n      if (text) {\n        return text;\n      }\n\n      text = text || props.name || type;\n      return text;\n    }\n  }], [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, designer) {\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var componentName = event.dataTransfer.getData(_common.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event['layerX'], \" top:\").concat(event['layerX']));\n      });\n      element.addEventListener(\"drop\", function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var args1 = arguments[1];\n        if (!event.dataTransfer) return;\n\n        var ctrl = _componentPanel.ComponentPanel.getComponentData(event.dataTransfer);\n\n        if (!ctrl) return;\n        ctrl.props.style = ctrl.props.style || {};\n        designer.pageData.props.style = designer.pageData.props.style || {};\n\n        if (!ctrl.props.style.position) {\n          ctrl.props.style.position = designer.pageData.props.style.position;\n        }\n\n        var pos = _componentPanel.ComponentPanel.mouseInnerPosition(event.dataTransfer);\n\n        console.assert(pos != null);\n\n        if (ctrl.props.style.position == 'absolute') {\n          ctrl.props.style.left = event['layerX'] - pos.x;\n          ctrl.props.style.top = event['layerY'] - pos.y;\n        }\n\n        designer.appendComponent(element.id, ctrl);\n      });\n    }\n  }, {\n    key: \"isResizeHandleClassName\",\n    value: function isResizeHandleClassName(className) {\n      var classNames = ['resize_handle NE', 'resize_handle NN', 'resize_handle NW', 'resize_handle WW', 'resize_handle EE', 'resize_handle SW', 'resize_handle SS', 'resize_handle SE'];\n      return classNames.indexOf(className) >= 0;\n    }\n  }, {\n    key: \"draggable\",\n    value: function draggable(designer, element, handler) {\n      if (!designer) throw _errors.Errors.argumentNull('designer');\n      if (!element) throw _errors.Errors.argumentNull('element');\n      console.assert(element.id != \"\");\n      handler = handler || element;\n      var componentId = element.id;\n      console.assert(componentId != \"\");\n      var startPos;\n      var rect;\n      var dragStart;\n      $(handler).drag(\"init\", function (ev) {\n        startPos = $(element).position();\n        if ($(this).is(\".\".concat(_style.classNames.componentSelected))) return $(\".\".concat(_style.classNames.componentSelected));\n      }).drag('start', function (ev, dd) {\n        dd.attr = $(ev.target).prop(\"className\");\n        dd.width = $(this).width();\n        dd.height = $(this).height();\n        dd.sourceElement = element;\n        dragStart = Date.now();\n      }).drag(function (ev, dd) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        console.log(\"drop:\");\n        console.log(dd.drop);\n        rect = {};\n\n        if (dd.attr.indexOf(\"E\") > -1) {\n          rect.width = Math.max(32, dd.width + dd.deltaX);\n        }\n\n        if (dd.attr.indexOf(\"S\") > -1) {\n          rect.height = Math.max(32, dd.height + dd.deltaY);\n        }\n\n        if (dd.attr.indexOf(\"W\") > -1) {\n          rect.width = Math.max(32, dd.width - dd.deltaX);\n          setLeft(dd);\n        }\n\n        if (dd.attr.indexOf(\"N\") > -1) {\n          rect.height = Math.max(32, dd.height - dd.deltaY);\n          setTop(dd);\n        }\n\n        if (dd.attr.indexOf(\"WW\") >= 0) setLeft(dd);\n        if (dd.attr.indexOf(\"NE\") >= 0 || dd.attr.indexOf(\"NW\") >= 0 || dd.attr.indexOf(\"SW\") >= 0) setPosition(dd);\n        if (dd.attr.indexOf(\"NN\") >= 0) setTop(dd);\n\n        if (dd.attr.indexOf(\"drag\") > -1) {\n          rect.top = dd.offsetY;\n          rect.left = dd.offsetX;\n        }\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          setPosition(dd);\n        }\n\n        if (dd.attr) $(this).css(rect);\n      }, {\n        click: true\n      }).drag('end', function (ev, dd) {\n        var interval = Date.now() - dragStart;\n        ComponentWrapper.isDrag = interval >= 300;\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          var left = startPos.left + dd.deltaX;\n          var top = startPos.top + dd.deltaY;\n          designer.setComponentPosition(element.id, {\n            left: left,\n            top: top\n          });\n          element.style.transform = '';\n        } else {\n          var _left, _top;\n\n          if (dd.attr.indexOf(\"W\") > -1) _left = startPos.left + dd.deltaX;\n          if (dd.attr.indexOf(\"N\") > -1) _top = startPos.top + dd.deltaY;\n          element.style.transform = '';\n          designer.setComponentPosition(element.id, {\n            left: _left,\n            top: _top\n          });\n          designer.setComponentSize(componentId, rect);\n        }\n      }).click(function (ev) {\n        ComponentWrapper.invokeOnClick(ev, designer, element);\n      });\n\n      var setPosition = function setPosition(dd) {\n        console.log(['dd.offsetX, dd.offsetY', dd.offsetX, dd.offsetY]);\n        console.log(dd);\n        element.style.transform = \"translate(\".concat(dd.deltaX, \"px,\").concat(dd.deltaY, \"px)\");\n      };\n\n      var setTop = function setTop(dd) {\n        element.style.transform = \"translateY(\".concat(dd.deltaY, \"px)\");\n      };\n\n      var setLeft = function setLeft(dd) {\n        element.style.transform = \"translateX(\".concat(dd.deltaX, \"px)\");\n      };\n    }\n  }, {\n    key: \"invokeOnClick\",\n    value: function invokeOnClick(ev, designer, element) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (ComponentWrapper.isDrag) {\n        ComponentWrapper.isDrag = false;\n        return;\n      }\n\n      var elementID = element.id;\n\n      if (!ev.ctrlKey) {\n        designer.selectComponent(element.id);\n        return;\n      }\n\n      var selectedControlIds = designer.selectedComponentIds;\n      console.assert(elementID != \"\");\n\n      if (selectedControlIds.indexOf(elementID) >= 0) {\n        selectedControlIds = selectedControlIds.filter(function (o) {\n          return o != elementID;\n        });\n      } else {\n        selectedControlIds.push(elementID);\n      }\n\n      designer.selectComponent(selectedControlIds);\n    }\n  }]);\n\n  return ComponentWrapper;\n}(React.Component);\n\nexports.ComponentWrapper = ComponentWrapper;\nComponentWrapper.isDrag = false;\nvar defaultComponentAttribute = {\n  container: false,\n  movable: false,\n  showHandler: false,\n  resize: false,\n  noWrapper: false\n};\nexports.defaultComponentAttribute = defaultComponentAttribute;\n//# sourceMappingURL=component-wrapper.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PageView = exports.PlaceHolder = exports.MasterPage = exports.MasterPageContext = exports.MasterPageName = exports.ReactPageBuilder = exports.PageBuilderContext = void 0;\n\nvar _component = require(\"./component\");\n\nvar _errors = require(\"./errors\");\n\nvar _style = require(\"./style\");\n\nvar _componentWrapper = require(\"./component-wrapper\");\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar ReactDOM = _interopRequireWildcard(require(\"react-dom\"));\n\nvar _common = require(\"./common\");\n\nvar _componentPanel = require(\"./component-panel\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PageBuilderContext = React.createContext({\n  pageBuilder: null\n});\n/** 基于 ReactJS 的页面渲染器 */\n\nexports.PageBuilderContext = PageBuilderContext;\n\nvar ReactPageBuilder =\n/*#__PURE__*/\nfunction () {\n  function ReactPageBuilder(args) {\n    _classCallCheck(this, ReactPageBuilder);\n\n    if (!args) throw _errors.Errors.argumentNull(\"args\");\n    this.designer = args.designer;\n  }\n\n  _createClass(ReactPageBuilder, [{\n    key: \"createDesignTimeElement\",\n    value: function createDesignTimeElement(type, props) {\n      if (type == null) throw _errors.Errors.argumentNull('type');\n      if (props == null) throw _errors.Errors.argumentNull('props');\n      if (props.id == null) throw _errors.Errors.argumentFieldCanntNull('id', 'props');\n      console.assert(props.id != null);\n      if (props.id != null) props.key = props.id; //===================================================\n      // 获取对象的 ComponentAttribute ，以从对象 props 中获取的为准\n\n      var attr1 = _component.Component.getAttribute(type);\n\n      console.assert(attr1 != null);\n      var attr2 = props.attr || {};\n      var attr = Object.assign({}, attr1, attr2);\n      delete props.attr; //===================================================\n\n      var className = props.selected ? (0, _style.appendClassName)(props.className || '', _style.classNames.componentSelected) : props.className;\n      var wrapperProps = Object.assign({}, props);\n      delete wrapperProps.ref;\n      wrapperProps.className = className;\n\n      for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        children[_key - 2] = arguments[_key];\n      }\n\n      return React.createElement(_componentWrapper.ComponentWrapper, Object.assign({}, wrapperProps, {\n        designer: this.designer,\n        source: {\n          type: type,\n          attr: attr,\n          props: props,\n          children: children\n        }\n      }));\n    }\n  }, {\n    key: \"createPage\",\n    value: function createPage(pageData, pageElement) {\n      if (!pageData) throw _errors.Errors.argumentNull(\"pageData\");\n      if (!pageElement) throw _errors.Errors.argumentNull(\"pageElement\");\n      ReactPageBuilder.fillPageData(pageData);\n      this.pageData = pageData;\n      this.pageElement = pageElement;\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.assert(this.pageData.props.id != null);\n      var c = ReactPageBuilder.createElement(this.pageData, this.createDesignTimeElement.bind(this));\n      ReactDOM.render(React.createElement(PageBuilderContext.Provider, {\n        value: {\n          pageBuilder: this\n        }\n      }, c), this.pageElement);\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps(componentProps) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentProps.length; i++) {\n        var _componentProps$i = componentProps[i],\n            componentId = _componentProps$i.componentId,\n            propName = _componentProps$i.propName,\n            value = _componentProps$i.value;\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.render();\n      return componentDatas;\n    }\n  }, {\n    key: \"setComponentsSize\",\n    value: function setComponentsSize(componentSiezs) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentSiezs.length; i++) {\n        var _componentSiezs$i = componentSiezs[i],\n            componentId = _componentSiezs$i.componentId,\n            size = _componentSiezs$i.size;\n        var componentData = this.findComponentData(componentId);\n        if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n        componentDatas.push(componentData);\n        var style = componentData.props.style = componentData.props.style || {};\n        if (size.height) style.height = size.height;\n        if (size.width) style.width = size.width;\n      }\n\n      this.render();\n      return componentDatas;\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      var componentDatas = ReactPageBuilder.travelComponentData(this.pageData, function (item) {\n        return item.props.id == componentId;\n      });\n      return componentDatas[0];\n    }\n    /** 对 pageData 进行缺少的字段进行补充 */\n\n  }, {\n    key: \"appendComponent\",\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw _errors.Errors.argumentNull('parentId');\n      if (!componentData) throw _errors.Errors.argumentNull('childComponent');\n      ReactPageBuilder.nameComponent(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      } // let { pageData } = this.state;\n      // this.setState({ pageData });\n      // this.selectComponent(componentData.props.id);\n      // this.componentAppend.fire(this)\n\n\n      this.render();\n    }\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponents\",\n    value: function selectComponents(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var stack = [];\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        var isSelectedControl = componentIds.indexOf(item.props.id) >= 0;\n        item.props.selected = isSelectedControl;\n        var children = item.children || [];\n\n        for (var i = 0; i < children.length; i++) {\n          stack.push(children[i]);\n        }\n      } // this.setState({ pageData: this.pageData })\n      // this.componentSelected.fire(this.selectedComponentIds)\n\n\n      this.render(); //====================================================\n      // 设置焦点，以便获取键盘事件\n\n      this.pageElement.focus(); //====================================================\n    }\n  }, {\n    key: \"setComponentsPosition\",\n    value: function setComponentsPosition(positions) {\n      var _this = this;\n\n      var componentDatas = new Array();\n      positions.forEach(function (o) {\n        var componentId = o.componentId;\n        var _o$position = o.position,\n            left = _o$position.left,\n            top = _o$position.top;\n\n        var componentData = _this.findComponentData(componentId);\n\n        if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n        var style = componentData.props.style = componentData.props.style || {};\n        if (left) style.left = left;\n        if (top) style.top = top;\n        componentDatas.push(componentData);\n      });\n      this.render();\n      return componentDatas;\n    }\n  }, {\n    key: \"removeComponents\",\n    value: function removeComponents(componentIds) {\n      var _this2 = this;\n\n      var pageData = this.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n      componentIds.forEach(function (controlId) {\n        _this2.removeComponentFrom(controlId, pageData.children);\n      });\n    }\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.pageData;\n      console.assert(pageData.children != null);\n      this.removeComponentFrom(componentId, pageData.children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(componentId, collection) {\n      var compoentIndex = null;\n\n      for (var i = 0; i < collection.length; i++) {\n        if (componentId == collection[i].props.id) {\n          compoentIndex = i;\n          break;\n        }\n      }\n\n      if (compoentIndex == null) {\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var o = collection[_i2];\n\n          if (o.children && o.children.length > 0) {\n            var isRemoved = this.removeComponentFrom(componentId, o.children);\n\n            if (isRemoved) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n\n      if (compoentIndex == 0) {\n        collection.shift();\n      } else if (compoentIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(compoentIndex, 1);\n      }\n\n      return true;\n    }\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param component\r\n     */\n\n  }], [{\n    key: \"fillPageData\",\n    value: function fillPageData(pageData) {\n      if (pageData == null) {\n        return;\n      }\n\n      pageData.children = pageData.children || [];\n      ReactPageBuilder.nameComponent(pageData); // PageDesigner.setComponetRefProp(pageData, components);\n    }\n  }, {\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"nameComponent\",\n    value: function nameComponent(component) {\n      var namedComponents = {};\n      var props = component.props = component.props || {};\n\n      if (!props.name) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        props.name = name;\n      }\n\n      if (!props.id) props.id = (0, _common.guid)();\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      for (var i = 0; i < component.children.length; i++) {\n        ReactPageBuilder.nameComponent(component.children[i]);\n      }\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(componentData, h) {\n      return ReactPageBuilder._createElement(componentData, {\n        components: [],\n        componentTypes: []\n      }, h);\n    }\n    /**\r\n     * 将持久化的元素数据转换为 ReactElement\r\n     * @param componentData 元素数据\r\n     */\n\n  }, {\n    key: \"_createElement\",\n    value: function _createElement(componentData, context, h) {\n      if (!componentData) throw _errors.Errors.argumentNull('componentData');\n      h = h || React.createElement;\n\n      try {\n        var type = componentData.type;\n        var componentName = componentData.type;\n\n        var componentType = _component.Component.getComponentType(componentName);\n\n        if (componentType) {\n          type = componentType;\n        }\n\n        var children = componentData.children ? componentData.children.map(function (o) {\n          return ReactPageBuilder._createElement(o, context, h);\n        }) : [];\n        var props = componentData.props == null ? {} : Object.assign({}, componentData.props); //JSON.parse(JSON.stringify(componentData.props));\n\n        props.style = Object.assign({}, props.style || {});\n\n        if (componentType != null && componentType[\"defaultProps\"]) {\n          props = Object.assign({}, componentType[\"defaultProps\"], props);\n        }\n\n        var result;\n\n        if (typeof type == 'string') {\n          if (props.text) {\n            children.push(props.text);\n          } //=========================================\n          // props.text 非 DOM 的 prop，并且已经使用完\n\n\n          delete props.text;\n\n          if (h == React.createElement) {\n            delete props.attr;\n          } //=========================================\n\n        }\n\n        var masterPage;\n        type = type == _component.Component.Fragment ? React.Fragment : type;\n        var ref = props.ref;\n\n        props.ref = function (e) {\n          if (typeof ref == \"function\") ref(e);\n\n          if (e instanceof MasterPage) {\n            masterPage = e;\n\n            for (var i = 0; i < context.componentTypes.length; i++) {\n              var typeName = context.componentTypes[i];\n              var childComponents = masterPage.childComponents[typeName] = masterPage.childComponents[typeName] || [];\n              childComponents.push(context.components[i]);\n            }\n          } else if (e != null) {\n            context.components.push(e);\n            context.componentTypes.push(typeof type == \"string\" ? type : type.name); // masterPage.componentCreated.fire({ component: e, type: typeof type == \"string\" ? type : type.name });\n          }\n        };\n\n        result = h.apply(void 0, [type, props].concat(_toConsumableArray(children)));\n        return result;\n      } catch (e) {\n        console.error(e);\n        return null;\n      }\n    }\n  }]);\n\n  return ReactPageBuilder;\n}();\n\nexports.ReactPageBuilder = ReactPageBuilder;\nvar MasterPageName = 'MasterPage';\nexports.MasterPageName = MasterPageName;\nvar MasterPageContext = React.createContext({\n  master: null\n});\nexports.MasterPageContext = MasterPageContext;\n\nvar MasterPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MasterPage, _React$Component);\n\n  function MasterPage(props) {\n    var _this3;\n\n    _classCallCheck(this, MasterPage);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(MasterPage).call(this, props));\n    _this3.childComponents = {};\n    var children = MasterPage.children(props);\n    _this3.state = {\n      children: children\n    };\n    return _this3;\n  }\n\n  _createClass(MasterPage, [{\n    key: \"render\",\n    value: function render() {\n      var props = {};\n\n      for (var key in this.props) {\n        if (key == 'ref' || key == 'id') continue;\n        props[key] = this.props[key];\n      }\n\n      props.style = Object.assign({\n        minHeight: 40\n      }, props.style);\n      var children = this.state.children.filter(function (o) {\n        return o.props.parentId == null;\n      });\n      var master = this;\n      console.assert(master != null);\n      return React.createElement(MasterPageContext.Provider, {\n        value: {\n          master: master\n        }\n      }, children);\n    }\n  }], [{\n    key: \"children\",\n    value: function children(props) {\n      var arr = props.children == null ? [] : Array.isArray(props.children) ? props.children : [props.children];\n      var children = [];\n      arr.forEach(function (o) {\n        if (!React.isValidElement(o)) return;\n        children.push(o);\n      });\n      return children;\n    }\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props) {\n      var children = MasterPage.children(props);\n      return {\n        children: children\n      };\n    }\n  }]);\n\n  return MasterPage;\n}(React.Component);\n\nexports.MasterPage = MasterPage;\n\n_component.Component.register(MasterPageName, MasterPage, {\n  container: false,\n  resize: false,\n  noWrapper: true\n});\n/**\r\n * 占位符，用于放置控件\r\n */\n\n\nvar PlaceHolder =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(PlaceHolder, _React$Component2);\n\n  function PlaceHolder(props) {\n    var _this4;\n\n    _classCallCheck(this, PlaceHolder);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(PlaceHolder).call(this, props));\n\n    if (!_this4.props.id) {\n      throw _errors.Errors.placeHolderIdNull();\n    }\n\n    return _this4;\n  }\n  /**\r\n   * 启用拖放操作，以便通过拖放图标添加控件\r\n   */\n\n\n  _createClass(PlaceHolder, [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, master) {\n      var _this5 = this;\n\n      if (element.getAttribute('enable-append-droppable')) return;\n      element.setAttribute('enable-append-droppable', 'true');\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = (0, _style.appendClassName)(element.className || '', 'active');\n        var componentName = event.dataTransfer.getData(_common.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event.layerX, \" top:\").concat(event.layerX));\n      });\n\n      var func = function func(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = (0, _style.removeClassName)(element.className, 'active');\n      };\n\n      element.addEventListener('dragleave', func);\n      element.addEventListener('dragend', func);\n      element.addEventListener('dragexit', func);\n\n      element.ondrop = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = (0, _style.removeClassName)(element.className, 'active');\n        var ctrl;\n        if (event.dataTransfer) ctrl = _componentPanel.ComponentPanel.getComponentData(event.dataTransfer);\n        if (!ctrl) return;\n        console.assert(_this5.props.id != null);\n        console.assert(_this5.designer != null);\n        ctrl.props.parentId = _this5.props.id;\n        console.assert(master != null, 'host is null');\n\n        _this5.designer.appendComponent(master.props.id, ctrl);\n      };\n    }\n  }, {\n    key: \"enableMoveDroppable\",\n    value: function enableMoveDroppable(element, host) {\n      var _this6 = this;\n\n      if (element.getAttribute('enable-move-droppable')) return;\n      element.setAttribute('enable-move-droppable', 'true');\n      $(element).drop('start', function (event, dd) {\n        if (dd.sourceElement.id == _this6.wraper.props.source.props.id) return;\n        (0, _style.appendClassName)(element, 'active');\n      }).drop('drop', function (event, dd) {\n        if (dd.sourceElement.id == _this6.wraper.props.source.props.id) return;\n\n        var componentData = _this6.designer.findComponentData(dd.sourceElement.id);\n\n        console.assert(componentData != null);\n\n        _this6.designer.moveComponent(dd.sourceElement.id, host.props.id);\n\n        _this6.designer.updateComponentProps([{\n          componentId: \"string\",\n          propName: \"string\",\n          value: \"any\"\n        }]); //dd.sourceElement.id, propName, this.props.id\n\n      }).drop('end', function (event, dd) {\n        if (dd.sourceElement.id == _this6.wraper.props.source.props.id) return;\n        (0, _style.removeClassName)(element, 'active');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        key: (0, _common.guid)(),\n        className: \"empty\"\n      }, \"\\u53EF\\u4EE5\\u62D6\\u62C9\\u63A7\\u4EF6\\u5230\\u8FD9\\u91CC\");\n      return React.createElement(MasterPageContext.Consumer, null, function (args) {\n        var master = args.master;\n        if (master == null) throw _errors.Errors.canntFindMasterPage(_this7.props.id);\n        var children = [];\n\n        if (master.props && master.props.children) {\n          var arr;\n\n          if (Array.isArray(master.props.children)) {\n            arr = master.props.children;\n          } else {\n            arr = [master.props.children];\n          }\n\n          children = arr.filter(function (o) {\n            return o.props.parentId != null && o.props.parentId == _this7.props.id;\n          });\n        }\n\n        return React.createElement(PageBuilderContext.Consumer, null, function (args) {\n          return React.createElement(_component.ComponentWrapperContext.Consumer, null, function (wraper) {\n            _this7.wraper = wraper;\n            console.assert(_this7.wraper != null);\n\n            if (args.pageBuilder != null && children.length == 0) {\n              children = [empty];\n            }\n\n            var element = React.createElement(React.Fragment, null, _this7.props.children, children);\n\n            if (args.pageBuilder) {\n              _this7.designer = args.pageBuilder;\n              element = React.createElement(\"div\", {\n                key: (0, _common.guid)(),\n                className: _style.classNames.placeholder,\n                ref: function ref(e) {\n                  if (!e) return;\n                  _this7.element = e;\n\n                  _this7.enableAppendDroppable(e, master);\n\n                  _this7.enableMoveDroppable(e, master);\n                }\n              }, element);\n            }\n\n            return element;\n          });\n        });\n      });\n    }\n  }]);\n\n  return PlaceHolder;\n}(React.Component);\n\nexports.PlaceHolder = PlaceHolder;\n\n_component.Component.register('PlaceHolder', PlaceHolder, {\n  resize: false,\n  movable: false,\n  container: true\n});\n/** 用于将 ComponentData 显示为组件 */\n\n\nvar PageView =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(PageView, _React$Component3);\n\n  function PageView(props) {\n    var _this8;\n\n    _classCallCheck(this, PageView);\n\n    _this8 = _possibleConstructorReturn(this, _getPrototypeOf(PageView).call(this, props));\n    if (!_this8.props.pageData) throw _errors.Errors.propCanntNull(PageView.name, 'pageData');\n    return _this8;\n  }\n\n  _createClass(PageView, [{\n    key: \"render\",\n    value: function render() {\n      var element = ReactPageBuilder.createElement(this.props.pageData);\n      return element;\n    }\n  }]);\n\n  return PageView;\n}(React.Component);\n\nexports.PageView = PageView;\n//# sourceMappingURL=react-page-builder.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"strings\", {\n  enumerable: true,\n  get: function get() {\n    return _common.proptDisplayNames;\n  }\n});\nObject.defineProperty(exports, \"proptDisplayNames\", {\n  enumerable: true,\n  get: function get() {\n    return _common.proptDisplayNames;\n  }\n});\nObject.defineProperty(exports, \"Component\", {\n  enumerable: true,\n  get: function get() {\n    return _component.Component;\n  }\n});\nObject.defineProperty(exports, \"ComponentPanel\", {\n  enumerable: true,\n  get: function get() {\n    return _componentPanel.ComponentPanel;\n  }\n});\nObject.defineProperty(exports, \"EditorPanel\", {\n  enumerable: true,\n  get: function get() {\n    return _editorPanel.EditorPanel;\n  }\n});\nObject.defineProperty(exports, \"PageDesigner\", {\n  enumerable: true,\n  get: function get() {\n    return _pageDesigner.PageDesigner;\n  }\n});\nObject.defineProperty(exports, \"PropEditor\", {\n  enumerable: true,\n  get: function get() {\n    return _propEditor.PropEditor;\n  }\n});\nObject.defineProperty(exports, \"TextInput\", {\n  enumerable: true,\n  get: function get() {\n    return _propEditor.TextInput;\n  }\n});\nObject.defineProperty(exports, \"classNames\", {\n  enumerable: true,\n  get: function get() {\n    return _style.classNames;\n  }\n});\nObject.defineProperty(exports, \"PageBuilderContext\", {\n  enumerable: true,\n  get: function get() {\n    return _reactPageBuilder.PageBuilderContext;\n  }\n});\nObject.defineProperty(exports, \"MasterPage\", {\n  enumerable: true,\n  get: function get() {\n    return _reactPageBuilder.MasterPage;\n  }\n});\nObject.defineProperty(exports, \"MasterPageContext\", {\n  enumerable: true,\n  get: function get() {\n    return _reactPageBuilder.MasterPageContext;\n  }\n});\nObject.defineProperty(exports, \"PlaceHolder\", {\n  enumerable: true,\n  get: function get() {\n    return _reactPageBuilder.PlaceHolder;\n  }\n});\nObject.defineProperty(exports, \"PageView\", {\n  enumerable: true,\n  get: function get() {\n    return _reactPageBuilder.PageView;\n  }\n});\n\nrequire(\"./jquery\");\n\nrequire(\"../lib/jquery.event.drag-2.2\");\n\nrequire(\"../lib/jquery.event.drag.live-2.2\");\n\nrequire(\"../lib/jquery.event.drop-2.2\");\n\nrequire(\"../lib/jquery.event.drop.live-2.2\");\n\nvar _common = require(\"./common\");\n\nvar _component = require(\"./component\");\n\nvar _componentPanel = require(\"./component-panel\");\n\nvar _editorPanel = require(\"./editor-panel\");\n\nvar _pageDesigner = require(\"./page-designer\");\n\nvar _propEditor = require(\"./prop-editor\");\n\nvar _style = require(\"./style\");\n\nvar _reactPageBuilder = require(\"./react-page-builder\");\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nvar j = _interopRequireWildcard(require(\"jquery\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// import * as j from '../lib/jquery-2.1.3'\n// let jquery = window['$'] || window['jQuery'];\n// if (jquery == null) {\n//     window['$'] = window['jQuery'] = j\n// }\nvar jquery = window['$'] || window['jQuery'];\n\nif (jquery == null) {\n  window['$'] = window['jQuery'] = j;\n}\n//# sourceMappingURL=jquery.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","/*! \r\n * jquery.event.drag - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2008-06-04 \r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x\r\n\r\n;(function( $ ){\r\n\r\n// add the jquery instance method\r\n$.fn.drag = function( str, arg, opts ){\r\n\t// figure out the event type\r\n\tvar type = typeof str == \"string\" ? str : \"\",\r\n\t// figure out the event handler...\r\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\r\n\t// fix the event type\r\n\tif ( type.indexOf(\"drag\") !== 0 ) \r\n\t\ttype = \"drag\"+ type;\r\n\t// were options passed\r\n\topts = ( str == fn ? arg : opts ) || {};\r\n\t// trigger or bind event handler\r\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\r\n};\r\n\r\n// local refs (increase compression)\r\nvar $event = $.event, \r\n$special = $event.special,\r\n// configure the drag special event \r\ndrag = $special.drag = {\r\n\t\r\n\t// these are the default settings\r\n\tdefaults: {\r\n\t\twhich: 1, // mouse button pressed to start drag sequence\r\n\t\tdistance: 0, // distance dragged before dragstart\r\n\t\tnot: ':input', // selector to suppress dragging on target elements\r\n\t\thandle: null, // selector to match handle target elements\r\n\t\trelative: false, // true to use \"position\", false to use \"offset\"\r\n\t\tdrop: true, // false to suppress drop events, true or selector to allow\r\n\t\tclick: false // false to suppress click events after dragend (no proxy)\r\n\t},\r\n\t\r\n\t// the key name for stored drag data\r\n\tdatakey: \"dragdata\",\r\n\t\r\n\t// prevent bubbling for better performance\r\n\tnoBubble: true,\r\n\t\r\n\t// count bound related events\r\n\tadd: function( obj ){ \r\n\t\t// read the interaction data\r\n\t\tvar data = $.data( this, drag.datakey ),\r\n\t\t// read any passed options \r\n\t\topts = obj.data || {};\r\n\t\t// count another realted event\r\n\t\tdata.related += 1;\r\n\t\t// extend data options bound with this event\r\n\t\t// don't iterate \"opts\" in case it is a node \r\n\t\t$.each( drag.defaults, function( key, def ){\r\n\t\t\tif ( opts[ key ] !== undefined )\r\n\t\t\t\tdata[ key ] = opts[ key ];\r\n\t\t});\r\n\t},\r\n\t\r\n\t// forget unbound related events\r\n\tremove: function(){\r\n\t\t$.data( this, drag.datakey ).related -= 1;\r\n\t},\r\n\t\r\n\t// configure interaction, capture settings\r\n\tsetup: function(){\r\n\t\t// check for related events\r\n\t\tif ( $.data( this, drag.datakey ) ) \r\n\t\t\treturn;\r\n\t\t// initialize the drag data with copied defaults\r\n\t\tvar data = $.extend({ related:0 }, drag.defaults );\r\n\t\t// store the interaction data\r\n\t\t$.data( this, drag.datakey, data );\r\n\t\t// bind the mousedown event, which starts drag interactions\r\n\t\t$event.add( this, \"touchstart mousedown\", drag.init, data );\r\n\t\t// prevent image dragging in IE...\r\n\t\tif ( this.attachEvent ) \r\n\t\t\tthis.attachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\r\n\t// destroy configured interaction\r\n\tteardown: function(){\r\n\t\tvar data = $.data( this, drag.datakey ) || {};\r\n\t\t// check for related events\r\n\t\tif ( data.related ) \r\n\t\t\treturn;\r\n\t\t// remove the stored data\r\n\t\t$.removeData( this, drag.datakey );\r\n\t\t// remove the mousedown event\r\n\t\t$event.remove( this, \"touchstart mousedown\", drag.init );\r\n\t\t// enable text selection\r\n\t\tdrag.textselect( true ); \r\n\t\t// un-prevent image dragging in IE...\r\n\t\tif ( this.detachEvent ) \r\n\t\t\tthis.detachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\t\r\n\t// initialize the interaction\r\n\tinit: function( event ){ \r\n\t\t// sorry, only one touch at a time\r\n\t\tif ( drag.touched ) \r\n\t\t\treturn;\r\n\t\t// the drag/drop interaction data\r\n\t\tvar dd = event.data, results;\r\n\t\t// check the which directive\r\n\t\tif ( event.which != 0 && dd.which > 0 && event.which != dd.which ) \r\n\t\t\treturn; \r\n\t\t// check for suppressed selector\r\n\t\tif ( $( event.target ).is( dd.not ) ) \r\n\t\t\treturn;\r\n\t\t// check for handle selector\r\n\t\tif ( dd.handle && !$( event.target ).closest( dd.handle, event.currentTarget ).length ) \r\n\t\t\treturn;\r\n\r\n\t\tdrag.touched = event.type == 'touchstart' ? this : null;\r\n\t\tdd.propagates = 1;\r\n\t\tdd.mousedown = this;\r\n\t\tdd.interactions = [ drag.interaction( this, dd ) ];\r\n\t\tdd.target = event.target;\r\n\t\tdd.pageX = event.pageX;\r\n\t\tdd.pageY = event.pageY;\r\n\t\tdd.dragging = null;\r\n\t\t// handle draginit event... \r\n\t\tresults = drag.hijack( event, \"draginit\", dd );\r\n\t\t// early cancel\r\n\t\tif ( !dd.propagates )\r\n\t\t\treturn;\r\n\t\t// flatten the result set\r\n\t\tresults = drag.flatten( results );\r\n\t\t// insert new interaction elements\r\n\t\tif ( results && results.length ){\r\n\t\t\tdd.interactions = [];\r\n\t\t\t$.each( results, function(){\r\n\t\t\t\tdd.interactions.push( drag.interaction( this, dd ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\t// remember how many interactions are propagating\r\n\t\tdd.propagates = dd.interactions.length;\r\n\t\t// locate and init the drop targets\r\n\t\tif ( dd.drop !== false && $special.drop ) \r\n\t\t\t$special.drop.handler( event, dd );\r\n\t\t// disable text selection\r\n\t\tdrag.textselect( false ); \r\n\t\t// bind additional events...\r\n\t\tif ( drag.touched )\r\n\t\t\t$event.add( drag.touched, \"touchmove touchend\", drag.handler, dd );\r\n\t\telse \r\n\t\t\t$event.add( document, \"mousemove mouseup\", drag.handler, dd );\r\n\t\t// helps prevent text selection or scrolling\r\n\t\tif ( !drag.touched || dd.live )\r\n\t\t\treturn false;\r\n\t},\t\r\n\t\r\n\t// returns an interaction object\r\n\tinteraction: function( elem, dd ){\r\n\t\tvar offset = $( elem )[ dd.relative ? \"position\" : \"offset\" ]() || { top:0, left:0 };\r\n\t\treturn {\r\n\t\t\tdrag: elem, \r\n\t\t\tcallback: new drag.callback(), \r\n\t\t\tdroppable: [],\r\n\t\t\toffset: offset\r\n\t\t};\r\n\t},\r\n\t\r\n\t// handle drag-releatd DOM events\r\n\thandler: function( event ){ \r\n\t\t// read the data before hijacking anything\r\n\t\tvar dd = event.data;\t\r\n\t\t// handle various events\r\n\t\tswitch ( event.type ){\r\n\t\t\t// mousemove, check distance, start dragging\r\n\t\t\tcase !dd.dragging && 'touchmove': \r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase !dd.dragging && 'mousemove':\r\n\t\t\t\t//  drag tolerance, x� + y� = distance�\r\n\t\t\t\tif ( Math.pow(  event.pageX-dd.pageX, 2 ) + Math.pow(  event.pageY-dd.pageY, 2 ) < Math.pow( dd.distance, 2 ) ) \r\n\t\t\t\t\tbreak; // distance tolerance not reached\r\n\t\t\t\tevent.target = dd.target; // force target from \"mousedown\" event (fix distance issue)\r\n\t\t\t\tdrag.hijack( event, \"dragstart\", dd ); // trigger \"dragstart\"\r\n\t\t\t\tif ( dd.propagates ) // \"dragstart\" not rejected\r\n\t\t\t\t\tdd.dragging = true; // activate interaction\r\n\t\t\t// mousemove, dragging\r\n\t\t\tcase 'touchmove':\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\t// trigger \"drag\"\t\t\r\n\t\t\t\t\tdrag.hijack( event, \"drag\", dd );\r\n\t\t\t\t\tif ( dd.propagates ){\r\n\t\t\t\t\t\t// manage drop events\r\n\t\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"dropstart\", \"dropend\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak; // \"drag\" not rejected, stop\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.type = \"mouseup\"; // helps \"drop\" handler behave\r\n\t\t\t\t}\r\n\t\t\t// mouseup, stop dragging\r\n\t\t\tcase 'touchend': \r\n\t\t\tcase 'mouseup': \r\n\t\t\tdefault:\r\n\t\t\t\tif ( drag.touched )\r\n\t\t\t\t\t$event.remove( drag.touched, \"touchmove touchend\", drag.handler ); // remove touch events\r\n\t\t\t\telse \r\n\t\t\t\t\t$event.remove( document, \"mousemove mouseup\", drag.handler ); // remove page events\t\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"drop\"\r\n\t\t\t\t\tdrag.hijack( event, \"dragend\", dd ); // trigger \"dragend\"\t\r\n\t\t\t\t}\r\n\t\t\t\tdrag.textselect( true ); // enable text selection\r\n\t\t\t\t// if suppressing click events...\r\n\t\t\t\tif ( dd.click === false && dd.dragging )\r\n\t\t\t\t\t$.data( dd.mousedown, \"suppress.click\", new Date().getTime() + 5 );\r\n\t\t\t\tdd.dragging = drag.touched = false; // deactivate element\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\t\r\n\t// re-use event object for custom events\r\n\thijack: function( event, type, dd, x, elem ){\r\n\t\t// not configured\r\n\t\tif ( !dd ) \r\n\t\t\treturn;\r\n\t\t// remember the original event and type\r\n\t\tvar orig = { event:event.originalEvent, type:event.type },\r\n\t\t// is the event drag related or drog related?\r\n\t\tmode = type.indexOf(\"drop\") ? \"drag\" : \"drop\",\r\n\t\t// iteration vars\r\n\t\tresult, i = x || 0, ia, $elems, callback,\r\n\t\tlen = !isNaN( x ) ? x : dd.interactions.length;\r\n\t\t// modify the event type\r\n\t\tevent.type = type;\r\n\t\t// remove the original event\r\n\t\tevent.originalEvent = null;\r\n\t\t// initialize the results\r\n\t\tdd.results = [];\r\n\t\t// handle each interacted element\r\n\t\tdo if ( ia = dd.interactions[ i ] ){\r\n\t\t\t// validate the interaction\r\n\t\t\tif ( type !== \"dragend\" && ia.cancelled )\r\n\t\t\t\tcontinue;\r\n\t\t\t// set the dragdrop properties on the event object\r\n\t\t\tcallback = drag.properties( event, dd, ia );\r\n\t\t\t// prepare for more results\r\n\t\t\tia.results = [];\r\n\t\t\t// handle each element\r\n\t\t\t$( elem || ia[ mode ] || dd.droppable ).each(function( p, subject ){\r\n\t\t\t\t// identify drag or drop targets individually\r\n\t\t\t\tcallback.target = subject;\r\n\t\t\t\t// force propagtion of the custom event\r\n\t\t\t\tevent.isPropagationStopped = function(){ return false; };\r\n\t\t\t\t// handle the event\t\r\n\t\t\t\tresult = subject ? $event.dispatch.call( subject, event, callback ) : null;\r\n\t\t\t\t// stop the drag interaction for this element\r\n\t\t\t\tif ( result === false ){\r\n\t\t\t\t\tif ( mode == \"drag\" ){\r\n\t\t\t\t\t\tia.cancelled = true;\r\n\t\t\t\t\t\tdd.propagates -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( type == \"drop\" ){\r\n\t\t\t\t\t\tia[ mode ][p] = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// assign any dropinit elements\r\n\t\t\t\telse if ( type == \"dropinit\" )\r\n\t\t\t\t\tia.droppable.push( drag.element( result ) || subject );\r\n\t\t\t\t// accept a returned proxy element \r\n\t\t\t\tif ( type == \"dragstart\" )\r\n\t\t\t\t\tia.proxy = $( drag.element( result ) || ia.drag )[0];\r\n\t\t\t\t// remember this result\t\r\n\t\t\t\tia.results.push( result );\r\n\t\t\t\t// forget the event result, for recycling\r\n\t\t\t\tdelete event.result;\r\n\t\t\t\t// break on cancelled handler\r\n\t\t\t\tif ( type !== \"dropinit\" )\r\n\t\t\t\t\treturn result;\r\n\t\t\t});\t\r\n\t\t\t// flatten the results\t\r\n\t\t\tdd.results[ i ] = drag.flatten( ia.results );\t\r\n\t\t\t// accept a set of valid drop targets\r\n\t\t\tif ( type == \"dropinit\" )\r\n\t\t\t\tia.droppable = drag.flatten( ia.droppable );\r\n\t\t\t// locate drop targets\r\n\t\t\tif ( type == \"dragstart\" && !ia.cancelled )\r\n\t\t\t\tcallback.update(); \r\n\t\t}\r\n\t\twhile ( ++i < len )\r\n\t\t// restore the original event & type\r\n\t\tevent.type = orig.type;\r\n\t\tevent.originalEvent = orig.event;\r\n\t\t// return all handler results\r\n\t\treturn drag.flatten( dd.results );\r\n\t},\r\n\t\t\r\n\t// extend the callback object with drag/drop properties...\r\n\tproperties: function( event, dd, ia ){\t\t\r\n\t\tvar obj = ia.callback;\r\n\t\t// elements\r\n\t\tobj.drag = ia.drag;\r\n\t\tobj.proxy = ia.proxy || ia.drag;\r\n\t\t// starting mouse position\r\n\t\tobj.startX = dd.pageX;\r\n\t\tobj.startY = dd.pageY;\r\n\t\t// current distance dragged\r\n\t\tobj.deltaX = event.pageX - dd.pageX;\r\n\t\tobj.deltaY = event.pageY - dd.pageY;\r\n\t\t// original element position\r\n\t\tobj.originalX = ia.offset.left;\r\n\t\tobj.originalY = ia.offset.top;\r\n\t\t// adjusted element position\r\n\t\tobj.offsetX = obj.originalX + obj.deltaX; \r\n\t\tobj.offsetY = obj.originalY + obj.deltaY;\r\n\t\t// assign the drop targets information\r\n\t\tobj.drop = drag.flatten( ( ia.drop || [] ).slice() );\r\n\t\tobj.available = drag.flatten( ( ia.droppable || [] ).slice() );\r\n\t\treturn obj;\t\r\n\t},\r\n\t\r\n\t// determine is the argument is an element or jquery instance\r\n\telement: function( arg ){\r\n\t\tif ( arg && ( arg.jquery || arg.nodeType == 1 ) )\r\n\t\t\treturn arg;\r\n\t},\r\n\t\r\n\t// flatten nested jquery objects and arrays into a single dimension array\r\n\tflatten: function( arr ){\r\n\t\treturn $.map( arr, function( member ){\r\n\t\t\treturn member && member.jquery ? $.makeArray( member ) : \r\n\t\t\t\tmember && member.length ? drag.flatten( member ) : member;\r\n\t\t});\r\n\t},\r\n\t\r\n\t// toggles text selection attributes ON (true) or OFF (false)\r\n\ttextselect: function( bool ){ \r\n\t\t$( document )[ bool ? \"unbind\" : \"bind\" ](\"selectstart\", drag.dontstart )\r\n\t\t\t.css(\"MozUserSelect\", bool ? \"\" : \"none\" );\r\n\t\t// .attr(\"unselectable\", bool ? \"off\" : \"on\" )\r\n\t\tdocument.unselectable = bool ? \"off\" : \"on\"; \r\n\t},\r\n\t\r\n\t// suppress \"selectstart\" and \"ondragstart\" events\r\n\tdontstart: function(){ \r\n\t\treturn false; \r\n\t},\r\n\t\r\n\t// a callback instance contructor\r\n\tcallback: function(){}\r\n\t\r\n};\r\n\r\n// callback methods\r\ndrag.callback.prototype = {\r\n\tupdate: function(){\r\n\t\tif ( $special.drop && this.available.length )\r\n\t\t\t$.each( this.available, function( i ){\r\n\t\t\t\t$special.drop.locate( this, i );\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\n// patch $.event.$dispatch to allow suppressing clicks\r\nvar $dispatch = $event.dispatch;\r\n$event.dispatch = function( event ){\r\n\tif ( $.data( this, \"suppress.\"+ event.type ) - new Date().getTime() > 0 ){\r\n\t\t$.removeData( this, \"suppress.\"+ event.type );\r\n\t\treturn;\r\n\t}\r\n\treturn $dispatch.apply( this, arguments );\r\n};\r\n\r\n// event fix hooks for touch events...\r\nvar touchHooks = \r\n$event.fixHooks.touchstart = \r\n$event.fixHooks.touchmove = \r\n$event.fixHooks.touchend =\r\n$event.fixHooks.touchcancel = {\r\n\tprops: \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tfilter: function( event, orig ) {\r\n\t\tif ( orig ){\r\n\t\t\tvar touched = ( orig.touches && orig.touches[0] )\r\n\t\t\t\t|| ( orig.changedTouches && orig.changedTouches[0] )\r\n\t\t\t\t|| null; \r\n\t\t\t// iOS webkit: touchstart, touchmove, touchend\r\n\t\t\tif ( touched ) \r\n\t\t\t\t$.each( touchHooks.props, function( i, prop ){\r\n\t\t\t\t\tevent[ prop ] = touched[ prop ];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn event;\r\n\t}\r\n};\r\n\r\n// share the same special event configuration with related events...\r\n$special.draginit = $special.dragstart = $special.dragend = drag;\r\n\r\n})( jQuery );","/*! \r\n * jquery.event.drag.live - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2010-06-07\r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x, event.drag 2.2\r\n\r\n;(function( $ ){\r\n\t\r\n// local refs (increase compression)\r\nvar $event = $.event,\r\n// ref the special event config\r\ndrag = $event.special.drag,\r\n// old drag event add method\r\norigadd = drag.add,\r\n// old drag event teradown method\r\norigteardown = drag.teardown;\r\n\r\n// allow events to bubble for delegation\r\ndrag.noBubble = false;\r\n\r\n// the namespace for internal live events\r\ndrag.livekey = \"livedrag\";\r\n\r\n// new drop event add method\r\ndrag.add = function( obj ){ \r\n\t// call the old method\r\n\torigadd.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey );\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( !data.live && obj.selector ){\r\n\t\tdata.live = true;\r\n\t\t$event.add( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t}\r\n};\r\n\r\n// new drop event teardown method\r\ndrag.teardown = function(){ \r\n\t// call the old method\r\n\torigteardown.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey ) || {};\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( data.live ){\r\n\t\t// remove the \"live\" delegation\r\n\t\t$event.remove( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t\tdata.live = false;\r\n\t}\r\n};\r\n\r\n// identify potential delegate elements\r\ndrag.delegate = function( event ){\r\n\t// local refs\r\n\tvar elems = [], target, \r\n\t// element event structure\r\n\tevents = $.data( this, \"events\" ) || {};\r\n\t// query live events\r\n\t$.each( events || [], function( key, arr ){\r\n\t\t// no event type matches\r\n\t\tif ( key.indexOf(\"drag\") !== 0 )\r\n\t\t\treturn;\r\n\t\t$.each( arr || [], function( i, obj ){\r\n\t\t\t// locate the element to delegate\r\n\t\t\ttarget = $( event.target ).closest( obj.selector, event.currentTarget )[0];\r\n\t\t\t// no element found\r\n\t\t\tif ( !target ) \r\n\t\t\t\treturn;\r\n\t\t\t// add an event handler\r\n\t\t\t$event.add( target, obj.origType+'.'+drag.livekey, obj.origHandler || obj.handler, obj.data );\r\n\t\t\t// remember new elements\r\n\t\t\tif ( $.inArray( target, elems ) < 0 )\r\n\t\t\t\telems.push( target );\t\t\r\n\t\t});\r\n\t});\r\n\t// if there are no elements, break\r\n\tif ( !elems.length ) \r\n\t\treturn false;\r\n\t// return the matched results, and clenup when complete\t\t\r\n\treturn $( elems ).bind(\"dragend.\"+ drag.livekey, function(){\r\n\t\t$event.remove( this, \".\"+ drag.livekey ); // cleanup delegation\r\n\t});\r\n};\r\n\t\r\n})( jQuery );","/*! \n * jquery.event.drop - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2008-06-04 \n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// Events: drop, dropstart, dropend\n\n// add the jquery instance method\n$.fn.drop = function( str, arg, opts ){\n\t// figure out the event type\n\tvar type = typeof str == \"string\" ? str : \"\",\n\t// figure out the event handler...\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\n\t// fix the event type\n\tif ( type.indexOf(\"drop\") !== 0 ) \n\t\ttype = \"drop\"+ type;\n\t// were options passed\n\topts = ( str == fn ? arg : opts ) || {};\n\t// trigger or bind event handler\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\n};\n\n// DROP MANAGEMENT UTILITY\n// returns filtered drop target elements, caches their positions\n$.drop = function( opts ){ \n\topts = opts || {};\n\t// safely set new options...\n\tdrop.multi = opts.multi === true ? Infinity : \n\t\topts.multi === false ? 1 : !isNaN( opts.multi ) ? opts.multi : drop.multi;\n\tdrop.delay = opts.delay || drop.delay;\n\tdrop.tolerance = $.isFunction( opts.tolerance ) ? opts.tolerance : \n\t\topts.tolerance === null ? null : drop.tolerance;\n\tdrop.mode = opts.mode || drop.mode || 'intersect';\n};\n\n// local refs (increase compression)\nvar $event = $.event, \n$special = $event.special,\n// configure the drop special event\ndrop = $.event.special.drop = {\n\n\t// these are the default settings\n\tmulti: 1, // allow multiple drop winners per dragged element\n\tdelay: 20, // async timeout delay\n\tmode: 'overlap', // drop tolerance mode\n\t\t\n\t// internal cache\n\ttargets: [], \n\t\n\t// the key name for stored drop data\n\tdatakey: \"dropdata\",\n\t\t\n\t// prevent bubbling for better performance\n\tnoBubble: true,\n\t\n\t// count bound related events\n\tadd: function( obj ){ \n\t\t// read the interaction data\n\t\tvar data = $.data( this, drop.datakey );\n\t\t// count another realted event\n\t\tdata.related += 1;\n\t},\n\t\n\t// forget unbound related events\n\tremove: function(){\n\t\t$.data( this, drop.datakey ).related -= 1;\n\t},\n\t\n\t// configure the interactions\n\tsetup: function(){\n\t\t// check for related events\n\t\tif ( $.data( this, drop.datakey ) ) \n\t\t\treturn;\n\t\t// initialize the drop element data\n\t\tvar data = { \n\t\t\trelated: 0,\n\t\t\tactive: [],\n\t\t\tanyactive: 0,\n\t\t\twinner: 0,\n\t\t\tlocation: {}\n\t\t};\n\t\t// store the drop data on the element\n\t\t$.data( this, drop.datakey, data );\n\t\t// store the drop target in internal cache\n\t\tdrop.targets.push( this );\n\t},\n\t\n\t// destroy the configure interaction\t\n\tteardown: function(){ \n\t\tvar data = $.data( this, drop.datakey ) || {};\n\t\t// check for related events\n\t\tif ( data.related ) \n\t\t\treturn;\n\t\t// remove the stored data\n\t\t$.removeData( this, drop.datakey );\n\t\t// reference the targeted element\n\t\tvar element = this;\n\t\t// remove from the internal cache\n\t\tdrop.targets = $.grep( drop.targets, function( target ){ \n\t\t\treturn ( target !== element ); \n\t\t});\n\t},\n\t\n\t// shared event handler\n\thandler: function( event, dd ){ \n\t\t// local vars\n\t\tvar results, $targets;\n\t\t// make sure the right data is available\n\t\tif ( !dd ) \n\t\t\treturn;\n\t\t// handle various events\n\t\tswitch ( event.type ){\n\t\t\t// draginit, from $.event.special.drag\n\t\t\tcase 'mousedown': // DROPINIT >>\n\t\t\tcase 'touchstart': // DROPINIT >>\n\t\t\t\t// collect and assign the drop targets\n\t\t\t\t$targets =  $( drop.targets );\n\t\t\t\tif ( typeof dd.drop == \"string\" )\n\t\t\t\t\t$targets = $targets.filter( dd.drop );\n\t\t\t\t// reset drop data winner properties\n\t\t\t\t$targets.each(function(){\n\t\t\t\t\tvar data = $.data( this, drop.datakey );\n\t\t\t\t\tdata.active = [];\n\t\t\t\t\tdata.anyactive = 0;\n\t\t\t\t\tdata.winner = 0;\n\t\t\t\t});\n\t\t\t\t// set available target elements\n\t\t\t\tdd.droppable = $targets;\n\t\t\t\t// activate drop targets for the initial element being dragged\n\t\t\t\t$special.drag.hijack( event, \"dropinit\", dd ); \n\t\t\t\tbreak;\n\t\t\t// drag, from $.event.special.drag\n\t\t\tcase 'mousemove': // TOLERATE >>\n\t\t\tcase 'touchmove': // TOLERATE >>\n\t\t\t\tdrop.event = event; // store the mousemove event\n\t\t\t\tif ( !drop.timer )\n\t\t\t\t\t// monitor drop targets\n\t\t\t\t\tdrop.tolerate( dd ); \n\t\t\t\tbreak;\n\t\t\t// dragend, from $.event.special.drag\n\t\t\tcase 'mouseup': // DROP >> DROPEND >>\n\t\t\tcase 'touchend': // DROP >> DROPEND >>\n\t\t\t\tdrop.timer = clearTimeout( drop.timer ); // delete timer\t\n\t\t\t\tif ( dd.propagates ){\n\t\t\t\t\t$special.drag.hijack( event, \"drop\", dd ); \n\t\t\t\t\t$special.drag.hijack( event, \"dropend\", dd ); \n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t}\n\t},\n\t\t\n\t// returns the location positions of an element\n\tlocate: function( elem, index ){ \n\t\tvar data = $.data( elem, drop.datakey ),\n\t\t$elem = $( elem ), \n\t\tposi = $elem.offset() || {}, \n\t\theight = $elem.outerHeight(), \n\t\twidth = $elem.outerWidth(),\n\t\tlocation = { \n\t\t\telem: elem, \n\t\t\twidth: width, \n\t\t\theight: height,\n\t\t\ttop: posi.top, \n\t\t\tleft: posi.left, \n\t\t\tright: posi.left + width, \n\t\t\tbottom: posi.top + height\n\t\t};\n\t\t// drag elements might not have dropdata\n\t\tif ( data ){\n\t\t\tdata.location = location;\n\t\t\tdata.index = index;\n\t\t\tdata.elem = elem;\n\t\t}\n\t\treturn location;\n\t},\n\t\n\t// test the location positions of an element against another OR an X,Y coord\n\tcontains: function( target, test ){ // target { location } contains test [x,y] or { location }\n\t\treturn ( ( test[0] || test.left ) >= target.left && ( test[0] || test.right ) <= target.right\n\t\t\t&& ( test[1] || test.top ) >= target.top && ( test[1] || test.bottom ) <= target.bottom ); \n\t},\n\t\n\t// stored tolerance modes\n\tmodes: { // fn scope: \"$.event.special.drop\" object \n\t\t// target with mouse wins, else target with most overlap wins\n\t\t'intersect': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ event.pageX, event.pageY ] ) ? // check cursor\n\t\t\t\t1e9 : this.modes.overlap.apply( this, arguments ); // check overlap\n\t\t},\n\t\t// target with most overlap wins\t\n\t\t'overlap': function( event, proxy, target ){\n\t\t\t// calculate the area of overlap...\n\t\t\treturn Math.max( 0, Math.min( target.bottom, proxy.bottom ) - Math.max( target.top, proxy.top ) )\n\t\t\t\t* Math.max( 0, Math.min( target.right, proxy.right ) - Math.max( target.left, proxy.left ) );\n\t\t},\n\t\t// proxy is completely contained within target bounds\t\n\t\t'fit': function( event, proxy, target ){\n\t\t\treturn this.contains( target, proxy ) ? 1 : 0;\n\t\t},\n\t\t// center of the proxy is contained within target bounds\t\n\t\t'middle': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ proxy.left + proxy.width * .5, proxy.top + proxy.height * .5 ] ) ? 1 : 0;\n\t\t}\n\t},\t\n\t\n\t// sort drop target cache by by winner (dsc), then index (asc)\n\tsort: function( a, b ){\n\t\treturn ( b.winner - a.winner ) || ( a.index - b.index );\n\t},\n\t\t\n\t// async, recursive tolerance execution\n\ttolerate: function( dd ){\t\t\n\t\t// declare local refs\n\t\tvar i, drp, drg, data, arr, len, elem,\n\t\t// interaction iteration variables\n\t\tx = 0, ia, end = dd.interactions.length,\n\t\t// determine the mouse coords\n\t\txy = [ drop.event.pageX, drop.event.pageY ],\n\t\t// custom or stored tolerance fn\n\t\ttolerance = drop.tolerance || drop.modes[ drop.mode ];\n\t\t// go through each passed interaction...\n\t\tdo if ( ia = dd.interactions[x] ){\n\t\t\t// check valid interaction\n\t\t\tif ( !ia )\n\t\t\t\treturn; \n\t\t\t// initialize or clear the drop data\n\t\t\tia.drop = [];\n\t\t\t// holds the drop elements\n\t\t\tarr = []; \n\t\t\tlen = ia.droppable.length;\n\t\t\t// determine the proxy location, if needed\n\t\t\tif ( tolerance )\n\t\t\t\tdrg = drop.locate( ia.proxy ); \n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop each stored drop target\n\t\t\tdo if ( elem = ia.droppable[i] ){ \n\t\t\t\tdata = $.data( elem, drop.datakey );\n\t\t\t\tdrp = data.location;\n\t\t\t\tif ( !drp ) continue;\n\t\t\t\t// find a winner: tolerance function is defined, call it\n\t\t\t\tdata.winner = tolerance ? tolerance.call( drop, drop.event, drg, drp ) \n\t\t\t\t\t// mouse position is always the fallback\n\t\t\t\t\t: drop.contains( drp, xy ) ? 1 : 0; \n\t\t\t\tarr.push( data );\t\n\t\t\t} while ( ++i < len ); // loop \n\t\t\t// sort the drop targets\n\t\t\tarr.sort( drop.sort );\t\t\t\n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop through all of the targets again\n\t\t\tdo if ( data = arr[ i ] ){\n\t\t\t\t// winners...\n\t\t\t\tif ( data.winner && ia.drop.length < drop.multi ){\n\t\t\t\t\t// new winner... dropstart\n\t\t\t\t\tif ( !data.active[x] && !data.anyactive ){\n\t\t\t\t\t\t// check to make sure that this is not prevented\n\t\t\t\t\t\tif ( $special.drag.hijack( drop.event, \"dropstart\", dd, x, data.elem )[0] !== false ){ \t\n\t\t\t\t\t\t\tdata.active[x] = 1;\n\t\t\t\t\t\t\tdata.anyactive += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if false, it is not a winner\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata.winner = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// if it is still a winner\n\t\t\t\t\tif ( data.winner )\n\t\t\t\t\t\tia.drop.push( data.elem );\n\t\t\t\t}\n\t\t\t\t// losers... \n\t\t\t\telse if ( data.active[x] && data.anyactive == 1 ){\n\t\t\t\t\t// former winner... dropend\n\t\t\t\t\t$special.drag.hijack( drop.event, \"dropend\", dd, x, data.elem ); \n\t\t\t\t\tdata.active[x] = 0;\n\t\t\t\t\tdata.anyactive -= 1;\n\t\t\t\t}\n\t\t\t} while ( ++i < len ); // loop \t\t\n\t\t} while ( ++x < end ) // loop\n\t\t// check if the mouse is still moving or is idle\n\t\tif ( drop.last && xy[0] == drop.last.pageX && xy[1] == drop.last.pageY ) \n\t\t\tdelete drop.timer; // idle, don't recurse\n\t\telse  // recurse\n\t\t\tdrop.timer = setTimeout(function(){ \n\t\t\t\tdrop.tolerate( dd ); \n\t\t\t}, drop.delay );\n\t\t// remember event, to compare idleness\n\t\tdrop.last = drop.event; \n\t}\n\t\n};\n\n// share the same special event configuration with related events...\n$special.dropinit = $special.dropstart = $special.dropend = drop;\n\n})(jQuery); // confine scope\t","/*! \n * jquery.event.drop.live - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2010-06-07\n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2, event.drop 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// local refs (increase compression)\nvar $event = $.event,\n// ref the drop special event config\ndrop = $event.special.drop,\n// old drop event add method\norigadd = drop.add,\n// old drop event teradown method\norigteardown = drop.teardown;\n\n// allow events to bubble for delegation\ndrop.noBubble = false;\n\n// the namespace for internal live events\ndrop.livekey = \"livedrop\";\n\n// new drop event add method\ndrop.add = function( obj ){ \n\t// call the old method\n\torigadd.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey );\n\t// bind the live \"dropinit\" delegator\n\tif ( !data.live && obj.selector ){\n\t\tdata.live = true;\n\t\t$event.add( this, \"dropinit.\"+ drop.livekey, drop.delegate );\n\t}\n};\n\n// new drop event teardown method\ndrop.teardown = function(){ \n\t// call the old method\n\torigteardown.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey ) || {};\n\t// remove the live \"dropinit\" delegator\n\tif ( data.live ){\n\t\t// remove the \"live\" delegation\n\t\t$event.remove( this, \"dropinit\", drop.delegate );\n\t\tdata.live = false;\n\t}\n};\n\n// identify potential delegate elements\ndrop.delegate = function( event, dd ){\n\t// local refs\n\tvar elems = [], $targets, \n\t// element event structure\n\tevents = $.data( this, \"events\" ) || {};\n\t// query live events\n\t$.each( events || [], function( key, arr ){\n\t\t// no event type matches\n\t\tif ( key.indexOf(\"drop\") !== 0 )\n\t\t\treturn;\n\t\t$.each( arr, function( i, obj ){\n\t\t\t// locate the elements to delegate\n\t\t\t$targets = $( event.currentTarget ).find( obj.selector );\n\t\t\t// no element found\n\t\t\tif ( !$targets.length ) \n\t\t\t\treturn;\n\t\t\t// take each target...\n\t\t\t$targets.each(function(){\n\t\t\t\t// add an event handler\n\t\t\t\t$event.add( this, obj.origType +'.'+ drop.livekey, obj.origHandler || obj.handler, obj.data );\n\t\t\t\t// remember new elements\n\t\t\t\tif ( $.inArray( this, elems ) < 0 )\n\t\t\t\t\telems.push( this );\t\n\t\t\t});\t\n\t\t});\n\t});\n\t// may not exist when artifically triggering dropinit event\n\tif ( dd )\n\t\t// clean-up after the interaction ends\n\t\t$event.add( dd.drag, \"dragend.\"+drop.livekey, function(){\n\t\t\t$.each( elems.concat( this ), function(){\n\t\t\t\t$event.remove( this, '.'+ drop.livekey );\t\t\t\t\t\t\t\n\t\t\t});\n\t\t});\n\t//drop.delegates.push( elems );\n\treturn elems.length ? $( elems ) : false;\n};\n\n})( jQuery ); // confine scope\t","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EditorPanel = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propertyEditor = require(\"./property-editor\");\n\nvar _style = require(\"./style\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar EditorPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditorPanel, _React$Component);\n\n  function EditorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EditorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditorPanel).call(this, props));\n    _this.state = {\n      componentDatas: [],\n      designer: null\n    };\n\n    _this.designerComponentChanged = function () {\n      console.assert(_this.designer != null);\n\n      _this.setState({\n        designer: _this.designer\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(EditorPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty;\n      empty = empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n      var designer = this.state.designer;\n      return React.createElement(\"div\", {\n        className: \"\".concat(_style.classNames.editorPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.element = e || _this2.element;\n        }\n      }, React.createElement(_propertyEditor.PropertyEditor, {\n        designer: designer,\n        ref: function ref(e) {\n          return _this2.editor = e || _this2.editor;\n        },\n        empty: empty,\n        customRender: this.props.customRender\n      }));\n    }\n  }, {\n    key: \"designer\",\n    get: function get() {\n      return this._designer;\n    },\n    set: function set(value) {\n      if (this._designer) {\n        this._designer.componentRemoved.remove(this.designerComponentChanged);\n\n        this._designer.componentAppend.remove(this.designerComponentChanged);\n\n        this._designer.componentUpdated.remove(this.designerComponentChanged);\n\n        this._designer.componentSelected.remove(this.designerComponentChanged);\n      }\n\n      if (value) {\n        value.componentRemoved.add(this.designerComponentChanged);\n        value.componentAppend.add(this.designerComponentChanged);\n        value.componentUpdated.add(this.designerComponentChanged);\n        value.componentSelected.add(this.designerComponentChanged);\n      }\n\n      this._designer = value;\n      this.setState({\n        designer: value\n      });\n    }\n  }]);\n\n  return EditorPanel;\n}(React.Component);\n\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PropertyEditor = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _component = require(\"./component\");\n\nvar _common = require(\"./common\");\n\nvar _errors = require(\"./errors\");\n\nvar _errorBoundary = require(\"./error-boundary\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PropertyEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n\n  function PropertyEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyEditor).call(this, props));\n    _this._element = null;\n    _this.state = {\n      designer: _this.props.designer\n    };\n    return _this;\n  }\n\n  _createClass(PropertyEditor, [{\n    key: \"getEditors\",\n    value: function getEditors(designer) {\n      var _this2 = this;\n\n      if (designer == null) {\n        return [];\n      } // 各个控件相同的编辑器\n\n\n      var commonPropEditorInfos = [];\n      var selectedComponents = designer.selectedComponents;\n\n      var _loop = function _loop(i) {\n        var componentData = selectedComponents[i];\n\n        var propEditorInfos = _component.Component.getPropEditors(componentData);\n\n        if (i == 0) {\n          commonPropEditorInfos = propEditorInfos || [];\n        } else {\n          var items = [];\n          commonPropEditorInfos.forEach(function (propInfo1) {\n            propEditorInfos.forEach(function (propInfo2) {\n              var propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n\n              var propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n\n              if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                items.push(propInfo1);\n              }\n            });\n          });\n          commonPropEditorInfos = items;\n        }\n      };\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        _loop(i);\n      } // 各个控件相同的属性值\n\n\n      var commonFlatProps;\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        var control = selectedComponents[i];\n        var controlProps = Object.assign({}, control.props);\n        delete controlProps.children; // controlProps = this.flatProps(controlProps)\n\n        if (i == 0) {\n          commonFlatProps = controlProps;\n        } else {\n          var obj = {};\n\n          for (var key in commonFlatProps) {\n            if (commonFlatProps[key] == controlProps[key]) obj[key] = controlProps[key];\n          }\n\n          commonFlatProps = obj;\n        }\n      }\n\n      var editors = [];\n\n      var _loop2 = function _loop2(_i) {\n        var propEditorInfo = commonPropEditorInfos[_i];\n        var propName = propEditorInfo.propName;\n        ;\n        var editorType = propEditorInfo.editorType;\n\n        var value = _this2.propValue(propName, commonFlatProps);\n\n        var editorProps = {\n          value: value,\n          editComponents: selectedComponents,\n          updateComponentProp: function updateComponentProp(value) {\n            var componentProps = selectedComponents.map(function (o) {\n              return {\n                componentId: o.props.id,\n                propName: propEditorInfo.propName,\n                value: value\n              };\n            });\n            designer.updateComponentProps.apply(designer, _toConsumableArray(componentProps));\n          }\n        };\n        var editor = React.createElement(editorType, editorProps);\n        editors.push({\n          prop: propEditorInfo.propName,\n          editor: editor,\n          group: propEditorInfo.group\n        });\n      };\n\n      for (var _i = 0; _i < commonPropEditorInfos.length; _i++) {\n        _loop2(_i);\n      }\n\n      return editors;\n    }\n  }, {\n    key: \"propValue\",\n    value: function propValue(propName, props) {\n      if (!propName) throw _errors.Errors.argumentNull(\"propName\");\n      if (!props) throw _errors.Errors.argumentNull(\"props\");\n      var navPropsNames = propName.split(\".\");\n      var obj = props;\n\n      for (var i = 0; i < navPropsNames.length; i++) {\n        obj = obj[navPropsNames[i]];\n        if (obj == null) return null;\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var designer = this.state.designer;\n      var editors = this.getEditors(designer);\n\n      if (editors.length == 0) {\n        var empty = this.props.empty;\n        return React.createElement(\"div\", {\n          className: \"text-center\"\n        }, empty);\n      }\n\n      if (this.props.customRender) {\n        var items = editors.map(function (o) {\n          return Object.assign({\n            displayName: _common.proptDisplayNames[o.prop] || o.prop\n          }, o);\n        });\n        var r = this.props.customRender(designer.selectedComponents, items);\n\n        if (r != null) {\n          return r;\n        }\n      }\n\n      var groupEditorsArray = [];\n\n      var _loop3 = function _loop3(i) {\n        var group = editors[i].group || '';\n        var groupEditors = groupEditorsArray.filter(function (o) {\n          return o.group == group;\n        })[0];\n\n        if (groupEditors == null) {\n          groupEditors = {\n            group: editors[i].group,\n            editors: []\n          };\n          groupEditorsArray.push(groupEditors);\n        }\n\n        groupEditors.editors.push({\n          prop: editors[i].prop,\n          editor: editors[i].editor\n        });\n      };\n\n      for (var i = 0; i < editors.length; i++) {\n        _loop3(i);\n      }\n\n      return React.createElement(React.Fragment, null, groupEditorsArray.map(function (g) {\n        return React.createElement(\"div\", {\n          key: g.group,\n          className: \"panel panel-default\"\n        }, g.group ? React.createElement(\"div\", {\n          className: \"panel-heading\"\n        }, _common.proptDisplayNames[g.group] || g.group) : null, React.createElement(\"div\", {\n          className: \"panel-body\"\n        }, g.editors.map(function (o, i) {\n          return React.createElement(\"div\", {\n            key: o.prop,\n            className: \"form-group clearfix\"\n          }, React.createElement(\"label\", null, _common.proptDisplayNames[o.prop] || o.prop), React.createElement(\"div\", {\n            className: \"control\"\n          }, React.createElement(_errorBoundary.ErrorBoundary, null, o.editor)));\n        })));\n      }));\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      return {\n        designer: props.designer\n      };\n    }\n  }]);\n\n  return PropertyEditor;\n}(React.Component);\n\nexports.PropertyEditor = PropertyEditor;\n//# sourceMappingURL=property-editor.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorBoundary = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        // You can render any custom fallback UI\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=error-boundary.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PageDesigner = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _common = require(\"./common\");\n\nvar _errors = require(\"./errors\");\n\nvar _style = require(\"./style\");\n\nvar _reactPageBuilder = require(\"./react-page-builder\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar PageDesigner =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDesigner, _React$Component);\n\n  function PageDesigner(props) {\n    var _this;\n\n    _classCallCheck(this, PageDesigner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDesigner).call(this, props));\n    _this.componentSelected = _common.Callback.create();\n    _this.componentRemoved = _common.Callback.create();\n    _this.componentAppend = _common.Callback.create();\n    _this.componentUpdated = _common.Callback.create();\n    _this.designtimeComponentDidMount = _common.Callback.create(); // let components: PageDesignerState[\"components\"] = {};\n    // PageDesigner.fillPageData(props.pageData);\n\n    _this.state = {};\n\n    _this.designtimeComponentDidMount.add(function () {\n      console.log(\"this:designer event:controlComponentDidMount\");\n    });\n\n    var pageBuilderType = props.pageBuilderType || _reactPageBuilder.ReactPageBuilder;\n    _this.pageBuilder = new pageBuilderType({\n      designer: _assertThisInitialized(_this)\n    });\n    return _this;\n  } // private static setComponetRefProp(pageData: ComponentData, components: PageDesignerState[\"components\"]) {\n  //     //=========================================================\n  //     // 纪录当前 pageData 控件 ID\n  //     let componentIds: { [typeName: string]: string[] } = {};\n  //     //=========================================================\n  //     PageDesigner.travelComponentData(pageData).forEach(item => {\n  //         console.assert(item.props != null && item.props.id != null);\n  //         componentIds[item.type] = componentIds[item.type] || [];\n  //         componentIds[item.type].push(item.props[\"id\"] as string);\n  //         let itemRef = item.props.ref;\n  //         item.props.ref = (e) => {\n  //             if (e != null) {\n  //                 components[item.type] = components[item.type] || [];\n  //                 components[item.type].push(e);\n  //             }\n  //             if (typeof itemRef == \"function\")\n  //                 itemRef(e);\n  //         }\n  //     })\n  //     //=========================================================\n  //     // 仅保留 componentIds 中的控件 \n  //     let names = Object.getOwnPropertyNames(components);\n  //     for (let i = 0; i < names.length; i++) {\n  //         let typename = names[i];\n  //         let ids = componentIds[typename] || [];\n  //         components[typename] = (components[typename] || []).filter(o => ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0)\n  //     }\n  //     //=========================================================\n  // }\n  // /** 对 pageData 进行缺少的字段进行补充 */\n  // private static fillPageData(pageData: ComponentData) {\n  //     if (pageData == null) {\n  //         return\n  //     }\n  //     pageData.children = pageData.children || [];\n  //     PageDesigner.nameComponent(pageData);\n  //     // PageDesigner.setComponetRefProp(pageData, components);\n  // }\n  // allComponents(): React.Component[] {\n  //     let r: React.Component[] = [];\n  //     for (let key in this.state.components) {\n  //         r.push(...this.state.components[key]);\n  //     }\n  //     return r;\n  // }\n\n  /** 页面数据 */\n\n\n  _createClass(PageDesigner, [{\n    key: \"updateComponentProp\",\n\n    /** 更新组件属性 */\n    value: function updateComponentProp(componentId, propName, value) {\n      return this.updateComponentProps({\n        componentId: componentId,\n        propName: propName,\n        value: value\n      });\n    }\n    /** 更新组件多个属性 */\n\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps() {\n      for (var _len = arguments.length, componentProps = new Array(_len), _key = 0; _key < _len; _key++) {\n        componentProps[_key] = arguments[_key];\n      }\n\n      var componentDatas = this.pageBuilder.updateComponentProps(componentProps);\n      this.componentUpdated.fire(componentDatas);\n    }\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param component\r\n     */\n\n  }, {\n    key: \"appendComponent\",\n\n    /**\r\n     * 添加控件\r\n     * @param parentId 父控件编号\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw _errors.Errors.argumentNull('parentId');\n      if (!componentData) throw _errors.Errors.argumentNull('childComponent');\n      this.pageBuilder.appendComponent(parentId, componentData, componentIndex);\n      this.selectComponent(componentData.props.id);\n      this.componentAppend.fire(this);\n    }\n    /**\r\n     * 设置控件位置\r\n     * @param componentId 组件编号\r\n     * @param position 组件位置\r\n     */\n\n  }, {\n    key: \"setComponentPosition\",\n    value: function setComponentPosition(componentId, position) {\n      return this.setComponentsPosition([{\n        componentId: componentId,\n        position: position\n      }]);\n    }\n    /**\r\n     * 设置控件大小\r\n     * @param componentId 组件编号\r\n     * @param size 组件大小\r\n     */\n\n  }, {\n    key: \"setComponentSize\",\n    value: function setComponentSize(componentId, size) {\n      // console.assert(componentId != null)\n      // console.assert(size != null)\n      // let componentData = this.findComponentData(componentId);\n      // if (!componentData)\n      //     throw new Error(`Control ${componentId} is not exits.`);\n      // let style = componentData.props.style = (componentData.props.style || {});\n      // if (size.height)\n      //     style.height = size.height\n      // if (size.width)\n      //     style.width = size.width\n      // let { pageData } = this.state;\n      // this.setState({ pageData });\n      var componentDatas = this.pageBuilder.setComponentsSize([{\n        componentId: componentId,\n        size: size\n      }]);\n      this.componentUpdated.fire(componentDatas);\n    }\n    /** 设置多个组件的位置 */\n\n  }, {\n    key: \"setComponentsPosition\",\n    value: function setComponentsPosition(positions) {\n      var componentDatas = this.pageBuilder.setComponentsPosition(positions);\n      this.componentUpdated.fire(componentDatas);\n    }\n    /**\r\n     * 选择指定的控件\r\n     * @param control 指定的控件\r\n     */\n\n  }, {\n    key: \"selectComponent\",\n    value: function selectComponent(componentIds) {\n      var ids = typeof componentIds == \"string\" ? [componentIds] : componentIds;\n      this.pageBuilder.selectComponents(ids);\n      this.componentSelected.fire(ids);\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent() {\n      for (var _len2 = arguments.length, componentIds = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        componentIds[_key2] = arguments[_key2];\n      }\n\n      if (!componentIds) throw _errors.Errors.argumentNull(\"componentIds\");\n      this.pageBuilder.removeComponents(componentIds);\n      this.componentRemoved.fire(componentIds);\n    }\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param beforeChildId 组件的前一个子组件编号\r\n     */\n\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      this.pageBuilder.moveComponent(componentId, parentId, childComponentIndex);\n    } // private static travelComponentData(pageData: ComponentData, filter?: (item: ComponentData) => boolean): ComponentData[] {\n    //     let stack = new Array<ComponentData>();\n    //     stack.push(pageData);\n    //     let r: ComponentData[] = [];\n    //     // return new Promise((resolve, reject) => {\n    //     filter = filter || (() => true);\n    //     while (stack.length > 0) {\n    //         let item = stack.shift();\n    //         if (filter(item)) {\n    //             r.push(item);\n    //         }\n    //         //===============================================\n    //         // 子元素有可能为字符串, 过滤出对象\n    //         let children = (item.children || []).filter(o => typeof o == 'object') as ComponentData[]\n    //         //===============================================\n    //         stack.push(...children);\n    //     }\n    //     return r;\n    // }\n    // findComponetsByTypeName(componentTypeName: string) {\n    //     let components = this.state.components[componentTypeName];\n    //     return components;\n    // }\n    // findComponentData(componentId: string): ComponentData | null {\n    //     let pageData = this.state.pageData;\n    //     if (!pageData)\n    //         throw Errors.pageDataIsNull();\n    //     let componentDatas = PageDesigner.travelComponentData(pageData, (item) => item.props.id == componentId)\n    //     return componentDatas[0];\n    // }\n\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var DELETE_KEY_CODE = 46;\n\n      if (e.keyCode == DELETE_KEY_CODE) {\n        if (this.selectedComponents.length == 0) return;\n        this.removeComponent.apply(this, _toConsumableArray(this.selectedComponentIds));\n      }\n    } // private createDesignTimeElement(type: string | React.ComponentClass<any>, props: ComponentProps<any>, ...children: any[]) {\n    //     if (type == null) throw Errors.argumentNull('type')\n    //     if (props == null) throw Errors.argumentNull('props')\n    //     if (props.id == null) throw Errors.argumentFieldCanntNull('id', 'props')\n    //     console.assert(props.id != null)\n    //     if (props.id != null)\n    //         props.key = props.id;\n    //     //===================================================\n    //     // 获取对象的 ComponentAttribute ，以从对象 props 中获取的为准\n    //     let attr1 = Component.getAttribute(type)\n    //     console.assert(attr1 != null)\n    //     let attr2 = props.attr || {}\n    //     let attr = Object.assign({}, attr1, attr2)\n    //     delete props.attr\n    //     //===================================================\n    //     let className = props.selected ? appendClassName(props.className || '', classNames.componentSelected) : props.className\n    //     let wrapperProps = Object.assign({}, props);\n    //     delete wrapperProps.ref;\n    //     wrapperProps.className = className;\n    //     return <ComponentWrapper {...wrapperProps} designer={this}\n    //         source={{ type, attr, props, children }}>\n    //     </ComponentWrapper>\n    // }\n    // static getDerivedStateFromProps(props: PageDesignerProps, state: PageDesignerState) {\n    //     PageDesigner.fillPageData(props.pageData);\n    //     return { pageData: props.pageData } as Partial<PageDesignerState>;\n    // }\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.pageBuilder.createPage(this.pageData, this.element);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var style = this.props.style;\n      var result = React.createElement(\"div\", {\n        className: _style.classNames.designer,\n        tabIndex: 1,\n        style: style,\n        onKeyDown: function onKeyDown(e) {\n          return _this2.onKeyDown(e);\n        },\n        ref: function ref(e) {\n          _this2.element = e || _this2.element;\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this.props.pageData;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.props.id;\n      });\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.props.selected == true) arr.push(item);\n        var children = item.children || [];\n\n        for (var i = 0; i < children.length; i++) {\n          stack.push(children[i]);\n        }\n      }\n\n      return arr;\n    }\n  }], [{\n    key: \"nameComponent\",\n    value: function nameComponent(component) {\n      var namedComponents = {};\n      var props = component.props = component.props || {};\n\n      if (!props.name) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        props.name = name;\n      }\n\n      if (!props.id) props.id = (0, _common.guid)();\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      for (var i = 0; i < component.children.length; i++) {\n        PageDesigner.nameComponent(component.children[i]);\n      }\n    }\n  }]);\n\n  return PageDesigner;\n}(React.Component);\n\nexports.PageDesigner = PageDesigner;\nPageDesigner.defaultProps = {\n  pageData: null,\n  wrapDesignTimeElement: true\n};\n//# sourceMappingURL=page-designer.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TextInput = exports.PropEditor = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar PropEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropEditor, _React$Component);\n\n  function PropEditor(props) {\n    _classCallCheck(this, PropEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PropEditor).call(this, props));\n  }\n\n  _createClass(PropEditor, null, [{\n    key: \"dropdown\",\n    value: function dropdown(items, valueType) {\n      return _dropdown(items, valueType);\n    }\n  }, {\n    key: \"textInput\",\n    value: function textInput() {\n      return TextInput;\n    }\n  }]);\n\n  return PropEditor;\n}(React.Component);\n\nexports.PropEditor = PropEditor;\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_PropEditor) {\n  _inherits(TextInput, _PropEditor);\n\n  function TextInput() {\n    _classCallCheck(this, TextInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TextInput).apply(this, arguments));\n  }\n\n  _createClass(TextInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var value = this.props.value;\n      return React.createElement(\"input\", {\n        className: 'form-control',\n        value: value || '',\n        onChange: function onChange(e) {\n          // this.setState({ value: e.target.value })\n          _this.props.updateComponentProp(e.target.value);\n        }\n      });\n    }\n  }]);\n\n  return TextInput;\n}(PropEditor);\n\nexports.TextInput = TextInput;\n\nfunction _dropdown(items, valueType) {\n  var itemsPromise;\n  var textValues = [];\n\n  if (valueType == null && Array.isArray(items)) {\n    valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n\n    for (var i = 0; i < items.length; i++) {\n      textValues[i] = {\n        text: items[i],\n        value: items[i]\n      };\n    }\n  } else if (valueType == null) {\n    valueType = \"string\";\n    var propNames = Object.getOwnPropertyNames(items);\n\n    for (var _i = 0; _i < propNames.length; _i++) {\n      textValues[_i] = {\n        text: items[propNames[_i]],\n        value: propNames[_i]\n      };\n    }\n  } else if (Array.isArray(items)) {\n    textValues = items;\n  } else {\n    itemsPromise = items;\n  }\n\n  var Dropdown =\n  /*#__PURE__*/\n  function (_PropEditor2) {\n    _inherits(Dropdown, _PropEditor2);\n\n    function Dropdown(props) {\n      var _this2;\n\n      _classCallCheck(this, Dropdown);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n      _this2.state = {};\n      return _this2;\n    }\n\n    _createClass(Dropdown, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        return __awaiter(this, void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var _items;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!itemsPromise) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return itemsPromise;\n\n                case 3:\n                  _items = _context.sent;\n                  this.setState({\n                    items: _items\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var items = this.state.items;\n        var value = this.props.value;\n        items = items || textValues;\n        return React.createElement(\"select\", {\n          className: 'form-control',\n          value: value == null ? \"\" : value,\n          onChange: function onChange(e) {\n            var textValue = e.target.value;\n\n            if (valueType == \"number\") {\n              var integerRegex = /^\\d+$/;\n              var floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n              if (integerRegex.test(textValue)) value = parseInt(textValue);else if (floatRegex.test(textValue)) value = parseFloat(textValue);else value = null;\n            } else {\n              value = textValue;\n            }\n\n            _this3.props.updateComponentProp(value);\n          }\n        }, items.map(function (o) {\n          return React.createElement(\"option\", {\n            key: o.value,\n            value: o.value\n          }, o.text);\n        }));\n      }\n    }]);\n\n    return Dropdown;\n  }(PropEditor);\n\n  return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map\n"],"sourceRoot":""}