{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/./node_modules/maishu-jueying-core/out/components/component-placeholder.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/page-data-parser.js","webpack://jueying/./node_modules/maishu-jueying-core/out/errors.js","webpack://jueying/./node_modules/maishu-jueying-core/out/parse-component-data.js","webpack://jueying/./node_modules/maishu-jueying-core/out/register.js","webpack://jueying/./node_modules/maishu-jueying-core/out/types.js","webpack://jueying/./node_modules/maishu-toolkit/out/errors.js","webpack://jueying/./node_modules/maishu-toolkit/out/guid.js","webpack://jueying/(webpack)/buildin/global.js","webpack://jueying/./out/common.js","webpack://jueying/./out/component/component.js","webpack://jueying/./out/component/components.js","webpack://jueying/./out/component/create-element.js","webpack://jueying/./out/component/design-component-context.js","webpack://jueying/./out/deep-equal.js","webpack://jueying/./out/design/component-diagram.js","webpack://jueying/./out/design/design-behavior.js","webpack://jueying/./out/design/editor-panel.js","webpack://jueying/./out/design/page-designer.js","webpack://jueying/./out/design/property-editor.js","webpack://jueying/./out/errors.js","webpack://jueying/./out/index.js","webpack://jueying/./out/page-data-travel.js","webpack://jueying/./out/strings.js","webpack://jueying/./out/style.js","webpack://jueying/external \"maishu-dilu\"","webpack://jueying/external \"maishu-jueying-core\"","webpack://jueying/external \"react\""],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFa;AACb,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,oBAAO;AAC7B,2BAA2B,mBAAO,CAAC,iGAAoB;AACvD,iBAAiB,mBAAO,CAAC,mEAAW;AACpC,+BAA+B,mBAAO,CAAC,+FAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iD;;;;;;;;;;;;ACvBa;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,mEAAW;AACpC,cAAc,mBAAO,CAAC,oBAAO;AAC7B,+BAA+B,mBAAO,CAAC,+FAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,aAAa,WAAW;AACxB,aAAa,iCAAiC;AAC9C;AACA;AACA;AACA,SAAS;AACT,4EAA4E,SAAS,2CAA2C,EAAE;AAClI;AACA;AACA;AACA,4C;;;;;;;;;;;;AChCa;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,8EAA2B;AACpD,2BAA2B,mBAAO,CAAC,4GAA+B;AAClE;AACA;AACA,oCAAoC,KAAK;AACzC;AACA;AACA;AACA,6CAA6C,KAAK,oCAAoC,KAAK;AAC3F;AACA;AACA;AACA,gCAAgC,KAAK;AACrC;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA,4BAA4B,UAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,kFAAkF,SAAS;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACxCa;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,kEAAU;AACnC,mBAAmB,mBAAO,CAAC,sEAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,gD;;;;;;;;;;;;AChCa;AACb,8CAA8C,cAAc;AAC5D;AACA,gCAAgC,mBAAO,CAAC,sHAAoC;AAC5E,iBAAiB,mBAAO,CAAC,kEAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;ACpBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;AAC7E,sCAAsC;AACtC,iC;;;;;;;;;;;;ACda;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU,YAAY,aAAa;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa,gCAAgC,aAAa;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;ACnBa;AACb,8CAA8C,cAAc;AAC5D;AACA,8BAA8B,mBAAO,CAAC,gDAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACvBa;AACb,8CAA8C,cAAc;AAC5D;AACA,0BAA0B,mBAAO,CAAC,kEAA2B;AAC7D,8BAA8B,mBAAO,CAAC,gDAAqB;AAC3D,gCAAgC;AAChC,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA,kEAAkE,cAAc,GAAG,SAAS;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,6GAA6G;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,UAAU,GAAG,SAAS;AACtE;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;ACrEa;AACb,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,oBAAO;AAC7B,kBAAkB,mBAAO,CAAC,oCAAY;AACtC;AACA;AACA;AACA,+CAA+C,mCAAmC,oCAAoC,EAAE;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,6BAA6B,gDAAgD,EAAE;AAC9H;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACrBA,8CAAa;AACb,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,oBAAO;AAC7B,mCAAmC,mBAAO,CAAC,+EAA4B;AACvE,0BAA0B,mBAAO,CAAC,kEAA2B;AAC7D,iBAAiB,mBAAO,CAAC,kCAAW;AACpC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;;AC7Ba;AACb,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,oBAAO;AAC7B;AACA,oD;;;;;;;;;;;;ACLa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;AC1Ba;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,kCAAW;AACpC,gBAAgB,mBAAO,CAAC,sFAA+B;AACvD,+BAA+B,mBAAO,CAAC,oHAA8C;AACrF,cAAc,mBAAO,CAAC,oBAAO;AAC7B,wBAAwB,mBAAO,CAAC,sDAAiB;AACjD,kBAAkB,mBAAO,CAAC,oCAAY;AACtC,gBAAgB,mBAAO,CAAC,gCAAU;AAClC,2BAA2B,mBAAO,CAAC,sDAAqB;AACxD,mCAAmC,mBAAO,CAAC,0FAAuC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8GAA8G;AAC9G;AACA,mEAAmE,KAAK;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,oGAAoG,QAAQ;AAC5G,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA,yBAAyB,EAAE;AAC3B,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,6C;;;;;;;;;;;;ACpEa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC,yEAAyE;AAC1E,2C;;;;;;;;;;;;ACRa;AACb,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,oBAAO;AAC7B,0BAA0B,mBAAO,CAAC,0DAAmB;AACrD,gBAAgB,mBAAO,CAAC,gCAAU;AAClC;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,qDAAqD,qBAAqB;AAC1E,2CAA2C,eAAe,+BAA+B,GAAG,2BAA2B,iDAAiD;AACxK,mEAAmE,gGAAgG;AACnK;AACA;AACA;AACA,wC;;;;;;;;;;;;ACvBa;AACb,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,oBAAO;AAC7B,8BAA8B,mBAAO,CAAC,gDAAqB;AAC3D,iBAAiB,mBAAO,CAAC,kCAAW;AACpC,eAAe,mBAAO,CAAC,0EAAyB;AAChD,qBAAqB,mBAAO,CAAC,8DAAyB;AACtD,2BAA2B,mBAAO,CAAC,sDAAqB;AACxD,oBAAoB,mBAAO,CAAC,4DAAwB;AACpD,qBAAqB,mBAAO,CAAC,0CAAe;AAC5C,iBAAiB,mBAAO,CAAC,kCAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,+CAA+C;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB,EAAE,IAAI;AACnD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,+BAA+B;AAC1E;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,YAAY;AACtE,wEAAwE,YAAY;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2BAA2B,iBAAiB;AAC5C,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,SAAS;AAC3D;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,kDAAkD,SAAS;AAC3D;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,yJAAyJ;AACpM,mEAAmE,SAAS,iBAAiB,EAAE;AAC/F;AACA;AACA;AACA,yC;;;;;;;;;;;;ACpVa;AACb,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,oBAAO;AAC7B,oBAAoB,mBAAO,CAAC,4DAAwB;AACpD,WAAW,kBAAkB;AAC7B,iBAAiB,mBAAO,CAAC,kCAAW;AACpC,wBAAwB,mBAAO,CAAC,sDAAiB;AACjD,iBAAiB,mBAAO,CAAC,kCAAW;AACpC,sBAAsB,mBAAO,CAAC,gCAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,mEAAmE,8BAA8B;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,8GAA8G;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,2BAA2B;AAC9E;AACA;AACA,4DAA4D,6BAA6B;AACzF;AACA;AACA,uDAAuD,+CAA+C;AACtG;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,2CAA2C,wFAAwF;AACnI;AACA,4EAA4E,+FAA+F;AAC3K,sDAAsD,6BAA6B;AACnF,4CAA4C,0BAA0B,sDAAsD,gDAAgD;AAC5K;AACA,gDAAgD,uBAAuB;AACvE;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA,+CAA+C,qBAAqB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C;;;;;;;;;;;;AC5Ka;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,8EAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA,6EAA6E,YAAY;AACzF;AACA;AACA,qBAAqB,cAAc,YAAY,SAAS;AACxD;AACA;AACA;AACA,qBAAqB,UAAU,eAAe,aAAa;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACjDa;AACb,8CAA8C,cAAc;AAC5D;AACA,eAAe,mBAAO,CAAC,iCAAU;AACjC,qDAAqD,qCAAqC,mCAAmC,EAAE,EAAE;AACjI,kBAAkB,mBAAO,CAAC,2DAAuB;AACjD,6CAA6C,qCAAqC,8BAA8B,EAAE,EAAE;AACpH,qBAAqB,mBAAO,CAAC,2DAAuB;AACpD,+CAA+C,qCAAqC,mCAAmC,EAAE,EAAE;AAC3H,sBAAsB,mBAAO,CAAC,6DAAwB;AACtD,gDAAgD,qCAAqC,qCAAqC,EAAE,EAAE;AAC9H,mDAAmD,qCAAqC,wCAAwC,EAAE,EAAE;AACpI,cAAc,mBAAO,CAAC,+BAAS;AAC/B,8CAA8C,qCAAqC,2BAA2B,EAAE,EAAE;AAClH,0BAA0B,mBAAO,CAAC,qEAA4B;AAC9D,oDAAoD,qCAAqC,6CAA6C,EAAE,EAAE;AAC1I,mBAAO,CAAC,qEAA4B;AACpC,iC;;;;;;;;;;;;ACjBa;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,iCAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4C;;;;;;;;;;;;ACtCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACRa;AACb,8CAA8C,cAAc;AAC5D;AACA,iBAAiB,mBAAO,CAAC,iCAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAqC;AACpD;AACA;AACA,eAAe,qCAAqC;AACpD;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,eAAe,kCAAkC;AACjD,+BAA+B,0BAA0B;AACzD,0BAA0B,0BAA0B;AACpD,6BAA6B,wBAAwB;AACrD;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA,eAAe,iCAAiC;AAChD;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C,eAAe,6BAA6B;AAC5C;AACA;AACA,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD,eAAe,qCAAqC;AACpD;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C,eAAe,oCAAoC;AACnD,eAAe,oCAAoC,GAAG,qCAAqC;AAC3F;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C,eAAe,+BAA+B;AAC9C;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA,eAAe,oCAAoC,GAAG,4BAA4B;;AAElF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB,GAAG,eAAe;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;AC1OA,yD;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,mD","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"maishu-dilu\"), require(\"maishu-jueying-core\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"maishu-dilu\", \"maishu-jueying-core\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"maishu-dilu\"), require(\"maishu-jueying-core\"), require(\"react\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"maishu-dilu\"], root[\"maishu-jueying-core\"], root[\"react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_maishu_dilu__, __WEBPACK_EXTERNAL_MODULE_maishu_jueying_core__, __WEBPACK_EXTERNAL_MODULE_react__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentPlaceHolder = void 0;\r\nconst React = require(\"react\");\r\nconst page_data_parser_1 = require(\"./page-data-parser\");\r\nconst errors_1 = require(\"../errors\");\r\nconst parse_component_data_1 = require(\"../parse-component-data\");\r\nclass ComponentPlaceHolder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return React.createElement(page_data_parser_1.PageDataParserContext.Consumer, null, args => {\r\n            if (!args)\r\n                throw errors_1.errors.nullPageDataParserArguments();\r\n            let children = args.pageData.children.filter(o => o.parentId && o.parentId == this.props.id);\r\n            let childComponents = children.map(c => (0, parse_component_data_1.parseComponentData)(c, args.componentTypes, args.elementFactory));\r\n            return childComponents;\r\n        });\r\n    }\r\n}\r\nexports.ComponentPlaceHolder = ComponentPlaceHolder;\r\nComponentPlaceHolder.typeName = \"PlaceHolder\";\r\n//# sourceMappingURL=component-placeholder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageDataParser = exports.PageDataParserContext = void 0;\r\nconst errors_1 = require(\"../errors\");\r\nconst React = require(\"react\");\r\nconst parse_component_data_1 = require(\"../parse-component-data\");\r\nexports.PageDataParserContext = React.createContext(null);\r\nclass PageDataParser extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        if (!props.pageData)\r\n            throw errors_1.errors.argumentFieldNull(\"pageData\", \"props\");\r\n        if (!props.elementFactory)\r\n            throw errors_1.errors.argumentFieldNull(\"elementFactory\", \"props\");\r\n        this.state = { pageData: props.pageData, componentTypes: props.componentTypes };\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        return { pageData: props.pageData, componentTypes: props.componentTypes };\r\n    }\r\n    render() {\r\n        let { pageData } = this.state;\r\n        let { elementFactory, componentTypes } = this.props;\r\n        let children = pageData.children.filter(o => !o.parentId);\r\n        let childComponents = children.map(o => {\r\n            return (0, parse_component_data_1.parseComponentData)(o, componentTypes, elementFactory);\r\n        });\r\n        return React.createElement(exports.PageDataParserContext.Provider, { value: { pageData, elementFactory, componentTypes } }, childComponents);\r\n    }\r\n}\r\nexports.PageDataParser = PageDataParser;\r\n//# sourceMappingURL=page-data-parser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = void 0;\r\nconst errors_1 = require(\"maishu-toolkit/out/errors\");\r\nconst page_data_parser_1 = require(\"./components/page-data-parser\");\r\nclass MyErrors extends errors_1.Errors {\r\n    pathFieldRequired(name) {\r\n        let msg = `Path field of '${name}' component config can not be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    canntFindModule(name, path) {\r\n        let msg = `Can not find component '${name}' in the module, module path is: '${path}'.`;\r\n        return new Error(msg);\r\n    }\r\n    componentTypeNotExists(name) {\r\n        let msg = `Component '${name}' not exists.`;\r\n        return new Error(msg);\r\n    }\r\n    argumentNull(name) {\r\n        let msg = `Argument '${name}' can not be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    propsFileNull(fieldName) {\r\n        let msg = `Field '${fieldName}' of props is null.`;\r\n        let error = new Error(msg);\r\n        let name = \"propsFileNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    nullPageDataParserArguments() {\r\n        let obj = { PageDataParser: page_data_parser_1.PageDataParser };\r\n        let typeName = \"PageDataParser\";\r\n        let msg = `PageDataParser arguments is null. Is this component child of ${typeName}?`;\r\n        let error = new Error(msg);\r\n        let name = \"nullPageDataParserArguments\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nexports.errors = new MyErrors();\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parseComponentData = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nconst register_1 = require(\"./register\");\r\nfunction parseComponentData(componentData, componentTypes, createElement) {\r\n    if (!componentData)\r\n        throw errors_1.errors.argumentNull(\"componentData\");\r\n    if (!componentTypes)\r\n        throw errors_1.errors.argumentNull(\"componentTypes\");\r\n    if (!componentData.type)\r\n        throw errors_1.errors.argumentFieldNull(\"type\", \"componentData\");\r\n    let isHtmlComponent = componentData.type.toLowerCase() == componentData.type;\r\n    let type = isHtmlComponent ? componentData.type : (componentTypes[componentData.type] || register_1.componentTypes[componentData.type]);\r\n    if (type == null) {\r\n        throw errors_1.errors.componentTypeNotExists(componentData.type);\r\n    }\r\n    let children = [];\r\n    let childComponentInfos = componentData.children || [];\r\n    if (childComponentInfos.length > 0) {\r\n        children = childComponentInfos.map(c => {\r\n            if (typeof c == \"string\")\r\n                return c;\r\n            return parseComponentData(c, componentTypes, createElement);\r\n        });\r\n    }\r\n    let props = Object.assign({}, componentData.props);\r\n    props.key = props.key || componentData.id;\r\n    props.id = componentData.id;\r\n    return createElement(type, props, children);\r\n}\r\nexports.parseComponentData = parseComponentData;\r\n//# sourceMappingURL=parse-component-data.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.registerComponent = exports.componentTypes = void 0;\r\nconst component_placeholder_1 = require(\"./components/component-placeholder\");\r\nconst errors_1 = require(\"./errors\");\r\nexports.componentTypes = {};\r\nfunction registerComponent(componentName, componentType) {\r\n    if (componentType == null && typeof componentName == 'function') {\r\n        componentType = componentName;\r\n        componentName = componentType.name;\r\n        componentType['componentName'] = componentName;\r\n    }\r\n    if (!componentName)\r\n        throw errors_1.errors.argumentNull('componentName');\r\n    if (!componentType)\r\n        throw errors_1.errors.argumentNull('componentType');\r\n    exports.componentTypes[componentName] = componentType;\r\n}\r\nexports.registerComponent = registerComponent;\r\nexports.componentTypes[component_placeholder_1.ComponentPlaceHolder.typeName] = component_placeholder_1.ComponentPlaceHolder;\r\n//# sourceMappingURL=register.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentStatus = void 0;\r\nvar ComponentStatus;\r\n(function (ComponentStatus) {\r\n    ComponentStatus[ComponentStatus[\"default\"] = 0] = \"default\";\r\n    /** 已选中 */\r\n    ComponentStatus[ComponentStatus[\"selected\"] = 1] = \"selected\";\r\n    /** 禁用 */\r\n    ComponentStatus[ComponentStatus[\"disabled\"] = 2] = \"disabled\";\r\n    /** 不允许删除 */\r\n    ComponentStatus[ComponentStatus[\"asset\"] = 4] = \"asset\";\r\n})(ComponentStatus = exports.ComponentStatus || (exports.ComponentStatus = {}));\r\n// export type ChildComponentProps = { parentId: string };\r\n//# sourceMappingURL=types.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = exports.Errors = void 0;\r\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    pathStartsHttp(path) {\r\n        let msg = `Path ${path} start with http or https.`;\r\n        let error = new Error(msg);\r\n        let name = \"pathStartsHttp\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nexports.Errors = Errors;\r\nexports.errors = new Errors();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.guid = void 0;\r\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\nexports.guid = guid;\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.elementFactoryName = exports.isCustomComponent = exports.groupDisplayNames = exports.proptDisplayNames = exports.constants = void 0;\r\nconst maishu_jueying_core_1 = require(\"maishu-jueying-core\");\r\nexports.constants = {\r\n    componentsDir: 'components',\r\n    connectorElementClassName: 'component-container',\r\n    componentTypeName: 'data-component-name',\r\n    componentData: 'component-data',\r\n    componentPosition: \"component-position\"\r\n};\r\nexports.proptDisplayNames = {};\r\nexports.groupDisplayNames = {};\r\nfunction isCustomComponent(componentData) {\r\n    // 全小写为 HTML 元素，不需要加载\r\n    if (componentData.type.toLocaleLowerCase() == componentData.type)\r\n        return false;\r\n    if (maishu_jueying_core_1.componentTypes[componentData.type])\r\n        return false;\r\n    return true;\r\n}\r\nexports.isCustomComponent = isCustomComponent;\r\nexports.elementFactoryName = \"h\";\r\n//# sourceMappingURL=common.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Component = void 0;\r\nconst property_editor_1 = require(\"../design/property-editor\");\r\nconst maishu_jueying_core_1 = require(\"maishu-jueying-core\");\r\n// type CreateElementContext = { components: React.Component[], componentTypes: string[] };\r\n// let defaultGroup: GroupedEditor[\"group\"] = { prop: \"\", displayName: \"\" };\r\nclass Component {\r\n    static getPropEditors(componentData) {\r\n        let componentType = componentData.type;\r\n        let result = [];\r\n        let propEditorInfo = this.componentPropEditors[componentType] || [];\r\n        for (let i = 0; i < propEditorInfo.length; i++) {\r\n            let propName = propEditorInfo[i].propName;\r\n            let display = Component.componentPropEditorDisplay[`${componentType}.${propName}`];\r\n            if (display != null && display(componentData) == false)\r\n                continue;\r\n            result.push(propEditorInfo[i]);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * 获取指定组件的属性编辑器\r\n     * @param controlClassName 指定组件的类名\r\n     * @param propName 组件的属性名称\r\n     * */\r\n    static getPropEditor(controlClassName, propName) {\r\n        return this.getPropEditorByArray(controlClassName, propName);\r\n    }\r\n    /** 通过属性数组获取属性的编辑器 */\r\n    static getPropEditorByArray(controlClassName, propNames) {\r\n        let classEditors = this.componentPropEditors[controlClassName] || [];\r\n        let editor = classEditors.filter(o => o.propName == propNames)[0];\r\n        return editor;\r\n    }\r\n    static setPropEditor(options) {\r\n        let { componentType, editorType, display: editorDisplay, group, propName, displayName, defaultValue, validation, } = options;\r\n        group = group || property_editor_1.defaultGroupName;\r\n        propName = propName || \"\";\r\n        displayName = displayName || propName;\r\n        // 属性可能为导航属性,例如 style.width\r\n        let propNames = propName.split('.');\r\n        let className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\r\n        Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\r\n        let classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\r\n        for (let i = 0; i < classProps.length; i++) {\r\n            let propName1 = classProps[i].propName;\r\n            let propName2 = propNames.join('.');\r\n            if (propName1 == propName2) {\r\n                classProps[i].editorType = editorType;\r\n                return;\r\n            }\r\n        }\r\n        classProps.push({\r\n            propName, displayName, editorType: editorType,\r\n            group, defaultValue, validation\r\n        });\r\n    }\r\n    static register(typeName, componentType) {\r\n        return (0, maishu_jueying_core_1.registerComponent)(typeName, componentType);\r\n    }\r\n}\r\nexports.Component = Component;\r\n//==========================================\r\n// 用于创建 React 的 React.Fragment \r\nComponent.Fragment = \"\";\r\n//==========================================\r\nComponent.componentPropEditors = {};\r\nComponent.componentPropEditorDisplay = {};\r\n//# sourceMappingURL=component.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createLoadingComponent = exports.createInfoComponent = void 0;\r\nconst React = require(\"react\");\r\nconst strings_1 = require(\"../strings\");\r\nfunction createInfoComponent(text) {\r\n    return class InfoComponent extends React.Component {\r\n        render() {\r\n            return React.createElement(\"div\", { className: \"text-center\", style: { paddingTop: 20, paddingBottom: 20 } }, text);\r\n        }\r\n    };\r\n}\r\nexports.createInfoComponent = createInfoComponent;\r\nfunction createLoadingComponent() {\r\n    return class FakeComponent extends React.Component {\r\n        render() {\r\n            return React.createElement(\"div\", { key: this.props.id, style: { padding: \"50px 0 50px 0\", textAlign: \"center\" } }, strings_1.strings.componentLoading);\r\n        }\r\n    };\r\n}\r\nexports.createLoadingComponent = createLoadingComponent;\r\n//# sourceMappingURL=components.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst React = require(\"react\");\r\nconst design_component_context_1 = require(\"./design-component-context\");\r\nconst design_behavior_1 = require(\"../design/design-behavior\");\r\nconst common_1 = require(\"../common\");\r\nconst createElement = (type, props, ...children) => {\r\n    let props1 = {};\r\n    if (props)\r\n        props1 = { key: props.id || props.key };\r\n    return React.createElement(design_component_context_1.DesignComponentContext.Consumer, props1, ((args) => {\r\n        let isDesigntime = args != null;\r\n        if (!isDesigntime) {\r\n            return React.createElement(type, props, ...children);\r\n        }\r\n        let designBehavior = typeof args.componentConfig.design == \"number\" ? args.componentConfig.design : design_behavior_1.DesignBehavior.default;\r\n        let disableClick = (designBehavior & design_behavior_1.DesignBehavior.disableClick) == design_behavior_1.DesignBehavior.disableClick;\r\n        if (disableClick) {\r\n            delete props.onClick;\r\n        }\r\n        return React.createElement(type, props, ...children);\r\n    }));\r\n};\r\nif (typeof window === \"undefined\") {\r\n    global[common_1.elementFactoryName] = createElement;\r\n}\r\nelse {\r\n    window[common_1.elementFactoryName] = createElement;\r\n}\r\n//# sourceMappingURL=create-element.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DesignComponentContext = void 0;\r\nconst React = require(\"react\");\r\nexports.DesignComponentContext = React.createContext(null);\r\n//# sourceMappingURL=design-component-context.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deepEqual = void 0;\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if ((typeof x == \"object\" && x != null) && (typeof y == \"object\" && y != null)) {\r\n        if (Object.keys(x).length != Object.keys(y).length) {\r\n            return false;\r\n        }\r\n        for (var prop in x) {\r\n            if (y.hasOwnProperty(prop)) {\r\n                if (!deepEqual(x[prop], y[prop])) {\r\n                    return false;\r\n                }\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.deepEqual = deepEqual;\r\n//# sourceMappingURL=deep-equal.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentDiagram = void 0;\r\nconst errors_1 = require(\"../errors\");\r\nconst types_1 = require(\"maishu-jueying-core/out/types\");\r\nconst parse_component_data_1 = require(\"maishu-jueying-core/out/parse-component-data\");\r\nconst React = require(\"react\");\r\nconst page_designer_1 = require(\"./page-designer\");\r\nconst strings_1 = require(\"../strings\");\r\nconst style_1 = require(\"../style\");\r\nconst page_data_travel_1 = require(\"../page-data-travel\");\r\nconst design_component_context_1 = require(\"../component/design-component-context\");\r\nclass ComponentDiagram extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        this.state = {};\r\n    }\r\n    selectComponent(designer, componentId) {\r\n        if (!componentId) {\r\n            designer.selectComponent([]);\r\n            return;\r\n        }\r\n        designer.selectComponent(componentId);\r\n    }\r\n    static createComponent(type, props, children) {\r\n        let p = props;\r\n        if (!p.id)\r\n            throw errors_1.errors.argumentFieldNull(\"id\", \"props\");\r\n        return React.createElement(page_designer_1.DesignerContext.Consumer, null, ((args) => {\r\n            if (!args)\r\n                throw errors_1.errors.designerContextArgumentNull();\r\n            let componentData = page_data_travel_1.PageDataTravel.findComponent(args.designer.pageData, p.id); //args.designer.pageData.children.filter(o => o.id == p.id)[0]\r\n            if (!componentData)\r\n                throw new Error(`Can not find component data by '${p.id}' in the page data.`);\r\n            let componentConfig = args.designer.props.componentsConfig[componentData.type];\r\n            if (!componentConfig)\r\n                return React.createElement(type, props, children);\r\n            let value = {\r\n                componentData, componentConfig\r\n            };\r\n            return React.createElement(design_component_context_1.DesignComponentContext.Provider, { value }, React.createElement(type, props, children));\r\n        }));\r\n    }\r\n    render() {\r\n        return React.createElement(\"ul\", null,\r\n            React.createElement(page_designer_1.DesignerContext.Consumer, null, args => {\r\n                if (!args)\r\n                    throw errors_1.errors.designerContextArgumentNull();\r\n                let designer = args.designer;\r\n                let componentDatas = designer.pageData.children || [];\r\n                if (componentDatas.length == 0)\r\n                    return React.createElement(\"li\", null, strings_1.strings.emptyCompoenntPanel);\r\n                let componentTypes = args.designer.componentTypes;\r\n                return React.createElement(React.Fragment, null, componentDatas.map(c => {\r\n                    let status = c.status || types_1.ComponentStatus.default;\r\n                    let selected = (status & types_1.ComponentStatus.selected) == types_1.ComponentStatus.selected;\r\n                    return React.createElement(\"li\", { key: c.id, className: selected ? style_1.classNames.selected : \"\", onClick: e => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            this.selectComponent(args.designer, c.id);\r\n                        } }, (0, parse_component_data_1.parseComponentData)(c, componentTypes, ComponentDiagram.createComponent));\r\n                }));\r\n            }));\r\n    }\r\n}\r\nexports.ComponentDiagram = ComponentDiagram;\r\n//# sourceMappingURL=component-diagram.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DesignBehavior = void 0;\r\nvar DesignBehavior;\r\n(function (DesignBehavior) {\r\n    DesignBehavior[DesignBehavior[\"default\"] = 1] = \"default\";\r\n    DesignBehavior[DesignBehavior[\"disableClick\"] = 1] = \"disableClick\";\r\n})(DesignBehavior = exports.DesignBehavior || (exports.DesignBehavior = {}));\r\n//# sourceMappingURL=design-behavior.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EditorPanel = void 0;\r\nconst React = require(\"react\");\r\nconst property_editor_1 = require(\"./property-editor\");\r\nconst style_1 = require(\"../style\");\r\nclass EditorPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { componentDatas: [] };\r\n    }\r\n    /** 对输入进行验证 */\r\n    validateInputs() {\r\n        return this.editor.validator.checkAsync();\r\n    }\r\n    render() {\r\n        let { empty } = this.props;\r\n        empty = empty || React.createElement(\"div\", { className: \"empty\" }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\r\n        return React.createElement(\"div\", { className: `${style_1.classNames.editorPanel} ${this.props.className || \"\"}`, ref: (e) => this.element = e || this.element },\r\n            React.createElement(property_editor_1.PropertyEditor, { ref: e => this.editor = e || this.editor, empty: empty, customRender: this.props.customRender }));\r\n    }\r\n}\r\nexports.EditorPanel = EditorPanel;\r\n//# sourceMappingURL=editor-panel.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageDesigner = exports.DesignerContext = void 0;\r\nconst React = require(\"react\");\r\nconst maishu_jueying_core_1 = require(\"maishu-jueying-core\");\r\nconst errors_1 = require(\"../errors\");\r\nconst guid_1 = require(\"maishu-toolkit/out/guid\");\r\nconst components_1 = require(\"../component/components\");\r\nconst page_data_travel_1 = require(\"../page-data-travel\");\r\nconst component_1 = require(\"../component/component\");\r\nconst deep_equal_1 = require(\"../deep-equal\");\r\nconst common_1 = require(\"../common\");\r\nexports.DesignerContext = React.createContext(null);\r\n/**\r\n * 组件数据处理，负责对对组件数据进行处理维护。\r\n */\r\nclass PageDesigner extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // private _elementFactory: ElementFactory = createDesignElement as any //React.createElement\r\n        this._prePageData = null;\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        if (!props.componentsConfig)\r\n            throw errors_1.errors.argumentFieldCanntNull(\"componentsConfig\", \"props\");\r\n        this.checkComponentsConfig(props.componentsConfig);\r\n        let pageData = this.props.pageData;\r\n        let componentTypes = {};\r\n        this.initPageData(pageData, componentTypes);\r\n        this.state = { pageData, componentTypes, componentEditors: {} };\r\n    }\r\n    /** 检查组件配置 */\r\n    checkComponentsConfig(componentsConfig) {\r\n        // TODO: 检查组件配置\r\n    }\r\n    initPageData(pageData, componentTypes) {\r\n        if (pageData == null)\r\n            throw errors_1.errors.argumentNull(\"pageData\");\r\n        console.assert(pageData.children != null, \"PageData children is null.\");\r\n        let travel = new page_data_travel_1.PageDataTravel(pageData);\r\n        travel.each((c) => {\r\n            if (typeof c == \"string\" || !(0, common_1.isCustomComponent)(c) || componentTypes[c.type])\r\n                return;\r\n            componentTypes[c.type] = (0, components_1.createLoadingComponent)();\r\n        });\r\n    }\r\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param componentData\r\n     */\r\n    initComponent(componentData, pageData) {\r\n        let namedComponents = {};\r\n        pageData.children.forEach(c => {\r\n            if (c.name) {\r\n                namedComponents[c.name] = c;\r\n            }\r\n        });\r\n        if (!componentData.name) {\r\n            let num = 0;\r\n            let name;\r\n            do {\r\n                num = num + 1;\r\n                name = `${componentData.type}${num}`;\r\n            } while (namedComponents[name]);\r\n            namedComponents[name] = componentData;\r\n            componentData.name = name;\r\n        }\r\n        if (!componentData.id)\r\n            componentData.id = (0, guid_1.guid)();\r\n    }\r\n    /** 页面数据 */\r\n    get pageData() {\r\n        return this.state.pageData;\r\n    }\r\n    // get elementFactory(): ElementFactory {\r\n    //     return this._elementFactory\r\n    // }\r\n    get componentTypes() {\r\n        return this.state.componentTypes;\r\n    }\r\n    get prePageData() {\r\n        return this._prePageData;\r\n    }\r\n    set prePageData(value) {\r\n        this._prePageData = value;\r\n    }\r\n    /** 获取已选择了的组件编号 */\r\n    get selectedComponentIds() {\r\n        return this.selectedComponents.map(o => o.id);\r\n    }\r\n    /** 获取已选择了的组件 */\r\n    get selectedComponents() {\r\n        let arr = this.pageData.children.filter(o => ((o.status || maishu_jueying_core_1.ComponentStatus.default) & maishu_jueying_core_1.ComponentStatus.selected) == maishu_jueying_core_1.ComponentStatus.selected);\r\n        return arr;\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    updateComponentProp(componentId, propName, value) {\r\n        return this.updateComponentProps([{ componentId, propName, value }]);\r\n    }\r\n    updateComponentProps(componentProps) {\r\n        let componentDatas = [];\r\n        for (let i = 0; i < componentProps.length; i++) {\r\n            let { componentId, propName, value } = componentProps[i];\r\n            let componentData = this.findComponentData(componentId);\r\n            if (componentData == null)\r\n                continue;\r\n            let navPropsNames = propName.split(\".\");\r\n            console.assert(componentData != null);\r\n            console.assert(navPropsNames != null, 'props is null');\r\n            componentData.props = componentData.props || {};\r\n            let obj = componentData.props;\r\n            for (let i = 0; i < navPropsNames.length - 1; i++) {\r\n                obj = obj[navPropsNames[i]] = obj[navPropsNames[i]] || {};\r\n            }\r\n            obj[navPropsNames[navPropsNames.length - 1]] = value;\r\n            componentDatas.push(componentData);\r\n        }\r\n        this.setState({ pageData: this.pageData });\r\n    }\r\n    /**\r\n     * 添加控件\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\r\n    appendComponent(componentData, componentIndex) {\r\n        let parentId = componentData.parentId;\r\n        if (!parentId)\r\n            throw new Error('ParentId field of component data is null.');\r\n        if (!componentData)\r\n            throw errors_1.errors.argumentNull('childComponent');\r\n        let pageData = this.pageData;\r\n        this.initComponent(componentData, pageData);\r\n        if (componentIndex == null) {\r\n            pageData.children.push(componentData);\r\n        }\r\n        else {\r\n            pageData.children.splice(componentIndex, 0, componentData);\r\n        }\r\n        this.selectComponents(componentData.id);\r\n    }\r\n    /**\r\n     * 选择指定的控件\r\n     * @param componentIds 指定的控件编号\r\n     */\r\n    selectComponent(componentIds) {\r\n        this.selectComponents(componentIds);\r\n        //====================================================\r\n        // 设置焦点，以便获取键盘事件\r\n        if (this._element)\r\n            this._element.focus();\r\n        //====================================================\r\n    }\r\n    /**\r\n     * 选择指定的控件，一个或多个。已经选择的控件取消选择。\r\n     * @param componentIds 指定的控件 ID\r\n     */\r\n    selectComponents(componentIds) {\r\n        if (typeof componentIds == 'string')\r\n            componentIds = [componentIds];\r\n        this.pageData.children.forEach(c => {\r\n            // c.selected = false;\r\n            c.status = c.status || maishu_jueying_core_1.ComponentStatus.default;\r\n            c.status = c.status & (~maishu_jueying_core_1.ComponentStatus.selected);\r\n        });\r\n        this.pageData.children.filter(o => componentIds.indexOf(o.id) >= 0).forEach(c => {\r\n            // c.selected = true;\r\n            c.status = c.status || maishu_jueying_core_1.ComponentStatus.default;\r\n            c.status = c.status | maishu_jueying_core_1.ComponentStatus.selected;\r\n        });\r\n        this.setState({ pageData: this.pageData });\r\n    }\r\n    /** 移除控件 */\r\n    removeComponent(...componentIds) {\r\n        this.removeComponents(componentIds);\r\n    }\r\n    removeComponents(componentIds) {\r\n        let pageData = this.pageData;\r\n        if (!pageData || !pageData.children || pageData.children.length == 0)\r\n            return;\r\n        for (let i = 0; i < componentIds.length; i++) {\r\n            this.removeComponentFrom(componentIds[i], pageData);\r\n        }\r\n        this.setState({ pageData: pageData });\r\n    }\r\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param childComponentIndex 组件位置\r\n     */\r\n    moveComponent(componentId, parentId, childComponentIndex) {\r\n        let component = this.findComponentData(componentId);\r\n        if (component == null)\r\n            throw new Error(`Cannt find component by id ${componentId}`);\r\n        console.assert(component != null, `Cannt find component by id ${componentId}`);\r\n        component.parentId = parentId;\r\n        let pageData = this.pageData;\r\n        console.assert(pageData.children != null);\r\n        this.removeComponentFrom(componentId, pageData);\r\n        this.appendComponent(component, childComponentIndex);\r\n    }\r\n    removeComponentFrom(componentId, pageData) {\r\n        let child = pageData.children.filter(o => o.id == componentId)[0];\r\n        if (child == null)\r\n            throw new Error(`Component '${componentId}' is not exists.`);\r\n        let stack = [child];\r\n        let componentsToRemove = [componentId];\r\n        while (stack.length > 0) {\r\n            let item = stack.pop();\r\n            let children = pageData.children.filter(o => o.parentId == item.id);\r\n            if (children.length > 0) {\r\n                stack.push(...children);\r\n                // status 为 ComponentStatus.asset 不要删除\r\n                componentsToRemove.push(...children.filter(o => o.status == null || (o.status & maishu_jueying_core_1.ComponentStatus.asset) != maishu_jueying_core_1.ComponentStatus.asset).map(o => o.id));\r\n            }\r\n        }\r\n        pageData.children = pageData.children.filter(o => componentsToRemove.indexOf(o.id) < 0);\r\n    }\r\n    /**\r\n     * 通过组件编号获取组件的数据\r\n     * @param componentId 组件编号\r\n     */\r\n    findComponentData(componentId) {\r\n        let pageData = this.state.pageData;\r\n        if (!pageData)\r\n            throw errors_1.errors.pageDataIsNull();\r\n        let componentData = pageData.children.filter(o => o.id == componentId)[0];\r\n        return componentData;\r\n    }\r\n    async loadEditorTypes(pageData) {\r\n        let componentsToLoad = [];\r\n        let travel = new page_data_travel_1.PageDataTravel(pageData);\r\n        travel.each((c) => {\r\n            if (typeof c == \"string\" || !(0, common_1.isCustomComponent)(c))\r\n                return;\r\n            componentsToLoad.push(c.type);\r\n        });\r\n        let componentsConfig = this.props.componentsConfig;\r\n        let promises = componentsToLoad.map(typeName => componentsConfig[typeName]).filter(o => o).map(o => o.editor);\r\n        await Promise.all(promises);\r\n        let componentDatas = pageData.children.filter(o => typeof o != \"string\").map(c => c);\r\n        let editors = this.state.componentEditors;\r\n        for (let c of componentDatas) {\r\n            editors[c.type] = editors[c.type] || {};\r\n            let propEditors = component_1.Component.getPropEditors(c);\r\n            for (let e of propEditors) {\r\n                editors[c.type][e.propName] = e.editorType;\r\n            }\r\n        }\r\n        this.setState({ componentEditors: editors });\r\n    }\r\n    loadComponentTypes(pageData) {\r\n        let componentTypes = {};\r\n        let componentsConfig = this.props.componentsConfig;\r\n        let componentsToLoad = [];\r\n        let travel = new page_data_travel_1.PageDataTravel(pageData);\r\n        travel.each((c) => {\r\n            if (typeof c == \"string\" || componentsToLoad.indexOf(c.type) >= 0 || !(0, common_1.isCustomComponent)(c))\r\n                return;\r\n            componentsToLoad.push(c.type);\r\n        });\r\n        return PageDesigner.loadComponentTypes(componentsToLoad, componentsConfig).then(loadedComponentTypes => {\r\n            Object.assign(componentTypes, loadedComponentTypes);\r\n            this.setState({ componentTypes });\r\n        });\r\n    }\r\n    static async loadComponentTypes(componentsToLoad, componentsConfig) {\r\n        let promises = [];\r\n        let componentTypes = {};\r\n        for (let i = 0; i < componentsToLoad.length; i++) {\r\n            let typeName = componentsToLoad[i];\r\n            if (!typeName) {\r\n                let errorText = `Component '${typeName}' has not a config.`;\r\n                componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                continue;\r\n            }\r\n            if (maishu_jueying_core_1.componentTypes[typeName]) {\r\n                promises.push(Promise.resolve(maishu_jueying_core_1.componentTypes[typeName]));\r\n                continue;\r\n            }\r\n            let p = new Promise(function (resolve, reject) {\r\n                if (!componentsConfig[typeName]) {\r\n                    let errorText = `Component '${typeName}' is not exists.`;\r\n                    componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                    resolve({});\r\n                    return;\r\n                }\r\n                if (!(componentsConfig[typeName].type instanceof Promise)) {\r\n                    let errorText = `Component '${typeName}' type is invalid.`;\r\n                    componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                    resolve({});\r\n                    return;\r\n                }\r\n                componentsConfig[typeName].type.then(p => {\r\n                    if (!p.default) {\r\n                        let errorText = `Component '${typeName}' module has not export default member.`;\r\n                        componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                    }\r\n                    else {\r\n                        componentTypes[typeName] = p.default;\r\n                    }\r\n                    resolve({});\r\n                }).catch(err => {\r\n                    reject(err);\r\n                });\r\n            });\r\n            promises.push(p);\r\n        }\r\n        await Promise.all(promises);\r\n        return componentTypes;\r\n    }\r\n    onKeyDown(e) {\r\n        const DELETE_KEY_CODE = 46;\r\n        if (e.keyCode == DELETE_KEY_CODE) {\r\n            if (this.selectedComponents.length == 0)\r\n                return;\r\n            this.removeComponents(this.selectedComponentIds);\r\n        }\r\n    }\r\n    async onPageDataChanged(pageData) {\r\n        this.loadComponentTypes(pageData);\r\n        this.loadEditorTypes(pageData);\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        return { pageData: props.pageData };\r\n    }\r\n    render() {\r\n        let pageData = this.state.pageData;\r\n        let equal = (0, deep_equal_1.deepEqual)(this.prePageData, pageData);\r\n        if (!equal) {\r\n            this.prePageData = JSON.parse(JSON.stringify(pageData));\r\n            this.onPageDataChanged(pageData);\r\n        }\r\n        return React.createElement(\"div\", { tabIndex: 0, ref: e => this._element = this._element || e, onKeyDown: e => this.onKeyDown(e), className: this.props.className, style: this.props.style },\r\n            React.createElement(exports.DesignerContext.Provider, { value: { designer: this } }, this.props.children));\r\n    }\r\n}\r\nexports.PageDesigner = PageDesigner;\r\n//# sourceMappingURL=page-designer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorBoundary = exports.PropertyEditor = exports.defaultGroupName = void 0;\r\nconst React = require(\"react\");\r\nconst component_1 = require(\"../component/component\");\r\n// import { PropEditorProps } from \"./prop-editor\";\r\nconst errors_1 = require(\"../errors\");\r\nconst page_designer_1 = require(\"./page-designer\");\r\nconst common_1 = require(\"../common\");\r\nconst maishu_dilu_1 = require(\"maishu-dilu\");\r\nexports.defaultGroupName = \"\";\r\nclass PropertyEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    getEditors(designer) {\r\n        if (designer == null) {\r\n            return [];\r\n        }\r\n        // 各个控件相同的编辑器\r\n        let commonPropEditorInfos = [];\r\n        let selectedComponents = designer.selectedComponents;\r\n        for (let i = 0; i < selectedComponents.length; i++) {\r\n            let componentData = selectedComponents[i];\r\n            let propEditorInfos = component_1.Component.getPropEditors(componentData);\r\n            if (i == 0) {\r\n                commonPropEditorInfos = propEditorInfos || [];\r\n            }\r\n            else {\r\n                let items = [];\r\n                commonPropEditorInfos.forEach(propInfo1 => {\r\n                    propEditorInfos.forEach(propInfo2 => {\r\n                        let propName1 = propInfo1.propName;\r\n                        let propName2 = propInfo2.propName;\r\n                        if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\r\n                            items.push(propInfo1);\r\n                        }\r\n                    });\r\n                });\r\n                commonPropEditorInfos = items;\r\n            }\r\n        }\r\n        // 各个控件相同的属性值\r\n        let commonFlatProps = {};\r\n        for (let i = 0; i < selectedComponents.length; i++) {\r\n            let control = selectedComponents[i];\r\n            let controlProps = Object.assign({}, control.props);\r\n            delete controlProps.children;\r\n            if (i == 0) {\r\n                commonFlatProps = controlProps;\r\n            }\r\n            else {\r\n                let obj = {};\r\n                for (let key in commonFlatProps) {\r\n                    if (commonFlatProps[key] == controlProps[key])\r\n                        obj[key] = controlProps[key];\r\n                }\r\n                commonFlatProps = obj;\r\n            }\r\n        }\r\n        let editors = [];\r\n        for (let i = 0; i < commonPropEditorInfos.length; i++) {\r\n            let propEditorInfo = commonPropEditorInfos[i];\r\n            let propName = propEditorInfo.propName;\r\n            ;\r\n            let editorType = propEditorInfo.editorType;\r\n            let value = this.propValue(propName, commonFlatProps);\r\n            if (value == null)\r\n                value = propEditorInfo.defaultValue;\r\n            let editorProps = {\r\n                value: value,\r\n                editComponents: selectedComponents,\r\n                updateComponentProp: (value) => {\r\n                    let componentProps = selectedComponents.map(o => ({\r\n                        componentId: o.id, propName: propEditorInfo.propName, value\r\n                    }));\r\n                    if (this._validator == null) {\r\n                        this._validateFields = commonPropEditorInfos.filter(o => o.validation != null)\r\n                            .map(o => Object.assign(o.validation, { name: o.propName, rules: [] }));\r\n                        this._validator = new maishu_dilu_1.FormValidator(this.element, ...this._validateFields);\r\n                    }\r\n                    if (this._validateFields.filter(o => o.name == propEditorInfo.propName).length > 0)\r\n                        this._validator.checkElement(propEditorInfo.propName);\r\n                    designer.updateComponentProps(componentProps);\r\n                }\r\n            };\r\n            let editor = React.createElement(editorType, editorProps);\r\n            editors.push({ prop: propEditorInfo.propName, displayName: propEditorInfo.displayName, editor, group: propEditorInfo.group });\r\n        }\r\n        return editors;\r\n    }\r\n    propValue(propName, props) {\r\n        if (!propName)\r\n            throw errors_1.errors.argumentNull(\"propName\");\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        let navPropsNames = propName.split(\".\");\r\n        let obj = props;\r\n        for (let i = 0; i < navPropsNames.length; i++) {\r\n            obj = obj[navPropsNames[i]];\r\n            if (obj == null)\r\n                return null;\r\n        }\r\n        return obj;\r\n    }\r\n    render() {\r\n        return React.createElement(page_designer_1.DesignerContext.Consumer, null, args => {\r\n            if (!args)\r\n                throw errors_1.errors.designerContextArgumentNull();\r\n            let designer = args.designer;\r\n            let editors = this.getEditors(designer);\r\n            if (editors.length == 0) {\r\n                let empty = this.props.empty;\r\n                return React.createElement(\"div\", { className: \"text-center\" }, empty);\r\n            }\r\n            if (this.props.customRender) {\r\n                let items = editors.map(o => Object.assign({ displayName: o.displayName }, o));\r\n                let r = this.props.customRender(designer.selectedComponents, items);\r\n                if (r != null) {\r\n                    return React.createElement(\"div\", { ref: e => this._element = e || this._element }, r);\r\n                }\r\n            }\r\n            let groupEditorsArray = [];\r\n            for (let i = 0; i < editors.length; i++) {\r\n                let group = editors[i].group || exports.defaultGroupName;\r\n                let groupEditors = groupEditorsArray.filter(o => o.group == group)[0];\r\n                if (groupEditors == null) {\r\n                    groupEditors = { group: editors[i].group, editors: [] };\r\n                    groupEditorsArray.push(groupEditors);\r\n                }\r\n                groupEditors.editors.push({ prop: editors[i].prop, displayName: editors[i].displayName, editor: editors[i].editor });\r\n            }\r\n            return groupEditorsArray.map((g) => React.createElement(\"div\", { key: g.group, className: \"panel panel-default\", ref: e => this._element = e || this._element },\r\n                g.group ? React.createElement(\"div\", { className: \"panel-heading\" }, common_1.groupDisplayNames[g.group] || g.group) : null,\r\n                React.createElement(\"div\", { className: \"panel-body\" }, g.editors.map((o, i) => React.createElement(\"div\", { key: o.prop, className: \"form-group clearfix\" },\r\n                    React.createElement(\"label\", null, o.displayName),\r\n                    React.createElement(\"div\", { className: \"control\" },\r\n                        React.createElement(ErrorBoundary, null, o.editor)))))));\r\n        });\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    get validator() {\r\n        return this._validator;\r\n    }\r\n}\r\nexports.PropertyEditor = PropertyEditor;\r\nPropertyEditor.contextType = page_designer_1.DesignerContext;\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    componentDidCatch(error, info) {\r\n        // Display fallback UI\r\n        this.setState({ error });\r\n        // You can also log the error to an error reporting service\r\n        //   logErrorToMyService(error, info);\r\n    }\r\n    render() {\r\n        let { error } = this.state || {};\r\n        if (error) {\r\n            return React.createElement(\"div\", { className: \"error\" },\r\n                React.createElement(\"div\", null, error.message),\r\n                React.createElement(\"div\", null, error.stack));\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\nexports.ErrorBoundary = ErrorBoundary;\r\n//# sourceMappingURL=property-editor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = void 0;\r\nconst errors_1 = require(\"maishu-toolkit/out/errors\");\r\nclass Errors extends errors_1.Errors {\r\n    placeHolderIdNull() {\r\n        let msg = `Place holder property id cannt be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    fileNotExists(fileName) {\r\n        return new Error(`File '${fileName}' is not exists.`);\r\n    }\r\n    argumentNull(argumentName) {\r\n        return new Error(`Argument ${argumentName} is null or empty.`);\r\n    }\r\n    argumentRangeError(argumentName) {\r\n        return new Error(`Argument ${argumentName} range error.`);\r\n    }\r\n    pageDataIsNull() {\r\n        return new Error(`Page data is null.`);\r\n    }\r\n    toolbarRequiredKey() {\r\n        return new Error(`Toolbar has not a key prop.`);\r\n    }\r\n    loadPluginFail(pluginId) {\r\n        return new Error(`Load plugin '${pluginId}' fail.`);\r\n    }\r\n    idRequired() {\r\n        return new Error(`Property id is required.`);\r\n    }\r\n    canntFindMasterPage(componentId) {\r\n        return new Error(`Can not find master page for component container ${componentId}.`);\r\n    }\r\n    propCanntNull(componentName, property) {\r\n        let msg = `${componentName} property ${property} cannt be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    argumentFieldCanntNull(fieldName, argumentName) {\r\n        let msg = `${fieldName} of argument ${argumentName} cannt be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    designerContextArgumentNull() {\r\n        let msg = `Designer cottext argument null.`;\r\n        let error = new Error(msg);\r\n        error.name = exports.errors.designerContextArgumentNull.name;\r\n        return error;\r\n    }\r\n}\r\nexports.errors = new Errors();\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentDiagram = exports.classNames = exports.DesignerContext = exports.PageDesigner = exports.EditorPanel = exports.Component = exports.groupDisplayNames = void 0;\r\nvar common_1 = require(\"./common\");\r\nObject.defineProperty(exports, \"groupDisplayNames\", { enumerable: true, get: function () { return common_1.groupDisplayNames; } });\r\nvar component_1 = require(\"./component/component\");\r\nObject.defineProperty(exports, \"Component\", { enumerable: true, get: function () { return component_1.Component; } });\r\nvar editor_panel_1 = require(\"./design/editor-panel\");\r\nObject.defineProperty(exports, \"EditorPanel\", { enumerable: true, get: function () { return editor_panel_1.EditorPanel; } });\r\nvar page_designer_1 = require(\"./design/page-designer\");\r\nObject.defineProperty(exports, \"PageDesigner\", { enumerable: true, get: function () { return page_designer_1.PageDesigner; } });\r\nObject.defineProperty(exports, \"DesignerContext\", { enumerable: true, get: function () { return page_designer_1.DesignerContext; } });\r\nvar style_1 = require(\"./style\");\r\nObject.defineProperty(exports, \"classNames\", { enumerable: true, get: function () { return style_1.classNames; } });\r\nvar component_diagram_1 = require(\"./design/component-diagram\");\r\nObject.defineProperty(exports, \"ComponentDiagram\", { enumerable: true, get: function () { return component_diagram_1.ComponentDiagram; } });\r\nrequire(\"./component/create-element\");\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageDataTravel = void 0;\r\nconst errors_1 = require(\"./errors\");\r\n/** 页面数据（PageData）遍历器，遍历 PageData 里的组件 */\r\nclass PageDataTravel {\r\n    constructor(pageData) {\r\n        this.pageData = pageData;\r\n    }\r\n    each(callback) {\r\n        let stack = [...(this.pageData.children || [])];\r\n        let componentData = stack.pop();\r\n        while (componentData != null) {\r\n            callback(componentData);\r\n            if (typeof componentData != \"string\") {\r\n                let children = componentData.children || [];\r\n                stack.push(...children);\r\n            }\r\n            componentData = stack.pop();\r\n        }\r\n    }\r\n    static findComponent(pageData, componentId) {\r\n        if (!pageData)\r\n            throw errors_1.errors.argumentNull(\"pageData\");\r\n        if (!componentId)\r\n            throw errors_1.errors.argumentNull(\"componentId\");\r\n        let travel = new PageDataTravel(pageData);\r\n        let r;\r\n        travel.each(function (c) {\r\n            if (typeof c == \"string\" || r)\r\n                return;\r\n            if (componentId == c.id)\r\n                r = c;\r\n        });\r\n        return r;\r\n    }\r\n}\r\nexports.PageDataTravel = PageDataTravel;\r\n//# sourceMappingURL=page-data-travel.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.strings = void 0;\r\nexports.strings = {\r\n    emptyCompoenntPanel: \"暂无可用组件\",\r\n    emptyDiagram: \"请拖放组件到此处\",\r\n    componentLoading: \"组件正在加载中...\",\r\n};\r\n//# sourceMappingURL=strings.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.removeClassName = exports.appendClassName = exports.classNames = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nexports.classNames = {\r\n    componentSelected: `component-selected`,\r\n    emptyTemplates: `empty-templates`,\r\n    loadingTemplates: `loading-templates`,\r\n    templateSelected: `template-selected`,\r\n    templateDialog: `template-dialog`,\r\n    emptyDocument: `empty-document`,\r\n    empty: \"empty\",\r\n    selected: \"selected\",\r\n    component: 'component',\r\n    componentWrapper: 'component-wrapper',\r\n    componentPanel: 'component-panel',\r\n    componentIcon: 'component-icon',\r\n    placeholder: 'placeholder',\r\n    editorPanel: 'editor-panel',\r\n    designer: 'designer',\r\n    moveDown: 'move-down',\r\n};\r\nlet templateDialog = {\r\n    nameHeight: 40,\r\n    fontSize: 22\r\n};\r\nlet element = document.createElement('style');\r\nelement.type = 'text/css';\r\nelement.setAttribute(\"data-name\", \"jueying\");\r\nelement.innerHTML = `\r\n            .${exports.classNames.componentSelected} {\r\n                border: solid 1px #337ab7!important;\r\n            }\r\n            .${exports.classNames.componentSelected} > :first-child {\r\n                border-color: blue;\r\n              }\r\n              .${exports.classNames.componentSelected} .resize_handle {\r\n                position: absolute;\r\n                height: 6px;\r\n                width: 6px;\r\n                border: 1px solid #89B;\r\n                background: #9AC;\r\n              }\r\n              .${exports.classNames.componentSelected} .move_handle {\r\n                height: 12px;\r\n                width: 12px;\r\n                top: 6px;\r\n                left: 8px;\r\n                border: solid 1px black;\r\n                position: relative;\r\n                margin-top: -12px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NW,\r\n              .${exports.classNames.componentSelected} .NN,\r\n              .${exports.classNames.componentSelected} .NE {\r\n                top: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NE,\r\n              .${exports.classNames.componentSelected} .EE,\r\n              .${exports.classNames.componentSelected} .SE {\r\n                right: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .SW,\r\n              .${exports.classNames.componentSelected}.SS,\r\n              .${exports.classNames.componentSelected} .SE {\r\n                bottom: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NW,\r\n              .${exports.classNames.componentSelected} .WW,\r\n              .${exports.classNames.componentSelected} .SW {\r\n                left: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .SE,\r\n              .${exports.classNames.componentSelected} .NW {\r\n                cursor: nw-resize;\r\n              }\r\n              .${exports.classNames.componentSelected} .SW,\r\n              .${exports.classNames.componentSelected} .NE {\r\n                cursor: ne-resize;\r\n              }\r\n              .${exports.classNames.componentSelected} .NN,\r\n              .${exports.classNames.componentSelected} .SS {\r\n                cursor: n-resize;\r\n                left: 50%;\r\n                margin-left: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .EE,\r\n              .${exports.classNames.componentSelected} .WW {\r\n                cursor: e-resize;\r\n                top: 50%;\r\n                margin-top: -4px;\r\n              }\r\n            .${exports.classNames.emptyTemplates} {\r\n                padding:50px 0;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.loadingTemplates} {\r\n                padding:50px 0;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.templateSelected} .page-view {\r\n                border: solid 1px #337ab7!important;\r\n            }\r\n            .${exports.classNames.templateDialog} .name {\r\n                margin-top: -${templateDialog.nameHeight}px;\r\n                height: ${templateDialog.nameHeight}px;\r\n                font-size: ${templateDialog.fontSize}px;\r\n                text-align: center;\r\n                padding-top: 6px;\r\n                background-color: black;\r\n                opacity: 0.5;\r\n            }\r\n            .${exports.classNames.templateDialog} .name span {\r\n                color: white;\r\n            }\r\n            .${exports.classNames.emptyDocument} {\r\n                text-align: center;\r\n                padding: 100px 0;\r\n            }\r\n            .${exports.classNames.component} > .NW,\r\n            .${exports.classNames.component} > .NN,\r\n            .${exports.classNames.component} > .NE,\r\n            .${exports.classNames.component} > .EE,\r\n            .${exports.classNames.component} > .SE,\r\n            .${exports.classNames.component} > .SW,\r\n            .${exports.classNames.component} > .SS,\r\n            .${exports.classNames.component} > .WW {\r\n                display: none;\r\n            }\r\n            .${exports.classNames.componentSelected}.component > .NW,\r\n            .${exports.classNames.componentSelected}.component > .NN,\r\n            .${exports.classNames.componentSelected}.component > .NE,\r\n            .${exports.classNames.componentSelected}.component > .EE,\r\n            .${exports.classNames.componentSelected}.component > .SE,\r\n            .${exports.classNames.componentSelected}.component > .SW,\r\n            .${exports.classNames.componentSelected}.component > .SS,\r\n            .${exports.classNames.componentSelected}.component > .WW {\r\n                display: block;\r\n            }\r\n            .${exports.classNames.placeholder} {\r\n                min-height: 40px;\r\n                width: 100%;\r\n            }\r\n            .${exports.classNames.placeholder}.active,\r\n            .${exports.classNames.componentWrapper}.active,\r\n            .${exports.classNames.componentWrapper}.${exports.classNames.componentSelected}.active {\r\n                border: 1px solid green;\r\n            }\r\n            .${exports.classNames.editorPanel} {\r\n                width: 300px;\r\n                background: white;\r\n                color: black;\r\n                margin: 0;\r\n                font-size: 14px;\r\n                z-index: 100;\r\n                overflow: auto;\r\n            }\r\n            .${exports.classNames.editorPanel} label {\r\n                width: 80px;\r\n                float: left;\r\n                padding: 4px;\r\n                text-overflow: ellipsis;\r\n                overflow: hidden;\r\n            }\r\n            .${exports.classNames.editorPanel} .control {\r\n                padding-left: 90px;\r\n            }\r\n            .${exports.classNames.editorPanel} .empty {\r\n                padding-top: 200px;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.designer} .error,\r\n            .${exports.classNames.editorPanel} .error {\r\n                color: red;\r\n            }\r\n            .${exports.classNames.componentPanel} {\r\n                background: white;\r\n                color: black;\r\n                font-size: 14px;\r\n                z-index: 100;\r\n                list-style: none;\r\n                padding: 0;\r\n                text-align: center\r\n            }\r\n            .${exports.classNames.componentPanel} .panel-heading {\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.componentPanel} li {\r\n                text-align: center;\r\n                padding: 8px;\r\n            }\r\n            .${exports.classNames.componentWrapper}.${exports.classNames.moveDown} {\r\n         \r\n            }\r\n        `;\r\nif (document.head != null) {\r\n    document.head.appendChild(element);\r\n}\r\nfunction appendClassName(element, addonClassName) {\r\n    if (element == null)\r\n        throw errors_1.errors.argumentNull('element');\r\n    if (!addonClassName)\r\n        throw errors_1.errors.argumentNull('addonClassName');\r\n    let sourceClassName;\r\n    if (typeof element == 'string')\r\n        sourceClassName = element;\r\n    else\r\n        sourceClassName = element.className;\r\n    sourceClassName = sourceClassName || '';\r\n    console.assert(addonClassName != null);\r\n    if (sourceClassName.indexOf(addonClassName) >= 0)\r\n        return sourceClassName;\r\n    let className = `${sourceClassName} ${addonClassName}`;\r\n    if (typeof element != 'string')\r\n        element.className = className;\r\n    return className;\r\n}\r\nexports.appendClassName = appendClassName;\r\nfunction removeClassName(element, targetClassName) {\r\n    let sourceClassName;\r\n    if (typeof element == 'string')\r\n        sourceClassName = element;\r\n    else\r\n        sourceClassName = element.className || '';\r\n    if (sourceClassName.indexOf(targetClassName) < 0)\r\n        return sourceClassName;\r\n    sourceClassName = sourceClassName || '';\r\n    sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\r\n    sourceClassName = sourceClassName.trim();\r\n    if (typeof element != 'string')\r\n        element.className = sourceClassName;\r\n    return sourceClassName;\r\n}\r\nexports.removeClassName = removeClassName;\r\n//# sourceMappingURL=style.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE_maishu_dilu__;","module.exports = __WEBPACK_EXTERNAL_MODULE_maishu_jueying_core__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}