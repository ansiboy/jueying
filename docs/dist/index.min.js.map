{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"react\"","webpack://jueying/./out/errors.js","webpack://jueying/./out/common.js","webpack://jueying/./node_modules/maishu-jueying-core/out/errors.js","webpack://jueying/external \"maishu-jueying-core\"","webpack://jueying/./out/component/component.js","webpack://jueying/./out/design/page-designer.js","webpack://jueying/./out/style.js","webpack://jueying/./node_modules/maishu-jueying-core/out/parse-component-data.js","webpack://jueying/./out/design/property-editor.js","webpack://jueying/./node_modules/maishu-toolkit/out/errors.js","webpack://jueying/./out/strings.js","webpack://jueying/./out/page-data-travel.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/page-data-parser.js","webpack://jueying/./out/component/design-component-context.js","webpack://jueying/./out/index.js","webpack://jueying/./node_modules/maishu-toolkit/out/guid.js","webpack://jueying/./out/component/components.js","webpack://jueying/./out/deep-equal.js","webpack://jueying/external \"maishu-dilu\"","webpack://jueying/./out/design/editor-panel.js","webpack://jueying/./out/design/component-diagram.js","webpack://jueying/./node_modules/maishu-jueying-core/out/types.js","webpack://jueying/./node_modules/maishu-jueying-core/out/register.js","webpack://jueying/./node_modules/maishu-jueying-core/out/components/component-placeholder.js","webpack://jueying/./out/component/create-element.js","webpack://jueying/(webpack)/buildin/global.js","webpack://jueying/./out/design/design-behavior.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__19__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","defineProperty","errors","errors_1","Errors","Error","fileName","argumentName","pluginId","componentId","componentName","fieldName","error","name","designerContextArgumentNull","elementFactoryName","isCustomComponent","groupDisplayNames","proptDisplayNames","constants","maishu_jueying_core_1","componentsDir","connectorElementClassName","componentTypeName","componentData","componentPosition","type","toLocaleLowerCase","componentTypes","page_data_parser_1","MyErrors","path","PageDataParser","Component","property_editor_1","componentType","result","propEditorInfo","this","componentPropEditors","i","length","propName","display","componentPropEditorDisplay","push","controlClassName","getPropEditorByArray","propNames","filter","o","options","editorType","editorDisplay","group","displayName","defaultValue","validation","defaultGroupName","split","className","typename","classProps","join","typeName","registerComponent","Fragment","PageDesigner","DesignerContext","React","guid_1","components_1","page_data_travel_1","component_1","deep_equal_1","common_1","createContext","props","super","_prePageData","argumentNull","componentsConfig","argumentFieldCanntNull","checkComponentsConfig","pageData","initPageData","state","componentEditors","console","assert","children","PageDataTravel","each","c","createLoadingComponent","namedComponents","forEach","num","id","guid","selectedComponents","map","status","ComponentStatus","default","selected","_element","updateComponentProps","componentProps","componentDatas","findComponentData","navPropsNames","obj","setState","componentIndex","parentId","initComponent","splice","selectComponents","componentIds","focus","indexOf","removeComponents","removeComponentFrom","childComponentIndex","component","appendComponent","child","stack","componentsToRemove","item","pop","asset","pageDataIsNull","componentsToLoad","promises","editor","Promise","all","editors","propEditors","getPropEditors","e","loadComponentTypes","then","loadedComponentTypes","assign","errorText","createInfoComponent","resolve","p","reject","catch","err","keyCode","selectedComponentIds","loadEditorTypes","deepEqual","prePageData","JSON","parse","stringify","onPageDataChanged","createElement","tabIndex","ref","onKeyDown","style","Provider","designer","removeClassName","appendClassName","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","empty","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","moveDown","element","document","setAttribute","innerHTML","head","appendChild","addonClassName","sourceClassName","targetClassName","replace","RegExp","trim","parseComponentData","register_1","argumentFieldNull","toLowerCase","componentTypeNotExists","childComponentInfos","ErrorBoundary","PropertyEditor","page_designer_1","maishu_dilu_1","commonPropEditorInfos","propEditorInfos","items","propInfo1","propInfo2","propName1","propName2","commonFlatProps","control","controlProps","propValue","editorProps","editComponents","updateComponentProp","_validator","_validateFields","rules","FormValidator","checkElement","prop","Consumer","args","getEditors","customRender","r","groupEditorsArray","groupEditors","g","contextType","info","message","expectedType","strings","emptyCompoenntPanel","emptyDiagram","componentLoading","callback","PageDataParserContext","parse_component_data_1","elementFactory","childComponents","DesignComponentContext","ComponentDiagram","EditorPanel","editor_panel_1","style_1","component_diagram_1","s4","Math","floor","random","toString","substring","strings_1","text","paddingTop","paddingBottom","padding","textAlign","x","y","keys","validator","checkAsync","types_1","design_component_context_1","selectComponent","findComponent","componentConfig","onClick","preventDefault","stopPropagation","createComponent","component_placeholder_1","ComponentPlaceHolder","nullPageDataParserArguments","design_behavior_1","props1","design","DesignBehavior","disableClick","global","Function"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"maishu-jueying-core\"), require(\"maishu-dilu\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"maishu-jueying-core\", \"maishu-dilu\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"react\"), require(\"maishu-jueying-core\"), require(\"maishu-dilu\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"react\"], root[\"maishu-jueying-core\"], root[\"maishu-dilu\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__19__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = void 0;\r\nconst errors_1 = require(\"maishu-toolkit/out/errors\");\r\nclass Errors extends errors_1.Errors {\r\n    placeHolderIdNull() {\r\n        let msg = `Place holder property id cannt be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    fileNotExists(fileName) {\r\n        return new Error(`File '${fileName}' is not exists.`);\r\n    }\r\n    argumentNull(argumentName) {\r\n        return new Error(`Argument ${argumentName} is null or empty.`);\r\n    }\r\n    argumentRangeError(argumentName) {\r\n        return new Error(`Argument ${argumentName} range error.`);\r\n    }\r\n    pageDataIsNull() {\r\n        return new Error(`Page data is null.`);\r\n    }\r\n    toolbarRequiredKey() {\r\n        return new Error(`Toolbar has not a key prop.`);\r\n    }\r\n    loadPluginFail(pluginId) {\r\n        return new Error(`Load plugin '${pluginId}' fail.`);\r\n    }\r\n    idRequired() {\r\n        return new Error(`Property id is required.`);\r\n    }\r\n    canntFindMasterPage(componentId) {\r\n        return new Error(`Can not find master page for component container ${componentId}.`);\r\n    }\r\n    propCanntNull(componentName, property) {\r\n        let msg = `${componentName} property ${property} cannt be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    argumentFieldCanntNull(fieldName, argumentName) {\r\n        let msg = `${fieldName} of argument ${argumentName} cannt be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    designerContextArgumentNull() {\r\n        let msg = `Designer cottext argument null.`;\r\n        let error = new Error(msg);\r\n        error.name = exports.errors.designerContextArgumentNull.name;\r\n        return error;\r\n    }\r\n}\r\nexports.errors = new Errors();\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.elementFactoryName = exports.isCustomComponent = exports.groupDisplayNames = exports.proptDisplayNames = exports.constants = void 0;\r\nconst maishu_jueying_core_1 = require(\"maishu-jueying-core\");\r\nexports.constants = {\r\n    componentsDir: 'components',\r\n    connectorElementClassName: 'component-container',\r\n    componentTypeName: 'data-component-name',\r\n    componentData: 'component-data',\r\n    componentPosition: \"component-position\"\r\n};\r\nexports.proptDisplayNames = {};\r\nexports.groupDisplayNames = {};\r\nfunction isCustomComponent(componentData) {\r\n    // 全小写为 HTML 元素，不需要加载\r\n    if (componentData.type.toLocaleLowerCase() == componentData.type)\r\n        return false;\r\n    if (maishu_jueying_core_1.componentTypes[componentData.type])\r\n        return false;\r\n    return true;\r\n}\r\nexports.isCustomComponent = isCustomComponent;\r\nexports.elementFactoryName = \"h\";\r\n//# sourceMappingURL=common.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = void 0;\r\nconst errors_1 = require(\"maishu-toolkit/out/errors\");\r\nconst page_data_parser_1 = require(\"./components/page-data-parser\");\r\nclass MyErrors extends errors_1.Errors {\r\n    pathFieldRequired(name) {\r\n        let msg = `Path field of '${name}' component config can not be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    canntFindModule(name, path) {\r\n        let msg = `Can not find component '${name}' in the module, module path is: '${path}'.`;\r\n        return new Error(msg);\r\n    }\r\n    componentTypeNotExists(name) {\r\n        let msg = `Component '${name}' not exists.`;\r\n        return new Error(msg);\r\n    }\r\n    argumentNull(name) {\r\n        let msg = `Argument '${name}' can not be null or empty.`;\r\n        return new Error(msg);\r\n    }\r\n    propsFileNull(fieldName) {\r\n        let msg = `Field '${fieldName}' of props is null.`;\r\n        let error = new Error(msg);\r\n        let name = \"propsFileNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    nullPageDataParserArguments() {\r\n        let obj = { PageDataParser: page_data_parser_1.PageDataParser };\r\n        let typeName = \"PageDataParser\";\r\n        let msg = `PageDataParser arguments is null. Is this component child of ${typeName}?`;\r\n        let error = new Error(msg);\r\n        let name = \"nullPageDataParserArguments\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nexports.errors = new MyErrors();\r\n//# sourceMappingURL=errors.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Component = void 0;\r\nconst property_editor_1 = require(\"../design/property-editor\");\r\nconst maishu_jueying_core_1 = require(\"maishu-jueying-core\");\r\n// type CreateElementContext = { components: React.Component[], componentTypes: string[] };\r\n// let defaultGroup: GroupedEditor[\"group\"] = { prop: \"\", displayName: \"\" };\r\nclass Component {\r\n    static getPropEditors(componentData) {\r\n        let componentType = componentData.type;\r\n        let result = [];\r\n        let propEditorInfo = this.componentPropEditors[componentType] || [];\r\n        for (let i = 0; i < propEditorInfo.length; i++) {\r\n            let propName = propEditorInfo[i].propName;\r\n            let display = Component.componentPropEditorDisplay[`${componentType}.${propName}`];\r\n            if (display != null && display(componentData) == false)\r\n                continue;\r\n            result.push(propEditorInfo[i]);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * 获取指定组件的属性编辑器\r\n     * @param controlClassName 指定组件的类名\r\n     * @param propName 组件的属性名称\r\n     * */\r\n    static getPropEditor(controlClassName, propName) {\r\n        return this.getPropEditorByArray(controlClassName, propName);\r\n    }\r\n    /** 通过属性数组获取属性的编辑器 */\r\n    static getPropEditorByArray(controlClassName, propNames) {\r\n        let classEditors = this.componentPropEditors[controlClassName] || [];\r\n        let editor = classEditors.filter(o => o.propName == propNames)[0];\r\n        return editor;\r\n    }\r\n    static setPropEditor(options) {\r\n        let { componentType, editorType, display: editorDisplay, group, propName, displayName, defaultValue, validation, } = options;\r\n        group = group || property_editor_1.defaultGroupName;\r\n        propName = propName || \"\";\r\n        displayName = displayName || propName;\r\n        // 属性可能为导航属性,例如 style.width\r\n        let propNames = propName.split('.');\r\n        let className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\r\n        Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\r\n        let classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\r\n        for (let i = 0; i < classProps.length; i++) {\r\n            let propName1 = classProps[i].propName;\r\n            let propName2 = propNames.join('.');\r\n            if (propName1 == propName2) {\r\n                classProps[i].editorType = editorType;\r\n                return;\r\n            }\r\n        }\r\n        classProps.push({\r\n            propName, displayName, editorType: editorType,\r\n            group, defaultValue, validation\r\n        });\r\n    }\r\n    static register(typeName, componentType) {\r\n        return (0, maishu_jueying_core_1.registerComponent)(typeName, componentType);\r\n    }\r\n}\r\nexports.Component = Component;\r\n//==========================================\r\n// 用于创建 React 的 React.Fragment \r\nComponent.Fragment = \"\";\r\n//==========================================\r\nComponent.componentPropEditors = {};\r\nComponent.componentPropEditorDisplay = {};\r\n//# sourceMappingURL=component.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageDesigner = exports.DesignerContext = void 0;\r\nconst React = require(\"react\");\r\nconst maishu_jueying_core_1 = require(\"maishu-jueying-core\");\r\nconst errors_1 = require(\"../errors\");\r\nconst guid_1 = require(\"maishu-toolkit/out/guid\");\r\nconst components_1 = require(\"../component/components\");\r\nconst page_data_travel_1 = require(\"../page-data-travel\");\r\nconst component_1 = require(\"../component/component\");\r\nconst deep_equal_1 = require(\"../deep-equal\");\r\nconst common_1 = require(\"../common\");\r\nexports.DesignerContext = React.createContext(null);\r\n/**\r\n * 组件数据处理，负责对对组件数据进行处理维护。\r\n */\r\nclass PageDesigner extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // private _elementFactory: ElementFactory = createDesignElement as any //React.createElement\r\n        this._prePageData = null;\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        if (!props.componentsConfig)\r\n            throw errors_1.errors.argumentFieldCanntNull(\"componentsConfig\", \"props\");\r\n        this.checkComponentsConfig(props.componentsConfig);\r\n        let pageData = this.props.pageData;\r\n        let componentTypes = {};\r\n        this.initPageData(pageData, componentTypes);\r\n        this.state = { pageData, componentTypes, componentEditors: {} };\r\n    }\r\n    /** 检查组件配置 */\r\n    checkComponentsConfig(componentsConfig) {\r\n        // TODO: 检查组件配置\r\n    }\r\n    initPageData(pageData, componentTypes) {\r\n        if (pageData == null)\r\n            throw errors_1.errors.argumentNull(\"pageData\");\r\n        console.assert(pageData.children != null, \"PageData children is null.\");\r\n        let travel = new page_data_travel_1.PageDataTravel(pageData);\r\n        travel.each((c) => {\r\n            if (typeof c == \"string\" || !(0, common_1.isCustomComponent)(c) || componentTypes[c.type])\r\n                return;\r\n            componentTypes[c.type] = (0, components_1.createLoadingComponent)();\r\n        });\r\n    }\r\n    /**\r\n     * 对组件及其子控件进行命名\r\n     * @param componentData\r\n     */\r\n    initComponent(componentData, pageData) {\r\n        let namedComponents = {};\r\n        pageData.children.forEach(c => {\r\n            if (c.name) {\r\n                namedComponents[c.name] = c;\r\n            }\r\n        });\r\n        if (!componentData.name) {\r\n            let num = 0;\r\n            let name;\r\n            do {\r\n                num = num + 1;\r\n                name = `${componentData.type}${num}`;\r\n            } while (namedComponents[name]);\r\n            namedComponents[name] = componentData;\r\n            componentData.name = name;\r\n        }\r\n        if (!componentData.id)\r\n            componentData.id = (0, guid_1.guid)();\r\n    }\r\n    /** 页面数据 */\r\n    get pageData() {\r\n        return this.state.pageData;\r\n    }\r\n    // get elementFactory(): ElementFactory {\r\n    //     return this._elementFactory\r\n    // }\r\n    get componentTypes() {\r\n        return this.state.componentTypes;\r\n    }\r\n    get prePageData() {\r\n        return this._prePageData;\r\n    }\r\n    set prePageData(value) {\r\n        this._prePageData = value;\r\n    }\r\n    /** 获取已选择了的组件编号 */\r\n    get selectedComponentIds() {\r\n        return this.selectedComponents.map(o => o.id);\r\n    }\r\n    /** 获取已选择了的组件 */\r\n    get selectedComponents() {\r\n        let arr = this.pageData.children.filter(o => ((o.status || maishu_jueying_core_1.ComponentStatus.default) & maishu_jueying_core_1.ComponentStatus.selected) == maishu_jueying_core_1.ComponentStatus.selected);\r\n        return arr;\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    updateComponentProp(componentId, propName, value) {\r\n        return this.updateComponentProps([{ componentId, propName, value }]);\r\n    }\r\n    updateComponentProps(componentProps) {\r\n        let componentDatas = [];\r\n        for (let i = 0; i < componentProps.length; i++) {\r\n            let { componentId, propName, value } = componentProps[i];\r\n            let componentData = this.findComponentData(componentId);\r\n            if (componentData == null)\r\n                continue;\r\n            let navPropsNames = propName.split(\".\");\r\n            console.assert(componentData != null);\r\n            console.assert(navPropsNames != null, 'props is null');\r\n            componentData.props = componentData.props || {};\r\n            let obj = componentData.props;\r\n            for (let i = 0; i < navPropsNames.length - 1; i++) {\r\n                obj = obj[navPropsNames[i]] = obj[navPropsNames[i]] || {};\r\n            }\r\n            obj[navPropsNames[navPropsNames.length - 1]] = value;\r\n            componentDatas.push(componentData);\r\n        }\r\n        this.setState({ pageData: this.pageData });\r\n    }\r\n    /**\r\n     * 添加控件\r\n     * @param componentData 控件数据\r\n     * @param componentIndex 新添加组件在子组件中的次序\r\n     */\r\n    appendComponent(componentData, componentIndex) {\r\n        let parentId = componentData.parentId;\r\n        if (!parentId)\r\n            throw new Error('ParentId field of component data is null.');\r\n        if (!componentData)\r\n            throw errors_1.errors.argumentNull('childComponent');\r\n        let pageData = this.pageData;\r\n        this.initComponent(componentData, pageData);\r\n        if (componentIndex == null) {\r\n            pageData.children.push(componentData);\r\n        }\r\n        else {\r\n            pageData.children.splice(componentIndex, 0, componentData);\r\n        }\r\n        this.selectComponents(componentData.id);\r\n    }\r\n    /**\r\n     * 选择指定的控件\r\n     * @param componentIds 指定的控件编号\r\n     */\r\n    selectComponent(componentIds) {\r\n        this.selectComponents(componentIds);\r\n        //====================================================\r\n        // 设置焦点，以便获取键盘事件\r\n        if (this._element)\r\n            this._element.focus();\r\n        //====================================================\r\n    }\r\n    /**\r\n     * 选择指定的控件，一个或多个。已经选择的控件取消选择。\r\n     * @param componentIds 指定的控件 ID\r\n     */\r\n    selectComponents(componentIds) {\r\n        if (typeof componentIds == 'string')\r\n            componentIds = [componentIds];\r\n        this.pageData.children.forEach(c => {\r\n            // c.selected = false;\r\n            c.status = c.status || maishu_jueying_core_1.ComponentStatus.default;\r\n            c.status = c.status & (~maishu_jueying_core_1.ComponentStatus.selected);\r\n        });\r\n        this.pageData.children.filter(o => componentIds.indexOf(o.id) >= 0).forEach(c => {\r\n            // c.selected = true;\r\n            c.status = c.status || maishu_jueying_core_1.ComponentStatus.default;\r\n            c.status = c.status | maishu_jueying_core_1.ComponentStatus.selected;\r\n        });\r\n        this.setState({ pageData: this.pageData });\r\n    }\r\n    /** 移除控件 */\r\n    removeComponent(...componentIds) {\r\n        this.removeComponents(componentIds);\r\n    }\r\n    removeComponents(componentIds) {\r\n        let pageData = this.pageData;\r\n        if (!pageData || !pageData.children || pageData.children.length == 0)\r\n            return;\r\n        for (let i = 0; i < componentIds.length; i++) {\r\n            this.removeComponentFrom(componentIds[i], pageData);\r\n        }\r\n        this.setState({ pageData: pageData });\r\n    }\r\n    /**\r\n     * 移动控件到另外一个控件容器\r\n     * @param componentId 要移动的组件编号\r\n     * @param parentId 目标组件编号\r\n     * @param childComponentIndex 组件位置\r\n     */\r\n    moveComponent(componentId, parentId, childComponentIndex) {\r\n        let component = this.findComponentData(componentId);\r\n        if (component == null)\r\n            throw new Error(`Cannt find component by id ${componentId}`);\r\n        console.assert(component != null, `Cannt find component by id ${componentId}`);\r\n        component.parentId = parentId;\r\n        let pageData = this.pageData;\r\n        console.assert(pageData.children != null);\r\n        this.removeComponentFrom(componentId, pageData);\r\n        this.appendComponent(component, childComponentIndex);\r\n    }\r\n    removeComponentFrom(componentId, pageData) {\r\n        let child = pageData.children.filter(o => o.id == componentId)[0];\r\n        if (child == null)\r\n            throw new Error(`Component '${componentId}' is not exists.`);\r\n        let stack = [child];\r\n        let componentsToRemove = [componentId];\r\n        while (stack.length > 0) {\r\n            let item = stack.pop();\r\n            let children = pageData.children.filter(o => o.parentId == item.id);\r\n            if (children.length > 0) {\r\n                stack.push(...children);\r\n                // status 为 ComponentStatus.asset 不要删除\r\n                componentsToRemove.push(...children.filter(o => o.status == null || (o.status & maishu_jueying_core_1.ComponentStatus.asset) != maishu_jueying_core_1.ComponentStatus.asset).map(o => o.id));\r\n            }\r\n        }\r\n        pageData.children = pageData.children.filter(o => componentsToRemove.indexOf(o.id) < 0);\r\n    }\r\n    /**\r\n     * 通过组件编号获取组件的数据\r\n     * @param componentId 组件编号\r\n     */\r\n    findComponentData(componentId) {\r\n        let pageData = this.state.pageData;\r\n        if (!pageData)\r\n            throw errors_1.errors.pageDataIsNull();\r\n        let componentData = pageData.children.filter(o => o.id == componentId)[0];\r\n        return componentData;\r\n    }\r\n    async loadEditorTypes(pageData) {\r\n        let componentsToLoad = [];\r\n        let travel = new page_data_travel_1.PageDataTravel(pageData);\r\n        travel.each((c) => {\r\n            if (typeof c == \"string\" || !(0, common_1.isCustomComponent)(c))\r\n                return;\r\n            componentsToLoad.push(c.type);\r\n        });\r\n        let componentsConfig = this.props.componentsConfig;\r\n        let promises = componentsToLoad.map(typeName => componentsConfig[typeName]).filter(o => o).map(o => o.editor);\r\n        await Promise.all(promises);\r\n        let componentDatas = pageData.children.filter(o => typeof o != \"string\").map(c => c);\r\n        let editors = this.state.componentEditors;\r\n        for (let c of componentDatas) {\r\n            editors[c.type] = editors[c.type] || {};\r\n            let propEditors = component_1.Component.getPropEditors(c);\r\n            for (let e of propEditors) {\r\n                editors[c.type][e.propName] = e.editorType;\r\n            }\r\n        }\r\n        this.setState({ componentEditors: editors });\r\n    }\r\n    loadComponentTypes(pageData) {\r\n        let componentTypes = {};\r\n        let componentsConfig = this.props.componentsConfig;\r\n        let componentsToLoad = [];\r\n        let travel = new page_data_travel_1.PageDataTravel(pageData);\r\n        travel.each((c) => {\r\n            if (typeof c == \"string\" || componentsToLoad.indexOf(c.type) >= 0 || !(0, common_1.isCustomComponent)(c))\r\n                return;\r\n            componentsToLoad.push(c.type);\r\n        });\r\n        return PageDesigner.loadComponentTypes(componentsToLoad, componentsConfig).then(loadedComponentTypes => {\r\n            Object.assign(componentTypes, loadedComponentTypes);\r\n            this.setState({ componentTypes });\r\n        });\r\n    }\r\n    static async loadComponentTypes(componentsToLoad, componentsConfig) {\r\n        let promises = [];\r\n        let componentTypes = {};\r\n        for (let i = 0; i < componentsToLoad.length; i++) {\r\n            let typeName = componentsToLoad[i];\r\n            if (!typeName) {\r\n                let errorText = `Component '${typeName}' has not a config.`;\r\n                componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                continue;\r\n            }\r\n            if (maishu_jueying_core_1.componentTypes[typeName]) {\r\n                promises.push(Promise.resolve(maishu_jueying_core_1.componentTypes[typeName]));\r\n                continue;\r\n            }\r\n            let p = new Promise(function (resolve, reject) {\r\n                if (!componentsConfig[typeName]) {\r\n                    let errorText = `Component '${typeName}' is not exists.`;\r\n                    componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                    resolve({});\r\n                    return;\r\n                }\r\n                if (!(componentsConfig[typeName].type instanceof Promise)) {\r\n                    let errorText = `Component '${typeName}' type is invalid.`;\r\n                    componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                    resolve({});\r\n                    return;\r\n                }\r\n                componentsConfig[typeName].type.then(p => {\r\n                    if (!p.default) {\r\n                        let errorText = `Component '${typeName}' module has not export default member.`;\r\n                        componentTypes[typeName] = (0, components_1.createInfoComponent)(errorText);\r\n                    }\r\n                    else {\r\n                        componentTypes[typeName] = p.default;\r\n                    }\r\n                    resolve({});\r\n                }).catch(err => {\r\n                    reject(err);\r\n                });\r\n            });\r\n            promises.push(p);\r\n        }\r\n        await Promise.all(promises);\r\n        return componentTypes;\r\n    }\r\n    onKeyDown(e) {\r\n        const DELETE_KEY_CODE = 46;\r\n        if (e.keyCode == DELETE_KEY_CODE) {\r\n            if (this.selectedComponents.length == 0)\r\n                return;\r\n            this.removeComponents(this.selectedComponentIds);\r\n        }\r\n    }\r\n    async onPageDataChanged(pageData) {\r\n        this.loadComponentTypes(pageData);\r\n        this.loadEditorTypes(pageData);\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        return { pageData: props.pageData };\r\n    }\r\n    render() {\r\n        let pageData = this.state.pageData;\r\n        let equal = (0, deep_equal_1.deepEqual)(this.prePageData, pageData);\r\n        if (!equal) {\r\n            this.prePageData = JSON.parse(JSON.stringify(pageData));\r\n            this.onPageDataChanged(pageData);\r\n        }\r\n        return React.createElement(\"div\", { tabIndex: 0, ref: e => this._element = this._element || e, onKeyDown: e => this.onKeyDown(e), className: this.props.className, style: this.props.style },\r\n            React.createElement(exports.DesignerContext.Provider, { value: { designer: this } }, this.props.children));\r\n    }\r\n}\r\nexports.PageDesigner = PageDesigner;\r\n//# sourceMappingURL=page-designer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.removeClassName = exports.appendClassName = exports.classNames = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nexports.classNames = {\r\n    componentSelected: `component-selected`,\r\n    emptyTemplates: `empty-templates`,\r\n    loadingTemplates: `loading-templates`,\r\n    templateSelected: `template-selected`,\r\n    templateDialog: `template-dialog`,\r\n    emptyDocument: `empty-document`,\r\n    empty: \"empty\",\r\n    selected: \"selected\",\r\n    component: 'component',\r\n    componentWrapper: 'component-wrapper',\r\n    componentPanel: 'component-panel',\r\n    componentIcon: 'component-icon',\r\n    placeholder: 'placeholder',\r\n    editorPanel: 'editor-panel',\r\n    designer: 'designer',\r\n    moveDown: 'move-down',\r\n};\r\nlet templateDialog = {\r\n    nameHeight: 40,\r\n    fontSize: 22\r\n};\r\nlet element = document.createElement('style');\r\nelement.type = 'text/css';\r\nelement.setAttribute(\"data-name\", \"jueying\");\r\nelement.innerHTML = `\r\n            .${exports.classNames.componentSelected} {\r\n                border: solid 1px #337ab7!important;\r\n            }\r\n            .${exports.classNames.componentSelected} > :first-child {\r\n                border-color: blue;\r\n              }\r\n              .${exports.classNames.componentSelected} .resize_handle {\r\n                position: absolute;\r\n                height: 6px;\r\n                width: 6px;\r\n                border: 1px solid #89B;\r\n                background: #9AC;\r\n              }\r\n              .${exports.classNames.componentSelected} .move_handle {\r\n                height: 12px;\r\n                width: 12px;\r\n                top: 6px;\r\n                left: 8px;\r\n                border: solid 1px black;\r\n                position: relative;\r\n                margin-top: -12px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NW,\r\n              .${exports.classNames.componentSelected} .NN,\r\n              .${exports.classNames.componentSelected} .NE {\r\n                top: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NE,\r\n              .${exports.classNames.componentSelected} .EE,\r\n              .${exports.classNames.componentSelected} .SE {\r\n                right: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .SW,\r\n              .${exports.classNames.componentSelected}.SS,\r\n              .${exports.classNames.componentSelected} .SE {\r\n                bottom: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NW,\r\n              .${exports.classNames.componentSelected} .WW,\r\n              .${exports.classNames.componentSelected} .SW {\r\n                left: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .SE,\r\n              .${exports.classNames.componentSelected} .NW {\r\n                cursor: nw-resize;\r\n              }\r\n              .${exports.classNames.componentSelected} .SW,\r\n              .${exports.classNames.componentSelected} .NE {\r\n                cursor: ne-resize;\r\n              }\r\n              .${exports.classNames.componentSelected} .NN,\r\n              .${exports.classNames.componentSelected} .SS {\r\n                cursor: n-resize;\r\n                left: 50%;\r\n                margin-left: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .EE,\r\n              .${exports.classNames.componentSelected} .WW {\r\n                cursor: e-resize;\r\n                top: 50%;\r\n                margin-top: -4px;\r\n              }\r\n            .${exports.classNames.emptyTemplates} {\r\n                padding:50px 0;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.loadingTemplates} {\r\n                padding:50px 0;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.templateSelected} .page-view {\r\n                border: solid 1px #337ab7!important;\r\n            }\r\n            .${exports.classNames.templateDialog} .name {\r\n                margin-top: -${templateDialog.nameHeight}px;\r\n                height: ${templateDialog.nameHeight}px;\r\n                font-size: ${templateDialog.fontSize}px;\r\n                text-align: center;\r\n                padding-top: 6px;\r\n                background-color: black;\r\n                opacity: 0.5;\r\n            }\r\n            .${exports.classNames.templateDialog} .name span {\r\n                color: white;\r\n            }\r\n            .${exports.classNames.emptyDocument} {\r\n                text-align: center;\r\n                padding: 100px 0;\r\n            }\r\n            .${exports.classNames.component} > .NW,\r\n            .${exports.classNames.component} > .NN,\r\n            .${exports.classNames.component} > .NE,\r\n            .${exports.classNames.component} > .EE,\r\n            .${exports.classNames.component} > .SE,\r\n            .${exports.classNames.component} > .SW,\r\n            .${exports.classNames.component} > .SS,\r\n            .${exports.classNames.component} > .WW {\r\n                display: none;\r\n            }\r\n            .${exports.classNames.componentSelected}.component > .NW,\r\n            .${exports.classNames.componentSelected}.component > .NN,\r\n            .${exports.classNames.componentSelected}.component > .NE,\r\n            .${exports.classNames.componentSelected}.component > .EE,\r\n            .${exports.classNames.componentSelected}.component > .SE,\r\n            .${exports.classNames.componentSelected}.component > .SW,\r\n            .${exports.classNames.componentSelected}.component > .SS,\r\n            .${exports.classNames.componentSelected}.component > .WW {\r\n                display: block;\r\n            }\r\n            .${exports.classNames.placeholder} {\r\n                min-height: 40px;\r\n                width: 100%;\r\n            }\r\n            .${exports.classNames.placeholder}.active,\r\n            .${exports.classNames.componentWrapper}.active,\r\n            .${exports.classNames.componentWrapper}.${exports.classNames.componentSelected}.active {\r\n                border: 1px solid green;\r\n            }\r\n            .${exports.classNames.editorPanel} {\r\n                width: 300px;\r\n                background: white;\r\n                color: black;\r\n                margin: 0;\r\n                font-size: 14px;\r\n                z-index: 100;\r\n                overflow: auto;\r\n            }\r\n            .${exports.classNames.editorPanel} label {\r\n                width: 80px;\r\n                float: left;\r\n                padding: 4px;\r\n                text-overflow: ellipsis;\r\n                overflow: hidden;\r\n            }\r\n            .${exports.classNames.editorPanel} .control {\r\n                padding-left: 90px;\r\n            }\r\n            .${exports.classNames.editorPanel} .empty {\r\n                padding-top: 200px;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.designer} .error,\r\n            .${exports.classNames.editorPanel} .error {\r\n                color: red;\r\n            }\r\n            .${exports.classNames.componentPanel} {\r\n                background: white;\r\n                color: black;\r\n                font-size: 14px;\r\n                z-index: 100;\r\n                list-style: none;\r\n                padding: 0;\r\n                text-align: center\r\n            }\r\n            .${exports.classNames.componentPanel} .panel-heading {\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.componentPanel} li {\r\n                text-align: center;\r\n                padding: 8px;\r\n            }\r\n            .${exports.classNames.componentWrapper}.${exports.classNames.moveDown} {\r\n         \r\n            }\r\n        `;\r\nif (document.head != null) {\r\n    document.head.appendChild(element);\r\n}\r\nfunction appendClassName(element, addonClassName) {\r\n    if (element == null)\r\n        throw errors_1.errors.argumentNull('element');\r\n    if (!addonClassName)\r\n        throw errors_1.errors.argumentNull('addonClassName');\r\n    let sourceClassName;\r\n    if (typeof element == 'string')\r\n        sourceClassName = element;\r\n    else\r\n        sourceClassName = element.className;\r\n    sourceClassName = sourceClassName || '';\r\n    console.assert(addonClassName != null);\r\n    if (sourceClassName.indexOf(addonClassName) >= 0)\r\n        return sourceClassName;\r\n    let className = `${sourceClassName} ${addonClassName}`;\r\n    if (typeof element != 'string')\r\n        element.className = className;\r\n    return className;\r\n}\r\nexports.appendClassName = appendClassName;\r\nfunction removeClassName(element, targetClassName) {\r\n    let sourceClassName;\r\n    if (typeof element == 'string')\r\n        sourceClassName = element;\r\n    else\r\n        sourceClassName = element.className || '';\r\n    if (sourceClassName.indexOf(targetClassName) < 0)\r\n        return sourceClassName;\r\n    sourceClassName = sourceClassName || '';\r\n    sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\r\n    sourceClassName = sourceClassName.trim();\r\n    if (typeof element != 'string')\r\n        element.className = sourceClassName;\r\n    return sourceClassName;\r\n}\r\nexports.removeClassName = removeClassName;\r\n//# sourceMappingURL=style.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parseComponentData = void 0;\r\nconst errors_1 = require(\"./errors\");\r\nconst register_1 = require(\"./register\");\r\nfunction parseComponentData(componentData, componentTypes, createElement) {\r\n    if (!componentData)\r\n        throw errors_1.errors.argumentNull(\"componentData\");\r\n    if (!componentTypes)\r\n        throw errors_1.errors.argumentNull(\"componentTypes\");\r\n    if (!componentData.type)\r\n        throw errors_1.errors.argumentFieldNull(\"type\", \"componentData\");\r\n    let isHtmlComponent = componentData.type.toLowerCase() == componentData.type;\r\n    let type = isHtmlComponent ? componentData.type : (componentTypes[componentData.type] || register_1.componentTypes[componentData.type]);\r\n    if (type == null) {\r\n        throw errors_1.errors.componentTypeNotExists(componentData.type);\r\n    }\r\n    let children = [];\r\n    let childComponentInfos = componentData.children || [];\r\n    if (childComponentInfos.length > 0) {\r\n        children = childComponentInfos.map(c => {\r\n            if (typeof c == \"string\")\r\n                return c;\r\n            return parseComponentData(c, componentTypes, createElement);\r\n        });\r\n    }\r\n    let props = Object.assign({}, componentData.props);\r\n    props.key = props.key || componentData.id;\r\n    props.id = componentData.id;\r\n    return createElement(type, props, children);\r\n}\r\nexports.parseComponentData = parseComponentData;\r\n//# sourceMappingURL=parse-component-data.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ErrorBoundary = exports.PropertyEditor = exports.defaultGroupName = void 0;\r\nconst React = require(\"react\");\r\nconst component_1 = require(\"../component/component\");\r\n// import { PropEditorProps } from \"./prop-editor\";\r\nconst errors_1 = require(\"../errors\");\r\nconst page_designer_1 = require(\"./page-designer\");\r\nconst common_1 = require(\"../common\");\r\nconst maishu_dilu_1 = require(\"maishu-dilu\");\r\nexports.defaultGroupName = \"\";\r\nclass PropertyEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    getEditors(designer) {\r\n        if (designer == null) {\r\n            return [];\r\n        }\r\n        // 各个控件相同的编辑器\r\n        let commonPropEditorInfos = [];\r\n        let selectedComponents = designer.selectedComponents;\r\n        for (let i = 0; i < selectedComponents.length; i++) {\r\n            let componentData = selectedComponents[i];\r\n            let propEditorInfos = component_1.Component.getPropEditors(componentData);\r\n            if (i == 0) {\r\n                commonPropEditorInfos = propEditorInfos || [];\r\n            }\r\n            else {\r\n                let items = [];\r\n                commonPropEditorInfos.forEach(propInfo1 => {\r\n                    propEditorInfos.forEach(propInfo2 => {\r\n                        let propName1 = propInfo1.propName;\r\n                        let propName2 = propInfo2.propName;\r\n                        if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\r\n                            items.push(propInfo1);\r\n                        }\r\n                    });\r\n                });\r\n                commonPropEditorInfos = items;\r\n            }\r\n        }\r\n        // 各个控件相同的属性值\r\n        let commonFlatProps = {};\r\n        for (let i = 0; i < selectedComponents.length; i++) {\r\n            let control = selectedComponents[i];\r\n            let controlProps = Object.assign({}, control.props);\r\n            delete controlProps.children;\r\n            if (i == 0) {\r\n                commonFlatProps = controlProps;\r\n            }\r\n            else {\r\n                let obj = {};\r\n                for (let key in commonFlatProps) {\r\n                    if (commonFlatProps[key] == controlProps[key])\r\n                        obj[key] = controlProps[key];\r\n                }\r\n                commonFlatProps = obj;\r\n            }\r\n        }\r\n        let editors = [];\r\n        for (let i = 0; i < commonPropEditorInfos.length; i++) {\r\n            let propEditorInfo = commonPropEditorInfos[i];\r\n            let propName = propEditorInfo.propName;\r\n            ;\r\n            let editorType = propEditorInfo.editorType;\r\n            let value = this.propValue(propName, commonFlatProps);\r\n            if (value == null)\r\n                value = propEditorInfo.defaultValue;\r\n            let editorProps = {\r\n                value: value,\r\n                editComponents: selectedComponents,\r\n                updateComponentProp: (value) => {\r\n                    let componentProps = selectedComponents.map(o => ({\r\n                        componentId: o.id, propName: propEditorInfo.propName, value\r\n                    }));\r\n                    if (this._validator == null) {\r\n                        this._validateFields = commonPropEditorInfos.filter(o => o.validation != null)\r\n                            .map(o => Object.assign(o.validation, { name: o.propName, rules: [] }));\r\n                        this._validator = new maishu_dilu_1.FormValidator(this.element, ...this._validateFields);\r\n                    }\r\n                    if (this._validateFields.filter(o => o.name == propEditorInfo.propName).length > 0)\r\n                        this._validator.checkElement(propEditorInfo.propName);\r\n                    designer.updateComponentProps(componentProps);\r\n                }\r\n            };\r\n            let editor = React.createElement(editorType, editorProps);\r\n            editors.push({ prop: propEditorInfo.propName, displayName: propEditorInfo.displayName, editor, group: propEditorInfo.group });\r\n        }\r\n        return editors;\r\n    }\r\n    propValue(propName, props) {\r\n        if (!propName)\r\n            throw errors_1.errors.argumentNull(\"propName\");\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        let navPropsNames = propName.split(\".\");\r\n        let obj = props;\r\n        for (let i = 0; i < navPropsNames.length; i++) {\r\n            obj = obj[navPropsNames[i]];\r\n            if (obj == null)\r\n                return null;\r\n        }\r\n        return obj;\r\n    }\r\n    render() {\r\n        return React.createElement(page_designer_1.DesignerContext.Consumer, null, args => {\r\n            if (!args)\r\n                throw errors_1.errors.designerContextArgumentNull();\r\n            let designer = args.designer;\r\n            let editors = this.getEditors(designer);\r\n            if (editors.length == 0) {\r\n                let empty = this.props.empty;\r\n                return React.createElement(\"div\", { className: \"text-center\" }, empty);\r\n            }\r\n            if (this.props.customRender) {\r\n                let items = editors.map(o => Object.assign({ displayName: o.displayName }, o));\r\n                let r = this.props.customRender(designer.selectedComponents, items);\r\n                if (r != null) {\r\n                    return React.createElement(\"div\", { ref: e => this._element = e || this._element }, r);\r\n                }\r\n            }\r\n            let groupEditorsArray = [];\r\n            for (let i = 0; i < editors.length; i++) {\r\n                let group = editors[i].group || exports.defaultGroupName;\r\n                let groupEditors = groupEditorsArray.filter(o => o.group == group)[0];\r\n                if (groupEditors == null) {\r\n                    groupEditors = { group: editors[i].group, editors: [] };\r\n                    groupEditorsArray.push(groupEditors);\r\n                }\r\n                groupEditors.editors.push({ prop: editors[i].prop, displayName: editors[i].displayName, editor: editors[i].editor });\r\n            }\r\n            return groupEditorsArray.map((g) => React.createElement(\"div\", { key: g.group, className: \"panel panel-default\", ref: e => this._element = e || this._element },\r\n                g.group ? React.createElement(\"div\", { className: \"panel-heading\" }, common_1.groupDisplayNames[g.group] || g.group) : null,\r\n                React.createElement(\"div\", { className: \"panel-body\" }, g.editors.map((o, i) => React.createElement(\"div\", { key: o.prop, className: \"form-group clearfix\" },\r\n                    React.createElement(\"label\", null, o.displayName),\r\n                    React.createElement(\"div\", { className: \"control\" },\r\n                        React.createElement(ErrorBoundary, null, o.editor)))))));\r\n        });\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    get validator() {\r\n        return this._validator;\r\n    }\r\n}\r\nexports.PropertyEditor = PropertyEditor;\r\nPropertyEditor.contextType = page_designer_1.DesignerContext;\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    componentDidCatch(error, info) {\r\n        // Display fallback UI\r\n        this.setState({ error });\r\n        // You can also log the error to an error reporting service\r\n        //   logErrorToMyService(error, info);\r\n    }\r\n    render() {\r\n        let { error } = this.state || {};\r\n        if (error) {\r\n            return React.createElement(\"div\", { className: \"error\" },\r\n                React.createElement(\"div\", null, error.message),\r\n                React.createElement(\"div\", null, error.stack));\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\nexports.ErrorBoundary = ErrorBoundary;\r\n//# sourceMappingURL=property-editor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.errors = exports.Errors = void 0;\r\nclass Errors {\r\n    argumentNull(argumentName) {\r\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\r\n        let name = \"argumentNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    routeDataFieldNull(fieldName) {\r\n        let msg = `The ${fieldName} field of route data cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"routeDataFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentFieldNull(fieldName, argumentName) {\r\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentFieldNull\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    argumentTypeIncorrect(argumentName, expectedType) {\r\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\r\n        let error = new Error(msg);\r\n        let name = \"argumentTypeIncorrect\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n    pathStartsHttp(path) {\r\n        let msg = `Path ${path} start with http or https.`;\r\n        let error = new Error(msg);\r\n        let name = \"pathStartsHttp\";\r\n        error.name = name;\r\n        return error;\r\n    }\r\n}\r\nexports.Errors = Errors;\r\nexports.errors = new Errors();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.strings = void 0;\r\nexports.strings = {\r\n    emptyCompoenntPanel: \"暂无可用组件\",\r\n    emptyDiagram: \"请拖放组件到此处\",\r\n    componentLoading: \"组件正在加载中...\",\r\n};\r\n//# sourceMappingURL=strings.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageDataTravel = void 0;\r\nconst errors_1 = require(\"./errors\");\r\n/** 页面数据（PageData）遍历器，遍历 PageData 里的组件 */\r\nclass PageDataTravel {\r\n    constructor(pageData) {\r\n        this.pageData = pageData;\r\n    }\r\n    each(callback) {\r\n        let stack = [...(this.pageData.children || [])];\r\n        let componentData = stack.pop();\r\n        while (componentData != null) {\r\n            callback(componentData);\r\n            if (typeof componentData != \"string\") {\r\n                let children = componentData.children || [];\r\n                stack.push(...children);\r\n            }\r\n            componentData = stack.pop();\r\n        }\r\n    }\r\n    static findComponent(pageData, componentId) {\r\n        if (!pageData)\r\n            throw errors_1.errors.argumentNull(\"pageData\");\r\n        if (!componentId)\r\n            throw errors_1.errors.argumentNull(\"componentId\");\r\n        let travel = new PageDataTravel(pageData);\r\n        let r;\r\n        travel.each(function (c) {\r\n            if (typeof c == \"string\" || r)\r\n                return;\r\n            if (componentId == c.id)\r\n                r = c;\r\n        });\r\n        return r;\r\n    }\r\n}\r\nexports.PageDataTravel = PageDataTravel;\r\n//# sourceMappingURL=page-data-travel.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageDataParser = exports.PageDataParserContext = void 0;\r\nconst errors_1 = require(\"../errors\");\r\nconst React = require(\"react\");\r\nconst parse_component_data_1 = require(\"../parse-component-data\");\r\nexports.PageDataParserContext = React.createContext(null);\r\nclass PageDataParser extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        if (!props.pageData)\r\n            throw errors_1.errors.argumentFieldNull(\"pageData\", \"props\");\r\n        if (!props.elementFactory)\r\n            throw errors_1.errors.argumentFieldNull(\"elementFactory\", \"props\");\r\n        this.state = { pageData: props.pageData, componentTypes: props.componentTypes };\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        return { pageData: props.pageData, componentTypes: props.componentTypes };\r\n    }\r\n    render() {\r\n        let { pageData } = this.state;\r\n        let { elementFactory, componentTypes } = this.props;\r\n        let children = pageData.children.filter(o => !o.parentId);\r\n        let childComponents = children.map(o => {\r\n            return (0, parse_component_data_1.parseComponentData)(o, componentTypes, elementFactory);\r\n        });\r\n        return React.createElement(exports.PageDataParserContext.Provider, { value: { pageData, elementFactory, componentTypes } }, childComponents);\r\n    }\r\n}\r\nexports.PageDataParser = PageDataParser;\r\n//# sourceMappingURL=page-data-parser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DesignComponentContext = void 0;\r\nconst React = require(\"react\");\r\nexports.DesignComponentContext = React.createContext(null);\r\n//# sourceMappingURL=design-component-context.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentDiagram = exports.classNames = exports.DesignerContext = exports.PageDesigner = exports.EditorPanel = exports.Component = exports.groupDisplayNames = void 0;\r\nvar common_1 = require(\"./common\");\r\nObject.defineProperty(exports, \"groupDisplayNames\", { enumerable: true, get: function () { return common_1.groupDisplayNames; } });\r\nvar component_1 = require(\"./component/component\");\r\nObject.defineProperty(exports, \"Component\", { enumerable: true, get: function () { return component_1.Component; } });\r\nvar editor_panel_1 = require(\"./design/editor-panel\");\r\nObject.defineProperty(exports, \"EditorPanel\", { enumerable: true, get: function () { return editor_panel_1.EditorPanel; } });\r\nvar page_designer_1 = require(\"./design/page-designer\");\r\nObject.defineProperty(exports, \"PageDesigner\", { enumerable: true, get: function () { return page_designer_1.PageDesigner; } });\r\nObject.defineProperty(exports, \"DesignerContext\", { enumerable: true, get: function () { return page_designer_1.DesignerContext; } });\r\nvar style_1 = require(\"./style\");\r\nObject.defineProperty(exports, \"classNames\", { enumerable: true, get: function () { return style_1.classNames; } });\r\nvar component_diagram_1 = require(\"./design/component-diagram\");\r\nObject.defineProperty(exports, \"ComponentDiagram\", { enumerable: true, get: function () { return component_diagram_1.ComponentDiagram; } });\r\nrequire(\"./component/create-element\");\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.guid = void 0;\r\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n        s4() + '-' + s4() + s4() + s4();\r\n}\r\nexports.guid = guid;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createLoadingComponent = exports.createInfoComponent = void 0;\r\nconst React = require(\"react\");\r\nconst strings_1 = require(\"../strings\");\r\nfunction createInfoComponent(text) {\r\n    return class InfoComponent extends React.Component {\r\n        render() {\r\n            return React.createElement(\"div\", { className: \"text-center\", style: { paddingTop: 20, paddingBottom: 20 } }, text);\r\n        }\r\n    };\r\n}\r\nexports.createInfoComponent = createInfoComponent;\r\nfunction createLoadingComponent() {\r\n    return class FakeComponent extends React.Component {\r\n        render() {\r\n            return React.createElement(\"div\", { key: this.props.id, style: { padding: \"50px 0 50px 0\", textAlign: \"center\" } }, strings_1.strings.componentLoading);\r\n        }\r\n    };\r\n}\r\nexports.createLoadingComponent = createLoadingComponent;\r\n//# sourceMappingURL=components.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deepEqual = void 0;\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if ((typeof x == \"object\" && x != null) && (typeof y == \"object\" && y != null)) {\r\n        if (Object.keys(x).length != Object.keys(y).length) {\r\n            return false;\r\n        }\r\n        for (var prop in x) {\r\n            if (y.hasOwnProperty(prop)) {\r\n                if (!deepEqual(x[prop], y[prop])) {\r\n                    return false;\r\n                }\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.deepEqual = deepEqual;\r\n//# sourceMappingURL=deep-equal.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EditorPanel = void 0;\r\nconst React = require(\"react\");\r\nconst property_editor_1 = require(\"./property-editor\");\r\nconst style_1 = require(\"../style\");\r\nclass EditorPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { componentDatas: [] };\r\n    }\r\n    /** 对输入进行验证 */\r\n    validateInputs() {\r\n        return this.editor.validator.checkAsync();\r\n    }\r\n    render() {\r\n        let { empty } = this.props;\r\n        empty = empty || React.createElement(\"div\", { className: \"empty\" }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\r\n        return React.createElement(\"div\", { className: `${style_1.classNames.editorPanel} ${this.props.className || \"\"}`, ref: (e) => this.element = e || this.element },\r\n            React.createElement(property_editor_1.PropertyEditor, { ref: e => this.editor = e || this.editor, empty: empty, customRender: this.props.customRender }));\r\n    }\r\n}\r\nexports.EditorPanel = EditorPanel;\r\n//# sourceMappingURL=editor-panel.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentDiagram = void 0;\r\nconst errors_1 = require(\"../errors\");\r\nconst types_1 = require(\"maishu-jueying-core/out/types\");\r\nconst parse_component_data_1 = require(\"maishu-jueying-core/out/parse-component-data\");\r\nconst React = require(\"react\");\r\nconst page_designer_1 = require(\"./page-designer\");\r\nconst strings_1 = require(\"../strings\");\r\nconst style_1 = require(\"../style\");\r\nconst page_data_travel_1 = require(\"../page-data-travel\");\r\nconst design_component_context_1 = require(\"../component/design-component-context\");\r\nclass ComponentDiagram extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!props)\r\n            throw errors_1.errors.argumentNull(\"props\");\r\n        this.state = {};\r\n    }\r\n    selectComponent(designer, componentId) {\r\n        if (!componentId) {\r\n            designer.selectComponent([]);\r\n            return;\r\n        }\r\n        designer.selectComponent(componentId);\r\n    }\r\n    static createComponent(type, props, children) {\r\n        let p = props;\r\n        if (!p.id)\r\n            throw errors_1.errors.argumentFieldNull(\"id\", \"props\");\r\n        return React.createElement(page_designer_1.DesignerContext.Consumer, null, ((args) => {\r\n            if (!args)\r\n                throw errors_1.errors.designerContextArgumentNull();\r\n            let componentData = page_data_travel_1.PageDataTravel.findComponent(args.designer.pageData, p.id); //args.designer.pageData.children.filter(o => o.id == p.id)[0]\r\n            if (!componentData)\r\n                throw new Error(`Can not find component data by '${p.id}' in the page data.`);\r\n            let componentConfig = args.designer.props.componentsConfig[componentData.type];\r\n            if (!componentConfig)\r\n                return React.createElement(type, props, children);\r\n            let value = {\r\n                componentData, componentConfig\r\n            };\r\n            return React.createElement(design_component_context_1.DesignComponentContext.Provider, { value }, React.createElement(type, props, children));\r\n        }));\r\n    }\r\n    render() {\r\n        return React.createElement(\"ul\", null,\r\n            React.createElement(page_designer_1.DesignerContext.Consumer, null, args => {\r\n                if (!args)\r\n                    throw errors_1.errors.designerContextArgumentNull();\r\n                let designer = args.designer;\r\n                let componentDatas = designer.pageData.children || [];\r\n                if (componentDatas.length == 0)\r\n                    return React.createElement(\"li\", null, strings_1.strings.emptyCompoenntPanel);\r\n                let componentTypes = args.designer.componentTypes;\r\n                return React.createElement(React.Fragment, null, componentDatas.map(c => {\r\n                    let status = c.status || types_1.ComponentStatus.default;\r\n                    let selected = (status & types_1.ComponentStatus.selected) == types_1.ComponentStatus.selected;\r\n                    return React.createElement(\"li\", { key: c.id, className: selected ? style_1.classNames.selected : \"\", onClick: e => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            this.selectComponent(args.designer, c.id);\r\n                        } }, (0, parse_component_data_1.parseComponentData)(c, componentTypes, ComponentDiagram.createComponent));\r\n                }));\r\n            }));\r\n    }\r\n}\r\nexports.ComponentDiagram = ComponentDiagram;\r\n//# sourceMappingURL=component-diagram.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentStatus = void 0;\r\nvar ComponentStatus;\r\n(function (ComponentStatus) {\r\n    ComponentStatus[ComponentStatus[\"default\"] = 0] = \"default\";\r\n    /** 已选中 */\r\n    ComponentStatus[ComponentStatus[\"selected\"] = 1] = \"selected\";\r\n    /** 禁用 */\r\n    ComponentStatus[ComponentStatus[\"disabled\"] = 2] = \"disabled\";\r\n    /** 不允许删除 */\r\n    ComponentStatus[ComponentStatus[\"asset\"] = 4] = \"asset\";\r\n})(ComponentStatus = exports.ComponentStatus || (exports.ComponentStatus = {}));\r\n// export type ChildComponentProps = { parentId: string };\r\n//# sourceMappingURL=types.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.registerComponent = exports.componentTypes = void 0;\r\nconst component_placeholder_1 = require(\"./components/component-placeholder\");\r\nconst errors_1 = require(\"./errors\");\r\nexports.componentTypes = {};\r\nfunction registerComponent(componentName, componentType) {\r\n    if (componentType == null && typeof componentName == 'function') {\r\n        componentType = componentName;\r\n        componentName = componentType.name;\r\n        componentType['componentName'] = componentName;\r\n    }\r\n    if (!componentName)\r\n        throw errors_1.errors.argumentNull('componentName');\r\n    if (!componentType)\r\n        throw errors_1.errors.argumentNull('componentType');\r\n    exports.componentTypes[componentName] = componentType;\r\n}\r\nexports.registerComponent = registerComponent;\r\nexports.componentTypes[component_placeholder_1.ComponentPlaceHolder.typeName] = component_placeholder_1.ComponentPlaceHolder;\r\n//# sourceMappingURL=register.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ComponentPlaceHolder = void 0;\r\nconst React = require(\"react\");\r\nconst page_data_parser_1 = require(\"./page-data-parser\");\r\nconst errors_1 = require(\"../errors\");\r\nconst parse_component_data_1 = require(\"../parse-component-data\");\r\nclass ComponentPlaceHolder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return React.createElement(page_data_parser_1.PageDataParserContext.Consumer, null, args => {\r\n            if (!args)\r\n                throw errors_1.errors.nullPageDataParserArguments();\r\n            let children = args.pageData.children.filter(o => o.parentId && o.parentId == this.props.id);\r\n            let childComponents = children.map(c => (0, parse_component_data_1.parseComponentData)(c, args.componentTypes, args.elementFactory));\r\n            return childComponents;\r\n        });\r\n    }\r\n}\r\nexports.ComponentPlaceHolder = ComponentPlaceHolder;\r\nComponentPlaceHolder.typeName = \"PlaceHolder\";\r\n//# sourceMappingURL=component-placeholder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst React = require(\"react\");\r\nconst design_component_context_1 = require(\"./design-component-context\");\r\nconst design_behavior_1 = require(\"../design/design-behavior\");\r\nconst common_1 = require(\"../common\");\r\nconst createElement = (type, props, ...children) => {\r\n    let props1 = {};\r\n    if (props)\r\n        props1 = { key: props.id || props.key };\r\n    return React.createElement(design_component_context_1.DesignComponentContext.Consumer, props1, ((args) => {\r\n        let isDesigntime = args != null;\r\n        if (!isDesigntime) {\r\n            return React.createElement(type, props, ...children);\r\n        }\r\n        let designBehavior = typeof args.componentConfig.design == \"number\" ? args.componentConfig.design : design_behavior_1.DesignBehavior.default;\r\n        let disableClick = (designBehavior & design_behavior_1.DesignBehavior.disableClick) == design_behavior_1.DesignBehavior.disableClick;\r\n        if (disableClick) {\r\n            delete props.onClick;\r\n        }\r\n        return React.createElement(type, props, ...children);\r\n    }));\r\n};\r\nif (typeof window === \"undefined\") {\r\n    global[common_1.elementFactoryName] = createElement;\r\n}\r\nelse {\r\n    window[common_1.elementFactoryName] = createElement;\r\n}\r\n//# sourceMappingURL=create-element.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DesignBehavior = void 0;\r\nvar DesignBehavior;\r\n(function (DesignBehavior) {\r\n    DesignBehavior[DesignBehavior[\"default\"] = 1] = \"default\";\r\n    DesignBehavior[DesignBehavior[\"disableClick\"] = 1] = \"disableClick\";\r\n})(DesignBehavior = exports.DesignBehavior || (exports.DesignBehavior = {}));\r\n//# sourceMappingURL=design-behavior.js.map"],"sourceRoot":""}