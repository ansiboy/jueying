{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"react\"","webpack://jueying/./out/component.js","webpack://jueying/./out/errors.js","webpack://jueying/./out/style.js","webpack://jueying/./out/common.js","webpack://jueying/./out/components/index.js","webpack://jueying/./out/component-panel.js","webpack://jueying/./out/components/common.js","webpack://jueying/./node_modules/maishu-toolkit/dist/index.js","webpack://jueying/./out/components/master-page.js","webpack://jueying/./out/page-designer.js","webpack://jueying/(webpack)/buildin/global.js","webpack://jueying/./out/index.js","webpack://jueying/./out/jquery.js","webpack://jueying/external \"jquery\"","webpack://jueying/./lib/jquery.event.drag-2.2.js","webpack://jueying/./lib/jquery.event.drag.live-2.2.js","webpack://jueying/./lib/jquery.event.drop-2.2.js","webpack://jueying/./lib/jquery.event.drop.live-2.2.js","webpack://jueying/./out/component-wrapper.js","webpack://jueying/./out/components/place-holder.js","webpack://jueying/./out/components/errors.js","webpack://jueying/./out/components/text.js","webpack://jueying/./out/editor-panel.js","webpack://jueying/./out/property-editor.js","webpack://jueying/./out/prop-editor.js","webpack://jueying/./out/component-factory.js","webpack://jueying/./out/component-data-handler.js","webpack://jueying/./node_modules/maishu-jueying-core/dist/index.js","webpack://jueying/./node_modules/maishu-jueying-core/decorators.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__14__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","defineProperty","React","page_designer_1","errors_1","common_1","components_1","DesignerContext","createContext","designer","ComponentWrapperContext","component","args","constructor","PageDesigner","Component","setAttribute","name","register","typename","attr","componentAttributes","type","assign","defaultComponentAttribute","componentData","componentType","result","propEditorInfo","this","componentPropEditors","i","length","propName","display","componentPropEditorDisplay","push","controlClassName","getPropEditorByArray","propNames","filter","o","componentTypeOrOptions","editorType","group","editorDisplay","options","displayName","proptDisplayNames","split","className","classProps","join","h","_createElement","components","componentTypes","context","Errors","argumentNull","createElement","componentName","controlType","children","child","masterPage","props","text","Fragment","ref","e","MasterPage","typeName","childComponents","console","error","container","movable","showHandler","resize","Error","fileName","argumentName","pluginId","componentId","fieldName","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","moveDown","element","document","innerHTML","head","appendChild","appendClassName","addonClassName","sourceClassName","assert","indexOf","removeClassName","targetClassName","replace","RegExp","trim","maishu_toolkit_1","guid","Callback","translateComponentDataChildren","r","ComponentTypes","Text","__export","m","p","constants","style_1","ComponentPanel","super","state","componets","toolbarElement","toolItemElement","draggable","addEventListener","ev","dataTransfer","setData","JSON","stringify","x","offsetX","y","offsetY","setState","str","getData","parse","empty","map","c","componentIndexName","icon","style","fontSize","color","ctrl","componentDraggable","PageView","PlaceHolder","componentsDir","connectorElementClassName","componentTypeName","componentPosition","modules","installedModules","__webpack_require__","moduleId","l","d","Symbol","toStringTag","t","mode","__esModule","ns","create","n","s","funcs","Array","func","forEach","expectedType","errors","s4","Math","floor","random","toString","substring","guid_1","path_1","pathContact","callback_1","paths","component_1","MasterPageName","MasterPageContext","master","arr","isArray","isValidElement","minHeight","parentId","Provider","component_wrapper_1","componentRemoved","componentAppend","componentUpdated","designtimeComponentDidMount","initPageData","pageData","add","log","componentDataHandler","fire","componentIds","travelComponentData","item","id","itemRef","names","getOwnPropertyNames","ids","setComponetRefProp","selectedComponents","_element","updateComponentProps","componentProps","namedComponents","num","nameComponent","componentIndex","appendComponent","position","setComponentsPosition","size","findComponentData","height","width","positions","toUpdateProps","left","top","selectComponents","focus","removeComponents","targetComponentIndex","moveComponent","controlId","collection","controlIndex","removeComponentFrom","shift","pop","splice","stack","keyCode","selectedComponentIds","argumentFieldCanntNull","attr1","getAttribute","attr2","selected","wrapperProps","ComponentWrapper","source","elementTag","tabIndex","componentFactory","renderDesignTimeComponent","onKeyDown","defaultProps","g","Function","strings","component_panel_1","editor_panel_1","EditorPanel","prop_editor_1","PropEditor","TextInput","component_factory_1","ComponentFactory","component_data_handler_1","ComponentDataHandler","decorators_1","j","$","fn","drag","arg","opts","isFunction","trigger","$event","event","$special","special","defaults","which","distance","not","handle","relative","drop","click","datakey","noBubble","obj","data","related","each","def","undefined","remove","setup","extend","init","attachEvent","dontstart","teardown","removeData","textselect","detachEvent","touched","results","dd","target","is","closest","currentTarget","propagates","mousedown","interactions","interaction","pageX","pageY","dragging","hijack","flatten","handler","live","elem","offset","callback","droppable","preventDefault","pow","Date","getTime","ia","orig","originalEvent","len","isNaN","cancelled","properties","subject","isPropagationStopped","dispatch","proxy","update","startX","startY","deltaX","deltaY","originalX","originalY","slice","available","jquery","nodeType","member","makeArray","bool","css","unselectable","locate","$dispatch","apply","arguments","touchHooks","fixHooks","touchstart","touchmove","touchend","touchcancel","touches","changedTouches","prop","draginit","dragstart","dragend","jQuery","origadd","origteardown","livekey","selector","delegate","elems","events","origType","origHandler","inArray","multi","Infinity","delay","tolerance","targets","active","anyactive","winner","location","grep","$targets","timer","tolerate","clearTimeout","index","$elem","posi","outerHeight","outerWidth","right","bottom","contains","test","modes","overlap","max","min","sort","a","b","drp","drg","end","xy","last","setTimeout","dropinit","dropstart","dropend","find","concat","info","enableAppendDroppable","onclick","invokeOnClick","stopPropagation","dropEffect","getComponentData","pos","mouseInnerPosition","startPos","rect","dragStart","sourceElement","now","setLeft","setTop","setPosition","isResizeHandleClassName","interval","isDrag","transform","setComponentPosition","setComponentSize","elementID","ctrlKey","selectComponent","selectedControlIds","designtimeBehavior","message","renderWidthoutWrapper","visibility","move_handle","showResizeHandle","createRawElement","tagName","emtpy","designTimeEmptyElement","designTimeText","master_page_1","placeHolderIdNull","layerX","ondrop","host","wraper","Consumer","canntFindMasterPage","enableMoveDroppable","property_editor_1","componentDatas","_designer","PropertyEditor","editor","customRender","groupedEditors","editors","getEditors","commonFlatProps","commonPropEditorInfos","propEditorInfos","getPropEditors","items","propInfo1","propInfo2","propName1","propName2","control","controlProps","editorProps","propValue","editComponents","updateComponentProp","navPropsNames","groupEditorsArray","groupEditors","ErrorBoundary","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","valueType","itemsPromise","textValues","onChange","textValue","floatRegex","parseInt","parseFloat","dropdown","_components","_pageData","childComponentIndex","pageDataIsNull","parentControl","isSelectedControl","__WEBPACK_EXTERNAL_MODULE_react__","CompoenntFactory","compoenntTypes","_createComponent","createErrorElement","err","createViewComponent","compoenntType","componentNotExists","pathFieldRequired","canntFindModule","path"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"react\"), require(\"jquery\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"react\"], root[\"jquery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__14__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst page_designer_1 = require(\"./page-designer\");\nconst errors_1 = require(\"./errors\");\nconst common_1 = require(\"./common\");\nconst components_1 = require(\"./components\");\nexports.DesignerContext = React.createContext({ designer: null });\nexports.ComponentWrapperContext = React.createContext(null);\nfunction component(args) {\n    return function (constructor) {\n        if (page_designer_1.PageDesigner) {\n            Component.setAttribute(constructor.name, args);\n        }\n        Component.register(constructor.name, constructor);\n        return constructor;\n    };\n}\nexports.component = component;\nclass Component {\n    /**\n     * \n     * @param typename \n     * @param attr \n     */\n    static setAttribute(typename, attr) {\n        Component.componentAttributes[typename] = attr;\n    }\n    /**\n     * \n     * @param typename \n     */\n    static getAttribute(type) {\n        let typename = typeof type == 'string' ? type : type.name;\n        let attr = Component.componentAttributes[typename];\n        return Object.assign({ type }, Component.defaultComponentAttribute, attr || {});\n    }\n    static getPropEditors(componentData) {\n        let componentType = componentData.type;\n        let result = [];\n        let propEditorInfo = this.componentPropEditors[componentType] || [];\n        for (let i = 0; i < propEditorInfo.length; i++) {\n            let propName = propEditorInfo[i].propName;\n            let display = Component.componentPropEditorDisplay[`${componentType}.${propName}`];\n            if (display != null && display(componentData) == false)\n                continue;\n            result.push(propEditorInfo[i]);\n        }\n        return result;\n        // let classEditors = this.componentPropEditors[componentType] || []\n        // Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\n        // return classEditors\n    }\n    static getPropEditor(controlClassName, propName) {\n        return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /**  */\n    static getPropEditorByArray(controlClassName, propNames) {\n        let classEditors = this.componentPropEditors[controlClassName] || [];\n        let editor = classEditors.filter(o => o.propName == propNames)[0];\n        return editor;\n    }\n    static setPropEditor(componentTypeOrOptions, propName, editorType, group) {\n        let componentType;\n        let editorDisplay;\n        if (typeof componentTypeOrOptions == \"object\") {\n            let options = componentTypeOrOptions;\n            componentType = options.componentType;\n            propName = options.propName;\n            editorType = options.editorType;\n            group = options.group;\n            editorDisplay = options.display;\n            if (options.displayName != null) {\n                common_1.proptDisplayNames[propName] = options.displayName;\n            }\n        }\n        else {\n            componentType = componentTypeOrOptions;\n        }\n        group = group || '';\n        // , style.width\n        let propNames = propName.split('.');\n        let className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n        Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\n        let classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n        for (let i = 0; i < classProps.length; i++) {\n            let propName1 = classProps[i].propName; //classProps[i].propNames.join('.')\n            let propName2 = propNames.join('.');\n            if (propName1 == propName2) {\n                classProps[i].editorType = editorType;\n                return;\n            }\n        }\n        classProps.push({ propName, editorType, group });\n    }\n    static createElement(componentData, h) {\n        return Component._createElement(componentData, { components: [], componentTypes: [] }, h);\n    }\n    /**\n     *  ReactElement\n     * @param componentData \n     */\n    static _createElement(componentData, context, h) {\n        if (!componentData)\n            throw errors_1.Errors.argumentNull('componentData');\n        h = h || React.createElement;\n        try {\n            let type = componentData.type;\n            let componentName = componentData.type;\n            let controlType = Component.componentTypes[componentName];\n            if (controlType) {\n                type = controlType;\n            }\n            let children = [];\n            for (let i = 0; i < componentData.children.length; i++) {\n                let child = componentData.children[i];\n                if (typeof child == \"string\")\n                    children.push(child);\n                else\n                    children.push(Component._createElement(child, context, h));\n            }\n            //componentData.children ? componentData.children.map(o => Component._createElement(o, context, h)) : [];\n            let props = componentData.props == null ? {} : Object.assign({}, componentData.props); //JSON.parse(JSON.stringify(componentData.props));\n            if (controlType != null && controlType[\"defaultProps\"]) {\n                props = Object.assign({}, controlType[\"defaultProps\"], props);\n            }\n            let result;\n            if (typeof type == 'string') {\n                if (props.text) {\n                    children.push(props.text);\n                }\n                //=========================================\n                // props.text  DOM  prop\n                delete props.text;\n                if (h == React.createElement) {\n                    delete props.attr;\n                }\n                //=========================================\n            }\n            let masterPage;\n            type = type == Component.Fragment ? React.Fragment : type;\n            let ref = props.ref;\n            props.ref = function (e) {\n                if (typeof ref == \"function\")\n                    ref(e);\n                if (e instanceof components_1.MasterPage) {\n                    masterPage = e;\n                    for (let i = 0; i < context.componentTypes.length; i++) {\n                        let typeName = context.componentTypes[i];\n                        let childComponents = masterPage.childComponents[typeName] = masterPage.childComponents[typeName] || [];\n                        childComponents.push(context.components[i]);\n                    }\n                }\n                else if (e != null) {\n                    context.components.push(e);\n                    context.componentTypes.push(typeof type == \"string\" ? type : type.name);\n                    // masterPage.componentCreated.fire({ component: e, type: typeof type == \"string\" ? type : type.name });\n                }\n            };\n            result = h(type, props, ...children);\n            return result;\n        }\n        catch (e) {\n            console.error(e);\n            return null;\n        }\n    }\n    static register(componentName, componentType, attr) {\n        if (componentType == null && typeof componentName == 'function') {\n            componentType = componentName;\n            componentName = componentType.name;\n            componentType['componentName'] = componentName;\n        }\n        if (!componentName)\n            throw errors_1.Errors.argumentNull('componentName');\n        if (!componentType)\n            throw errors_1.Errors.argumentNull('componentType');\n        Component.componentTypes[componentName] = componentType;\n        if (attr)\n            Component.setAttribute(componentName, attr);\n    }\n}\n//==========================================\n//  React  React.Fragment \nComponent.Fragment = \"\";\n//==========================================\nComponent.defaultComponentAttribute = {\n    container: false, movable: false, showHandler: false, resize: false\n};\nComponent.componentAttributes = {\n    'div': { container: true, movable: true, showHandler: true, resize: true },\n    'img': { container: false, movable: true, resize: true },\n    'label': { movable: true },\n    'ul': { container: false, movable: true, showHandler: true, resize: false },\n    'li': { container: true, movable: false, },\n    'table': { container: false, movable: true, showHandler: true, resize: true },\n    'thead': { container: false, movable: false },\n    'tbody': { container: false, movable: false },\n    'tfoot': { container: false, movable: false },\n    'tr': { container: false, movable: false },\n    'td': { container: true, movable: false },\n};\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {};\nComponent.componentTypes = {};\nexports.Component = Component;\n//# sourceMappingURL=component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Errors {\n    static placeHolderIdNull() {\n        let msg = `Place holder property id cannt be null or empty.`;\n        return new Error(msg);\n    }\n    static fileNotExists(fileName) {\n        return new Error(`File '${fileName}' is not exists.`);\n    }\n    static argumentNull(argumentName) {\n        return new Error(`Argument ${argumentName} is null or empty.`);\n    }\n    static argumentRangeError(argumentName) {\n        return new Error(`Argument ${argumentName} range error.`);\n    }\n    static pageDataIsNull() {\n        return new Error(`Page data is null.`);\n    }\n    static toolbarRequiredKey() {\n        return new Error(`Toolbar has not a key prop.`);\n    }\n    static loadPluginFail(pluginId) {\n        return new Error(`Load plugin '${pluginId}' fail.`);\n    }\n    static idRequired() {\n        return new Error(`Property id is required.`);\n    }\n    static canntFindMasterPage(componentId) {\n        return new Error(`Can not find master page for component container ${componentId}.`);\n    }\n    static propCanntNull(componentName, property) {\n        let msg = `${componentName} property ${property} cannt be null or empty.`;\n        return new Error(msg);\n    }\n    static argumentFieldCanntNull(fieldName, argumentName) {\n        let msg = `${fieldName} of argument ${argumentName} cannt be null or empty.`;\n        return new Error(msg);\n    }\n}\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_1 = require(\"./errors\");\nexports.classNames = {\n    componentSelected: `component-selected`,\n    emptyTemplates: `empty-templates`,\n    loadingTemplates: `loading-templates`,\n    templateSelected: `template-selected`,\n    templateDialog: `template-dialog`,\n    emptyDocument: `empty-document`,\n    component: 'component',\n    componentWrapper: 'component-wrapper',\n    componentPanel: 'component-panel',\n    componentIcon: 'component-icon',\n    placeholder: 'placeholder',\n    editorPanel: 'editor-panel',\n    designer: 'designer',\n    moveDown: 'move-down',\n};\nlet templateDialog = {\n    nameHeight: 40,\n    fontSize: 22\n};\nlet element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = `\r\n            .${exports.classNames.componentSelected} {\r\n                border: solid 1px #337ab7!important;\r\n            }\r\n            .${exports.classNames.componentSelected} > :first-child {\r\n                border-color: blue;\r\n              }\r\n              .${exports.classNames.componentSelected} .resize_handle {\r\n                position: absolute;\r\n                height: 6px;\r\n                width: 6px;\r\n                border: 1px solid #89B;\r\n                background: #9AC;\r\n              }\r\n              .${exports.classNames.componentSelected} .move_handle {\r\n                height: 12px;\r\n                width: 12px;\r\n                top: 6px;\r\n                left: 8px;\r\n                border: solid 1px black;\r\n                position: relative;\r\n                margin-top: -12px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NW,\r\n              .${exports.classNames.componentSelected} .NN,\r\n              .${exports.classNames.componentSelected} .NE {\r\n                top: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NE,\r\n              .${exports.classNames.componentSelected} .EE,\r\n              .${exports.classNames.componentSelected} .SE {\r\n                right: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .SW,\r\n              .${exports.classNames.componentSelected}.SS,\r\n              .${exports.classNames.componentSelected} .SE {\r\n                bottom: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .NW,\r\n              .${exports.classNames.componentSelected} .WW,\r\n              .${exports.classNames.componentSelected} .SW {\r\n                left: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .SE,\r\n              .${exports.classNames.componentSelected} .NW {\r\n                cursor: nw-resize;\r\n              }\r\n              .${exports.classNames.componentSelected} .SW,\r\n              .${exports.classNames.componentSelected} .NE {\r\n                cursor: ne-resize;\r\n              }\r\n              .${exports.classNames.componentSelected} .NN,\r\n              .${exports.classNames.componentSelected} .SS {\r\n                cursor: n-resize;\r\n                left: 50%;\r\n                margin-left: -4px;\r\n              }\r\n              .${exports.classNames.componentSelected} .EE,\r\n              .${exports.classNames.componentSelected} .WW {\r\n                cursor: e-resize;\r\n                top: 50%;\r\n                margin-top: -4px;\r\n              }\r\n            .${exports.classNames.emptyTemplates} {\r\n                padding:50px 0;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.loadingTemplates} {\r\n                padding:50px 0;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.templateSelected} .page-view {\r\n                border: solid 1px #337ab7!important;\r\n            }\r\n            .${exports.classNames.templateDialog} .name {\r\n                margin-top: -${templateDialog.nameHeight}px;\r\n                height: ${templateDialog.nameHeight}px;\r\n                font-size: ${templateDialog.fontSize}px;\r\n                text-align: center;\r\n                padding-top: 6px;\r\n                background-color: black;\r\n                opacity: 0.5;\r\n            }\r\n            .${exports.classNames.templateDialog} .name span {\r\n                color: white;\r\n            }\r\n            .${exports.classNames.emptyDocument} {\r\n                text-align: center;\r\n                padding: 100px 0;\r\n            }\r\n            .${exports.classNames.component} > .NW,\r\n            .${exports.classNames.component} > .NN,\r\n            .${exports.classNames.component} > .NE,\r\n            .${exports.classNames.component} > .EE,\r\n            .${exports.classNames.component} > .SE,\r\n            .${exports.classNames.component} > .SW,\r\n            .${exports.classNames.component} > .SS,\r\n            .${exports.classNames.component} > .WW {\r\n                display: none;\r\n            }\r\n            .${exports.classNames.componentSelected}.component > .NW,\r\n            .${exports.classNames.componentSelected}.component > .NN,\r\n            .${exports.classNames.componentSelected}.component > .NE,\r\n            .${exports.classNames.componentSelected}.component > .EE,\r\n            .${exports.classNames.componentSelected}.component > .SE,\r\n            .${exports.classNames.componentSelected}.component > .SW,\r\n            .${exports.classNames.componentSelected}.component > .SS,\r\n            .${exports.classNames.componentSelected}.component > .WW {\r\n                display: block;\r\n            }\r\n            .${exports.classNames.placeholder} {\r\n                min-height: 40px;\r\n                width: 100%;\r\n            }\r\n            .${exports.classNames.placeholder}.active,\r\n            .${exports.classNames.componentWrapper}.active,\r\n            .${exports.classNames.componentWrapper}.${exports.classNames.componentSelected}.active {\r\n                border: 1px solid green;\r\n            }\r\n            .${exports.classNames.editorPanel} {\r\n                width: 300px;\r\n                background: white;\r\n                color: black;\r\n                margin: 0;\r\n                font-size: 14px;\r\n                z-index: 100;\r\n                overflow: auto;\r\n            }\r\n            .${exports.classNames.editorPanel} label {\r\n                width: 80px;\r\n                float: left;\r\n                padding: 4px;\r\n                text-overflow: ellipsis;\r\n                overflow: hidden;\r\n            }\r\n            .${exports.classNames.editorPanel} .control {\r\n                padding-left: 90px;\r\n            }\r\n            .${exports.classNames.editorPanel} .empty {\r\n                padding-top: 200px;\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.designer} .error,\r\n            .${exports.classNames.editorPanel} .error {\r\n                color: red;\r\n            }\r\n            .${exports.classNames.componentPanel} {\r\n                background: white;\r\n                color: black;\r\n                font-size: 14px;\r\n                z-index: 100;\r\n                list-style: none;\r\n                padding: 0;\r\n                text-align: center\r\n            }\r\n            .${exports.classNames.componentPanel} .panel-heading {\r\n                text-align: center;\r\n            }\r\n            .${exports.classNames.componentPanel} li {\r\n                text-align: center;\r\n                padding: 8px;\r\n            }\r\n            .${exports.classNames.componentWrapper}.${exports.classNames.moveDown} {\r\n         \r\n            }\r\n        `;\ndocument.head.appendChild(element);\nfunction appendClassName(element, addonClassName) {\n    if (element == null)\n        throw errors_1.Errors.argumentNull('element');\n    if (!addonClassName)\n        throw errors_1.Errors.argumentNull('addonClassName');\n    let sourceClassName;\n    if (typeof element == 'string')\n        sourceClassName = element;\n    else\n        sourceClassName = element.className;\n    sourceClassName = sourceClassName || '';\n    console.assert(addonClassName);\n    if (sourceClassName.indexOf(addonClassName) >= 0)\n        return sourceClassName;\n    let className = `${sourceClassName} ${addonClassName}`;\n    if (typeof element != 'string')\n        element.className = className;\n    return className;\n}\nexports.appendClassName = appendClassName;\nfunction removeClassName(element, targetClassName) {\n    let sourceClassName;\n    if (typeof element == 'string')\n        sourceClassName = element;\n    else\n        sourceClassName = element.className || '';\n    if (sourceClassName.indexOf(targetClassName) < 0)\n        return sourceClassName;\n    sourceClassName = sourceClassName || '';\n    sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n    sourceClassName = sourceClassName.trim();\n    if (typeof element != 'string')\n        element.className = sourceClassName;\n    return sourceClassName;\n}\nexports.removeClassName = removeClassName;\n//# sourceMappingURL=style.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst components_1 = require(\"./components\");\nexports.proptDisplayNames = {};\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\nexports.guid = maishu_toolkit_1.guid;\nexports.Callback = maishu_toolkit_1.Callback;\nfunction translateComponentDataChildren(children) {\n    if (children == null || children.length == 0)\n        return [];\n    let r = [];\n    for (let i = 0; i < children.length; i++) {\n        let child = children[i];\n        if (typeof child == \"string\") {\n            child = { type: components_1.ComponentTypes.Text, props: { text: child } };\n            r.push(child);\n        }\n        else {\n            r.push(children[i]);\n        }\n    }\n    return r;\n}\nexports.translateComponentDataChildren = translateComponentDataChildren;\n//# sourceMappingURL=common.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./master-page\"));\n__export(require(\"./place-holder\"));\n__export(require(\"./text\"));\nvar common_1 = require(\"./common\");\nexports.ComponentTypes = common_1.ComponentTypes;\nexports.constants = common_1.constants;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst components_1 = require(\"./components\");\nconst style_1 = require(\"./style\");\nclass ComponentPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { componets: [] };\n        this.designer = this.props.designer;\n    }\n    get element() {\n        return this.toolbarElement;\n    }\n    componentDraggable(toolItemElement, componentData) {\n        console.assert(toolItemElement != null);\n        toolItemElement.draggable = true;\n        toolItemElement.addEventListener('dragstart', function (ev) {\n            componentData.props = componentData.props || {};\n            ev.dataTransfer.setData(components_1.constants.componentData, JSON.stringify(componentData));\n            ev.dataTransfer.setData('mousePosition', JSON.stringify({ x: ev.offsetX, y: ev.offsetY }));\n        });\n    }\n    setComponets(componets) {\n        this.setState({ componets });\n    }\n    static getComponentData(dataTransfer) {\n        var str = dataTransfer.getData(components_1.constants.componentData);\n        if (!str)\n            return;\n        return JSON.parse(str);\n    }\n    /**  */\n    static mouseInnerPosition(dataTransfer) {\n        let str = dataTransfer.getData('mousePosition');\n        if (!str)\n            return;\n        return JSON.parse(str);\n    }\n    render() {\n        let empty = this.props.empty || React.createElement(\"div\", { className: \"empty\" }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7EC4\\u4EF6\");\n        let props = Object.assign({}, this.props);\n        let componets = this.state.componets || [];\n        return React.createElement(\"ul\", Object.assign({}, props, { className: `${style_1.classNames.componentPanel} ${this.props.className || \"\"}`, ref: (e) => this.toolbarElement = this.toolbarElement || e }), componets.length == 0 ? empty : componets.map((c, i) => {\n            let props = { key: i };\n            props[ComponentPanel.componentIndexName] = `${i}`;\n            return React.createElement(\"li\", Object.assign({}, props, { className: style_1.classNames.componentIcon }),\n                React.createElement(\"div\", { className: \"btn-link\" },\n                    React.createElement(\"i\", { className: c.icon, style: { fontSize: 44, color: 'black' }, ref: e => {\n                            if (!e)\n                                return;\n                            let ctrl = c.componentData;\n                            this.componentDraggable(e, ctrl);\n                        } })),\n                React.createElement(\"div\", null, c.displayName));\n        }));\n    }\n}\nComponentPanel.componentIndexName = \"data-component-index\";\nexports.ComponentPanel = ComponentPanel;\n//# sourceMappingURL=component-panel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ComponentTypes = {\n    Text: \"Text\",\n    PageView: \"PageView\",\n    PlaceHolder: \"PlaceHolder\"\n};\nexports.constants = {\n    componentsDir: 'components',\n    connectorElementClassName: 'component-container',\n    componentTypeName: 'data-component-name',\n    componentData: 'component-data',\n    componentPosition: \"component-position\"\n};\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\nexports.guid = maishu_toolkit_1.guid;\n//# sourceMappingURL=common.js.map","/*!\n * ~\n *  maishu-toolkit v1.1.1\n *  https://github.com/ansiboy/toolkit\n *  \n *  Copyright (c) 2016-2018, shu mai <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/callback.js\":\n/*!*************************!*\\\n  !*** ./out/callback.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Callback {\n    constructor() {\n        this.funcs = new Array();\n    }\n    add(func) {\n        this.funcs.push(func);\n    }\n    remove(func) {\n        this.funcs = this.funcs.filter(o => o != func);\n    }\n    fire(args) {\n        this.funcs.forEach(o => o(args));\n    }\n    static create() {\n        return new Callback();\n    }\n}\nexports.Callback = Callback;\n\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Errors {\n    argumentNull(argumentName) {\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\n        let name = \"argumentNull\";\n        error.name = name;\n        return error;\n    }\n    routeDataFieldNull(fieldName) {\n        let msg = `The ${fieldName} field of route data cannt be null.`;\n        let error = new Error(msg);\n        let name = \"routeDataFieldNull\";\n        error.name = name;\n        return error;\n    }\n    argumentFieldNull(fieldName, argumentName) {\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\n        let error = new Error(msg);\n        let name = \"argumentFieldNull\";\n        error.name = name;\n        return error;\n    }\n    argumentTypeIncorrect(argumentName, expectedType) {\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\n        let error = new Error(msg);\n        let name = \"argumentTypeIncorrect\";\n        error.name = name;\n        return error;\n    }\n}\nexports.Errors = Errors;\nexports.errors = new Errors();\n\n\n/***/ }),\n\n/***/ \"./out/guid.js\":\n/*!*********************!*\\\n  !*** ./out/guid.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction guid() {\n    function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n        s4() + '-' + s4() + s4() + s4();\n}\nexports.guid = guid;\n\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar guid_1 = __webpack_require__(/*! ./guid */ \"./out/guid.js\");\nexports.guid = guid_1.guid;\nvar path_1 = __webpack_require__(/*! ./path */ \"./out/path.js\");\nexports.pathContact = path_1.pathContact;\nvar errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\nexports.Errors = errors_1.Errors;\nvar callback_1 = __webpack_require__(/*! ./callback */ \"./out/callback.js\");\nexports.Callback = callback_1.Callback;\n\n\n/***/ }),\n\n/***/ \"./out/path.js\":\n/*!*********************!*\\\n  !*** ./out/path.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**  */\nfunction pathContact(...paths) {\n    paths = paths || [];\n    if (paths.length == 0)\n        return \"\";\n    if (paths.length == 1) {\n        return paths[0];\n    }\n    let str = paths.join(\"\");\n    //  /  //shop/test//  /shop/test/\n    str = str.replace(/\\/+/g, '/');\n    return str;\n}\nexports.pathContact = pathContact;\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst component_1 = require(\"../component\");\nexports.MasterPageName = 'MasterPage';\nexports.MasterPageContext = React.createContext({ master: null });\nclass MasterPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.childComponents = {};\n        let children = MasterPage.children(props);\n        this.state = { children };\n    }\n    static children(props) {\n        let arr = props.children == null ? [] :\n            Array.isArray(props.children) ? props.children : [props.children];\n        let children = [];\n        arr.forEach(o => {\n            if (!React.isValidElement(o))\n                return;\n            children.push(o);\n        });\n        return children;\n    }\n    static getDerivedStateFromProps(props) {\n        let children = MasterPage.children(props);\n        return { children };\n    }\n    render() {\n        let props = {};\n        for (let key in this.props) {\n            if (key == 'ref' || key == 'id')\n                continue;\n            props[key] = this.props[key];\n        }\n        props.style = Object.assign({ minHeight: 40 }, props.style);\n        let children = this.state.children.filter(o => o.props.parentId == null);\n        let master = this;\n        console.assert(master != null);\n        return React.createElement(exports.MasterPageContext.Provider, { value: { master } }, children);\n    }\n}\nexports.MasterPage = MasterPage;\ncomponent_1.Component.register(exports.MasterPageName, MasterPage, { container: false });\n//# sourceMappingURL=master-page.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst common_1 = require(\"./common\");\nconst errors_1 = require(\"./errors\");\nconst component_1 = require(\"./component\");\nconst style_1 = require(\"./style\");\nconst component_wrapper_1 = require(\"./component-wrapper\");\nclass PageDesigner extends React.Component {\n    constructor(props) {\n        super(props);\n        this.componentSelected = common_1.Callback.create();\n        this.componentRemoved = common_1.Callback.create();\n        this.componentAppend = common_1.Callback.create();\n        this.componentUpdated = common_1.Callback.create();\n        this.designtimeComponentDidMount = common_1.Callback.create();\n        this.components = {};\n        // let components: PageDesignerState[\"components\"] = {};\n        this.initPageData(props.pageData);\n        this.state = { pageData: props.pageData, };\n        this.designtimeComponentDidMount.add((args) => {\n            console.log(`this:designer event:controlComponentDidMount`);\n        });\n        this.props.componentDataHandler.componentSelected.add(args => {\n            this.componentSelected.fire(args);\n            this.setState({ pageData: this.props.componentDataHandler.pageData });\n        });\n        this.props.componentDataHandler.componentRemoved.add(args => {\n            this.componentRemoved.fire(args);\n            this.setState({ pageData: this.props.componentDataHandler.pageData });\n        });\n        this.props.componentDataHandler.componentUpdated.add(args => {\n            this.componentUpdated.fire(args);\n            this.setState({ pageData: this.props.componentDataHandler.pageData });\n        });\n        this.componentAppend = common_1.Callback.create();\n        this.props.componentDataHandler.componentAppend.add(() => this.componentAppend.fire(this));\n    }\n    setComponetRefProp(pageData) {\n        //=========================================================\n        //  pageData  ID\n        let componentIds = {};\n        //=========================================================\n        PageDesigner.travelComponentData(pageData).forEach(item => {\n            console.assert(item.props != null && item.props.id != null);\n            componentIds[item.type] = componentIds[item.type] || [];\n            componentIds[item.type].push(item.props[\"id\"]);\n            let itemRef = item.props.ref;\n            item.props.ref = (e) => {\n                if (e != null) {\n                    this.components[item.type] = this.components[item.type] || [];\n                    this.components[item.type].push(e);\n                }\n                if (typeof itemRef == \"function\")\n                    itemRef(e);\n            };\n        });\n        //=========================================================\n        //  componentIds  \n        let names = Object.getOwnPropertyNames(this.components);\n        for (let i = 0; i < names.length; i++) {\n            let typename = names[i];\n            let ids = componentIds[typename] || [];\n            this.components[typename] = (this.components[typename] || []).filter(o => ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0);\n        }\n        //=========================================================\n    }\n    initPageData(pageData) {\n        if (pageData == null) {\n            return;\n        }\n        pageData.children = pageData.children || [];\n        // PageDesigner.nameComponent(pageData);\n        this.setComponetRefProp(pageData);\n    }\n    allComponents() {\n        let r = [];\n        for (let key in this.components) {\n            r.push(...this.components[key]);\n        }\n        return r;\n    }\n    /**  */\n    get pageData() {\n        return this.state.pageData;\n    }\n    /**  */\n    get selectedComponentIds() {\n        return this.selectedComponents.map(o => o.props.id);\n    }\n    /**  */\n    get selectedComponents() {\n        return this.props.componentDataHandler.selectedComponents;\n    }\n    get element() {\n        return this._element;\n    }\n    updateComponentProp(componentId, propName, value) {\n        return this.updateComponentProps({ componentId, propName, value });\n    }\n    updateComponentProps(...componentProps) {\n        this.props.componentDataHandler.updateComponentProps(componentProps);\n    }\n    /**\n     * \n     * @param component\n     */\n    static nameComponent(component) {\n        let namedComponents = {};\n        let props = component.props = component.props || {};\n        if (!props.name) {\n            let num = 0;\n            let name;\n            do {\n                num = num + 1;\n                name = `${component.type}${num}`;\n            } while (namedComponents[name]);\n            namedComponents[name] = component;\n            props.name = name;\n        }\n        if (!props.id)\n            props.id = common_1.guid();\n        if (!component.children || component.children.length == 0) {\n            return;\n        }\n        let children = common_1.translateComponentDataChildren(component.children);\n        for (let i = 0; i < children.length; i++) {\n            PageDesigner.nameComponent(children[i]);\n        }\n    }\n    /**\n     * \n     * @param parentId \n     * @param componentData \n     * @param componentIndex \n     */\n    appendComponent(parentId, componentData, componentIndex) {\n        // if (!parentId) throw Errors.argumentNull('parentId');\n        // if (!componentData) throw Errors.argumentNull('childComponent');\n        // PageDesigner.nameComponent(componentData)\n        // let parentControl = this.findComponentData(parentId);\n        // if (parentControl == null)\n        //     throw new Error('Parent is not exists')\n        // console.assert(parentControl != null);\n        // parentControl.children = parentControl.children || [];\n        // if (componentIndex != null) {\n        //     parentControl.children.splice(componentIndex, 0, componentData);\n        // }\n        // else {\n        //     parentControl.children.push(componentData);\n        // }\n        // let { pageData } = this.state;\n        // this.setState({ pageData });\n        // this.selectComponent(componentData.props.id);\n        // this.componentAppend.fire(this)\n        this.props.componentDataHandler.appendComponent(parentId, componentData, componentIndex);\n    }\n    /**\n     * \n     * @param componentId \n     * @param position \n     */\n    setComponentPosition(componentId, position) {\n        return this.setComponentsPosition([{ componentId, position }]);\n    }\n    /**\n     * \n     * @param componentId \n     * @param size \n     */\n    setComponentSize(componentId, size) {\n        console.assert(componentId != null);\n        console.assert(size != null);\n        let componentData = this.findComponentData(componentId);\n        if (!componentData)\n            throw new Error(`Control ${componentId} is not exits.`);\n        let style = componentData.props.style = (componentData.props.style || {});\n        if (size.height)\n            style.height = size.height;\n        if (size.width)\n            style.width = size.width;\n        let { pageData } = this.state;\n        this.setState({ pageData });\n        this.componentUpdated.fire([componentData]);\n    }\n    setComponentsPosition(positions) {\n        // let componentDatas = new Array<ComponentData>()\n        let toUpdateProps = [];\n        positions.forEach(o => {\n            let { componentId } = o;\n            let { left, top } = o.position;\n            let componentData = this.props.componentDataHandler.findComponentData(componentId);\n            if (!componentData)\n                throw new Error(`Control ${componentId} is not exits.`);\n            let style = componentData.props.style = (componentData.props.style || {});\n            if (left)\n                style.left = left;\n            if (top)\n                style.top = top;\n            // let { pageData } = this.state;\n            // this.setState({ pageData });\n            // componentDatas.push(componentData)\n            toUpdateProps.push({ componentId, propName: \"style\", value: style });\n        });\n        // this.componentUpdated.fire(componentDatas);\n        this.props.componentDataHandler.updateComponentProps(toUpdateProps);\n    }\n    /**\n     * \n     * @param control \n     */\n    selectComponent(componentIds) {\n        // if (typeof componentIds == 'string')\n        //     componentIds = [componentIds]\n        // var stack: ComponentData[] = []\n        // stack.push(this.pageData)\n        // while (stack.length > 0) {\n        //     let item = stack.pop();\n        //     let isSelectedControl = componentIds.indexOf(item.props.id) >= 0;\n        //     item.props.selected = isSelectedControl;\n        //     let children = translateComponentDataChildren(item.children || []);\n        //     for (let i = 0; i < children.length; i++) {\n        //         stack.push(children[i])\n        //     }\n        // }\n        // this.setState({ pageData: this.pageData })\n        // this.componentSelected.fire(this.selectedComponentIds)\n        // //====================================================\n        // // \n        // if (this._element)\n        //     this._element.focus()\n        // //====================================================\n        this.props.componentDataHandler.selectComponents(componentIds);\n        //====================================================\n        // \n        if (this._element)\n            this._element.focus();\n        //====================================================\n    }\n    /**  */\n    removeComponent(...componentIds) {\n        // let pageData = this.state.pageData;\n        // if (!pageData || !pageData.children || pageData.children.length == 0)\n        //     return;\n        // let children = translateComponentDataChildren(pageData.children);\n        // componentIds.forEach(controlId => {\n        //     this.removeComponentFrom(controlId, children);\n        // })\n        // this.setState({ pageData });\n        // this.componentRemoved.fire(componentIds)\n        this.props.componentDataHandler.removeComponents(componentIds);\n    }\n    /**\n     * \n     * @param componentId \n     * @param parentId \n     * @param targetComponentIndex \n     */\n    moveComponent(componentId, parentId, targetComponentIndex) {\n        // let component = this.findComponentData(componentId);\n        // if (component == null)\n        //     throw new Error(`Cannt find component by id ${componentId}`)\n        // console.assert(component != null, `Cannt find component by id ${componentId}`);\n        // let pageData = this.state.pageData;\n        // console.assert(pageData.children != null);\n        // let children = translateComponentDataChildren(pageData.children);\n        // this.removeComponentFrom(componentId, children);\n        // this.appendComponent(parentId, component, childComponentIndex);\n        return this.props.componentDataHandler.moveComponent(componentId, parentId, targetComponentIndex);\n    }\n    removeComponentFrom(controlId, collection) {\n        let controlIndex = null;\n        for (let i = 0; i < collection.length; i++) {\n            if (controlId == collection[i].props.id) {\n                controlIndex = i;\n                break;\n            }\n        }\n        if (controlIndex == null) {\n            for (let i = 0; i < collection.length; i++) {\n                let o = collection[i];\n                let children = common_1.translateComponentDataChildren(o.children);\n                if (children && children.length > 0) {\n                    let isRemoved = this.removeComponentFrom(controlId, children);\n                    if (isRemoved) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        if (controlIndex == 0) {\n            collection.shift();\n        }\n        else if (controlIndex == collection.length - 1) {\n            collection.pop();\n        }\n        else {\n            collection.splice(controlIndex, 1);\n        }\n        return true;\n    }\n    static travelComponentData(pageData, filter) {\n        let stack = new Array();\n        stack.push(pageData);\n        let r = [];\n        // return new Promise((resolve, reject) => {\n        filter = filter || (() => true);\n        while (stack.length > 0) {\n            let item = stack.shift();\n            if (filter(item)) {\n                r.push(item);\n            }\n            //===============================================\n            // , \n            let children = (item.children || []).filter(o => typeof o == 'object');\n            //===============================================\n            stack.push(...children);\n        }\n        return r;\n    }\n    // findComponetsByTypeName(componentTypeName: string) {\n    //     let components = this.components[componentTypeName];\n    //     return components;\n    // }\n    findComponentData(componentId) {\n        // let pageData = this.state.pageData;\n        // if (!pageData)\n        //     throw Errors.pageDataIsNull();\n        // // let stack = new Array<ComponentData>();\n        // // stack.push(pageData);\n        // // while (stack.length > 0) {\n        // //     let item = stack.pop();\n        // //     if (item == null)\n        // //         continue\n        // //     if (item.props.id == componentId)\n        // //         return item;\n        // //     let children = (item.children || []).filter(o => typeof o == 'object') as ComponentData[]\n        // //     stack.push(...children);\n        // // }\n        // let componentDatas = PageDesigner.travelComponentData(pageData, (item) => item.props.id == componentId)\n        // return componentDatas[0];\n        return this.props.componentDataHandler.findComponentData(componentId);\n    }\n    onKeyDown(e) {\n        const DELETE_KEY_CODE = 46;\n        if (e.keyCode == DELETE_KEY_CODE) {\n            if (this.selectedComponents.length == 0)\n                return;\n            this.props.componentDataHandler.removeComponents(this.selectedComponentIds);\n        }\n    }\n    createDesignTimeElement(type, props, ...children) {\n        if (type == null)\n            throw errors_1.Errors.argumentNull('type');\n        if (props == null)\n            throw errors_1.Errors.argumentNull('props');\n        if (props.id == null)\n            throw errors_1.Errors.argumentFieldCanntNull('id', 'props');\n        console.assert(props.id != null);\n        if (props.id != null)\n            props.key = props.id;\n        //===================================================\n        //  ComponentAttribute  props \n        let attr1 = component_1.Component.getAttribute(type);\n        console.assert(attr1 != null);\n        let attr2 = props.attr || {};\n        let attr = Object.assign({}, attr1, attr2);\n        delete props.attr;\n        //===================================================\n        let className = props.selected ? style_1.appendClassName(props.className || '', style_1.classNames.componentSelected) : props.className;\n        let wrapperProps = Object.assign({}, props);\n        delete wrapperProps.ref;\n        wrapperProps.className = className;\n        return React.createElement(component_wrapper_1.ComponentWrapper, Object.assign({}, wrapperProps, { designer: this, source: { type, attr, props, children } }));\n    }\n    // static getDerivedStateFromProps(props: PageDesignerProps, state: PageDesignerState) {\n    //     PageDesigner.initPageData(props.pageData);\n    //     return { pageData: props.pageData } as Partial<PageDesignerState>;\n    // }\n    render() {\n        let designer = this;\n        let { pageData } = this.state;\n        let style = this.props.style;\n        let elementTag = this.props.elementTag || \"div\";\n        let result = React.createElement(elementTag, {\n            className: style_1.classNames.designer, tabIndex: 1, style,\n            ref: (e) => {\n                if (!e)\n                    return;\n                this._element = e || this._element;\n                this.props.componentFactory.renderDesignTimeComponent(pageData, e, { designer: this });\n            },\n            onKeyDown: (t) => this.onKeyDown(t)\n        });\n        return result;\n    }\n}\nPageDesigner.defaultProps = { pageData: null, componentDataHandler: null };\nexports.PageDesigner = PageDesigner;\n//# sourceMappingURL=page-designer.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./jquery\");\nrequire(\"../lib/jquery.event.drag-2.2\");\nrequire(\"../lib/jquery.event.drag.live-2.2\");\nrequire(\"../lib/jquery.event.drop-2.2\");\nrequire(\"../lib/jquery.event.drop.live-2.2\");\nvar common_1 = require(\"./common\");\nexports.strings = common_1.proptDisplayNames;\nexports.proptDisplayNames = common_1.proptDisplayNames;\nvar component_1 = require(\"./component\");\nexports.Component = component_1.Component;\nexports.DesignerContext = component_1.DesignerContext;\nvar component_panel_1 = require(\"./component-panel\");\nexports.ComponentPanel = component_panel_1.ComponentPanel;\nvar editor_panel_1 = require(\"./editor-panel\");\nexports.EditorPanel = editor_panel_1.EditorPanel;\nvar page_designer_1 = require(\"./page-designer\");\nexports.PageDesigner = page_designer_1.PageDesigner;\nvar prop_editor_1 = require(\"./prop-editor\");\nexports.PropEditor = prop_editor_1.PropEditor;\nexports.TextInput = prop_editor_1.TextInput;\nvar style_1 = require(\"./style\");\nexports.classNames = style_1.classNames;\nvar component_factory_1 = require(\"./component-factory\");\nexports.ComponentFactory = component_factory_1.ComponentFactory;\nvar component_data_handler_1 = require(\"./component-data-handler\");\nexports.ComponentDataHandler = component_data_handler_1.ComponentDataHandler;\n__export(require(\"./components\"));\n__export(require(\"maishu-jueying-core\"));\nvar decorators_1 = require(\"maishu-jueying-core/decorators\");\nexports.component = decorators_1.component;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// import * as j from '../lib/jquery-2.1.3'\n// let jquery = window['$'] || window['jQuery'];\n// if (jquery == null) {\n//     window['$'] = window['jQuery'] = j\n// }\nconst j = require(\"jquery\");\nlet jquery = window['$'] || window['jQuery'];\nif (jquery == null) {\n    window['$'] = window['jQuery'] = j;\n}\n//# sourceMappingURL=jquery.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","/*! \r\n * jquery.event.drag - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2008-06-04 \r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x\r\n\r\n;(function( $ ){\r\n\r\n// add the jquery instance method\r\n$.fn.drag = function( str, arg, opts ){\r\n\t// figure out the event type\r\n\tvar type = typeof str == \"string\" ? str : \"\",\r\n\t// figure out the event handler...\r\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\r\n\t// fix the event type\r\n\tif ( type.indexOf(\"drag\") !== 0 ) \r\n\t\ttype = \"drag\"+ type;\r\n\t// were options passed\r\n\topts = ( str == fn ? arg : opts ) || {};\r\n\t// trigger or bind event handler\r\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\r\n};\r\n\r\n// local refs (increase compression)\r\nvar $event = $.event, \r\n$special = $event.special,\r\n// configure the drag special event \r\ndrag = $special.drag = {\r\n\t\r\n\t// these are the default settings\r\n\tdefaults: {\r\n\t\twhich: 1, // mouse button pressed to start drag sequence\r\n\t\tdistance: 0, // distance dragged before dragstart\r\n\t\tnot: ':input', // selector to suppress dragging on target elements\r\n\t\thandle: null, // selector to match handle target elements\r\n\t\trelative: false, // true to use \"position\", false to use \"offset\"\r\n\t\tdrop: true, // false to suppress drop events, true or selector to allow\r\n\t\tclick: false // false to suppress click events after dragend (no proxy)\r\n\t},\r\n\t\r\n\t// the key name for stored drag data\r\n\tdatakey: \"dragdata\",\r\n\t\r\n\t// prevent bubbling for better performance\r\n\tnoBubble: true,\r\n\t\r\n\t// count bound related events\r\n\tadd: function( obj ){ \r\n\t\t// read the interaction data\r\n\t\tvar data = $.data( this, drag.datakey ),\r\n\t\t// read any passed options \r\n\t\topts = obj.data || {};\r\n\t\t// count another realted event\r\n\t\tdata.related += 1;\r\n\t\t// extend data options bound with this event\r\n\t\t// don't iterate \"opts\" in case it is a node \r\n\t\t$.each( drag.defaults, function( key, def ){\r\n\t\t\tif ( opts[ key ] !== undefined )\r\n\t\t\t\tdata[ key ] = opts[ key ];\r\n\t\t});\r\n\t},\r\n\t\r\n\t// forget unbound related events\r\n\tremove: function(){\r\n\t\t$.data( this, drag.datakey ).related -= 1;\r\n\t},\r\n\t\r\n\t// configure interaction, capture settings\r\n\tsetup: function(){\r\n\t\t// check for related events\r\n\t\tif ( $.data( this, drag.datakey ) ) \r\n\t\t\treturn;\r\n\t\t// initialize the drag data with copied defaults\r\n\t\tvar data = $.extend({ related:0 }, drag.defaults );\r\n\t\t// store the interaction data\r\n\t\t$.data( this, drag.datakey, data );\r\n\t\t// bind the mousedown event, which starts drag interactions\r\n\t\t$event.add( this, \"touchstart mousedown\", drag.init, data );\r\n\t\t// prevent image dragging in IE...\r\n\t\tif ( this.attachEvent ) \r\n\t\t\tthis.attachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\r\n\t// destroy configured interaction\r\n\tteardown: function(){\r\n\t\tvar data = $.data( this, drag.datakey ) || {};\r\n\t\t// check for related events\r\n\t\tif ( data.related ) \r\n\t\t\treturn;\r\n\t\t// remove the stored data\r\n\t\t$.removeData( this, drag.datakey );\r\n\t\t// remove the mousedown event\r\n\t\t$event.remove( this, \"touchstart mousedown\", drag.init );\r\n\t\t// enable text selection\r\n\t\tdrag.textselect( true ); \r\n\t\t// un-prevent image dragging in IE...\r\n\t\tif ( this.detachEvent ) \r\n\t\t\tthis.detachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\t\r\n\t// initialize the interaction\r\n\tinit: function( event ){ \r\n\t\t// sorry, only one touch at a time\r\n\t\tif ( drag.touched ) \r\n\t\t\treturn;\r\n\t\t// the drag/drop interaction data\r\n\t\tvar dd = event.data, results;\r\n\t\t// check the which directive\r\n\t\tif ( event.which != 0 && dd.which > 0 && event.which != dd.which ) \r\n\t\t\treturn; \r\n\t\t// check for suppressed selector\r\n\t\tif ( $( event.target ).is( dd.not ) ) \r\n\t\t\treturn;\r\n\t\t// check for handle selector\r\n\t\tif ( dd.handle && !$( event.target ).closest( dd.handle, event.currentTarget ).length ) \r\n\t\t\treturn;\r\n\r\n\t\tdrag.touched = event.type == 'touchstart' ? this : null;\r\n\t\tdd.propagates = 1;\r\n\t\tdd.mousedown = this;\r\n\t\tdd.interactions = [ drag.interaction( this, dd ) ];\r\n\t\tdd.target = event.target;\r\n\t\tdd.pageX = event.pageX;\r\n\t\tdd.pageY = event.pageY;\r\n\t\tdd.dragging = null;\r\n\t\t// handle draginit event... \r\n\t\tresults = drag.hijack( event, \"draginit\", dd );\r\n\t\t// early cancel\r\n\t\tif ( !dd.propagates )\r\n\t\t\treturn;\r\n\t\t// flatten the result set\r\n\t\tresults = drag.flatten( results );\r\n\t\t// insert new interaction elements\r\n\t\tif ( results && results.length ){\r\n\t\t\tdd.interactions = [];\r\n\t\t\t$.each( results, function(){\r\n\t\t\t\tdd.interactions.push( drag.interaction( this, dd ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\t// remember how many interactions are propagating\r\n\t\tdd.propagates = dd.interactions.length;\r\n\t\t// locate and init the drop targets\r\n\t\tif ( dd.drop !== false && $special.drop ) \r\n\t\t\t$special.drop.handler( event, dd );\r\n\t\t// disable text selection\r\n\t\tdrag.textselect( false ); \r\n\t\t// bind additional events...\r\n\t\tif ( drag.touched )\r\n\t\t\t$event.add( drag.touched, \"touchmove touchend\", drag.handler, dd );\r\n\t\telse \r\n\t\t\t$event.add( document, \"mousemove mouseup\", drag.handler, dd );\r\n\t\t// helps prevent text selection or scrolling\r\n\t\tif ( !drag.touched || dd.live )\r\n\t\t\treturn false;\r\n\t},\t\r\n\t\r\n\t// returns an interaction object\r\n\tinteraction: function( elem, dd ){\r\n\t\tvar offset = $( elem )[ dd.relative ? \"position\" : \"offset\" ]() || { top:0, left:0 };\r\n\t\treturn {\r\n\t\t\tdrag: elem, \r\n\t\t\tcallback: new drag.callback(), \r\n\t\t\tdroppable: [],\r\n\t\t\toffset: offset\r\n\t\t};\r\n\t},\r\n\t\r\n\t// handle drag-releatd DOM events\r\n\thandler: function( event ){ \r\n\t\t// read the data before hijacking anything\r\n\t\tvar dd = event.data;\t\r\n\t\t// handle various events\r\n\t\tswitch ( event.type ){\r\n\t\t\t// mousemove, check distance, start dragging\r\n\t\t\tcase !dd.dragging && 'touchmove': \r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase !dd.dragging && 'mousemove':\r\n\t\t\t\t//  drag tolerance, x + y = distance\r\n\t\t\t\tif ( Math.pow(  event.pageX-dd.pageX, 2 ) + Math.pow(  event.pageY-dd.pageY, 2 ) < Math.pow( dd.distance, 2 ) ) \r\n\t\t\t\t\tbreak; // distance tolerance not reached\r\n\t\t\t\tevent.target = dd.target; // force target from \"mousedown\" event (fix distance issue)\r\n\t\t\t\tdrag.hijack( event, \"dragstart\", dd ); // trigger \"dragstart\"\r\n\t\t\t\tif ( dd.propagates ) // \"dragstart\" not rejected\r\n\t\t\t\t\tdd.dragging = true; // activate interaction\r\n\t\t\t// mousemove, dragging\r\n\t\t\tcase 'touchmove':\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\t// trigger \"drag\"\t\t\r\n\t\t\t\t\tdrag.hijack( event, \"drag\", dd );\r\n\t\t\t\t\tif ( dd.propagates ){\r\n\t\t\t\t\t\t// manage drop events\r\n\t\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"dropstart\", \"dropend\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak; // \"drag\" not rejected, stop\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.type = \"mouseup\"; // helps \"drop\" handler behave\r\n\t\t\t\t}\r\n\t\t\t// mouseup, stop dragging\r\n\t\t\tcase 'touchend': \r\n\t\t\tcase 'mouseup': \r\n\t\t\tdefault:\r\n\t\t\t\tif ( drag.touched )\r\n\t\t\t\t\t$event.remove( drag.touched, \"touchmove touchend\", drag.handler ); // remove touch events\r\n\t\t\t\telse \r\n\t\t\t\t\t$event.remove( document, \"mousemove mouseup\", drag.handler ); // remove page events\t\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"drop\"\r\n\t\t\t\t\tdrag.hijack( event, \"dragend\", dd ); // trigger \"dragend\"\t\r\n\t\t\t\t}\r\n\t\t\t\tdrag.textselect( true ); // enable text selection\r\n\t\t\t\t// if suppressing click events...\r\n\t\t\t\tif ( dd.click === false && dd.dragging )\r\n\t\t\t\t\t$.data( dd.mousedown, \"suppress.click\", new Date().getTime() + 5 );\r\n\t\t\t\tdd.dragging = drag.touched = false; // deactivate element\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\t\r\n\t// re-use event object for custom events\r\n\thijack: function( event, type, dd, x, elem ){\r\n\t\t// not configured\r\n\t\tif ( !dd ) \r\n\t\t\treturn;\r\n\t\t// remember the original event and type\r\n\t\tvar orig = { event:event.originalEvent, type:event.type },\r\n\t\t// is the event drag related or drog related?\r\n\t\tmode = type.indexOf(\"drop\") ? \"drag\" : \"drop\",\r\n\t\t// iteration vars\r\n\t\tresult, i = x || 0, ia, $elems, callback,\r\n\t\tlen = !isNaN( x ) ? x : dd.interactions.length;\r\n\t\t// modify the event type\r\n\t\tevent.type = type;\r\n\t\t// remove the original event\r\n\t\tevent.originalEvent = null;\r\n\t\t// initialize the results\r\n\t\tdd.results = [];\r\n\t\t// handle each interacted element\r\n\t\tdo if ( ia = dd.interactions[ i ] ){\r\n\t\t\t// validate the interaction\r\n\t\t\tif ( type !== \"dragend\" && ia.cancelled )\r\n\t\t\t\tcontinue;\r\n\t\t\t// set the dragdrop properties on the event object\r\n\t\t\tcallback = drag.properties( event, dd, ia );\r\n\t\t\t// prepare for more results\r\n\t\t\tia.results = [];\r\n\t\t\t// handle each element\r\n\t\t\t$( elem || ia[ mode ] || dd.droppable ).each(function( p, subject ){\r\n\t\t\t\t// identify drag or drop targets individually\r\n\t\t\t\tcallback.target = subject;\r\n\t\t\t\t// force propagtion of the custom event\r\n\t\t\t\tevent.isPropagationStopped = function(){ return false; };\r\n\t\t\t\t// handle the event\t\r\n\t\t\t\tresult = subject ? $event.dispatch.call( subject, event, callback ) : null;\r\n\t\t\t\t// stop the drag interaction for this element\r\n\t\t\t\tif ( result === false ){\r\n\t\t\t\t\tif ( mode == \"drag\" ){\r\n\t\t\t\t\t\tia.cancelled = true;\r\n\t\t\t\t\t\tdd.propagates -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( type == \"drop\" ){\r\n\t\t\t\t\t\tia[ mode ][p] = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// assign any dropinit elements\r\n\t\t\t\telse if ( type == \"dropinit\" )\r\n\t\t\t\t\tia.droppable.push( drag.element( result ) || subject );\r\n\t\t\t\t// accept a returned proxy element \r\n\t\t\t\tif ( type == \"dragstart\" )\r\n\t\t\t\t\tia.proxy = $( drag.element( result ) || ia.drag )[0];\r\n\t\t\t\t// remember this result\t\r\n\t\t\t\tia.results.push( result );\r\n\t\t\t\t// forget the event result, for recycling\r\n\t\t\t\tdelete event.result;\r\n\t\t\t\t// break on cancelled handler\r\n\t\t\t\tif ( type !== \"dropinit\" )\r\n\t\t\t\t\treturn result;\r\n\t\t\t});\t\r\n\t\t\t// flatten the results\t\r\n\t\t\tdd.results[ i ] = drag.flatten( ia.results );\t\r\n\t\t\t// accept a set of valid drop targets\r\n\t\t\tif ( type == \"dropinit\" )\r\n\t\t\t\tia.droppable = drag.flatten( ia.droppable );\r\n\t\t\t// locate drop targets\r\n\t\t\tif ( type == \"dragstart\" && !ia.cancelled )\r\n\t\t\t\tcallback.update(); \r\n\t\t}\r\n\t\twhile ( ++i < len )\r\n\t\t// restore the original event & type\r\n\t\tevent.type = orig.type;\r\n\t\tevent.originalEvent = orig.event;\r\n\t\t// return all handler results\r\n\t\treturn drag.flatten( dd.results );\r\n\t},\r\n\t\t\r\n\t// extend the callback object with drag/drop properties...\r\n\tproperties: function( event, dd, ia ){\t\t\r\n\t\tvar obj = ia.callback;\r\n\t\t// elements\r\n\t\tobj.drag = ia.drag;\r\n\t\tobj.proxy = ia.proxy || ia.drag;\r\n\t\t// starting mouse position\r\n\t\tobj.startX = dd.pageX;\r\n\t\tobj.startY = dd.pageY;\r\n\t\t// current distance dragged\r\n\t\tobj.deltaX = event.pageX - dd.pageX;\r\n\t\tobj.deltaY = event.pageY - dd.pageY;\r\n\t\t// original element position\r\n\t\tobj.originalX = ia.offset.left;\r\n\t\tobj.originalY = ia.offset.top;\r\n\t\t// adjusted element position\r\n\t\tobj.offsetX = obj.originalX + obj.deltaX; \r\n\t\tobj.offsetY = obj.originalY + obj.deltaY;\r\n\t\t// assign the drop targets information\r\n\t\tobj.drop = drag.flatten( ( ia.drop || [] ).slice() );\r\n\t\tobj.available = drag.flatten( ( ia.droppable || [] ).slice() );\r\n\t\treturn obj;\t\r\n\t},\r\n\t\r\n\t// determine is the argument is an element or jquery instance\r\n\telement: function( arg ){\r\n\t\tif ( arg && ( arg.jquery || arg.nodeType == 1 ) )\r\n\t\t\treturn arg;\r\n\t},\r\n\t\r\n\t// flatten nested jquery objects and arrays into a single dimension array\r\n\tflatten: function( arr ){\r\n\t\treturn $.map( arr, function( member ){\r\n\t\t\treturn member && member.jquery ? $.makeArray( member ) : \r\n\t\t\t\tmember && member.length ? drag.flatten( member ) : member;\r\n\t\t});\r\n\t},\r\n\t\r\n\t// toggles text selection attributes ON (true) or OFF (false)\r\n\ttextselect: function( bool ){ \r\n\t\t$( document )[ bool ? \"unbind\" : \"bind\" ](\"selectstart\", drag.dontstart )\r\n\t\t\t.css(\"MozUserSelect\", bool ? \"\" : \"none\" );\r\n\t\t// .attr(\"unselectable\", bool ? \"off\" : \"on\" )\r\n\t\tdocument.unselectable = bool ? \"off\" : \"on\"; \r\n\t},\r\n\t\r\n\t// suppress \"selectstart\" and \"ondragstart\" events\r\n\tdontstart: function(){ \r\n\t\treturn false; \r\n\t},\r\n\t\r\n\t// a callback instance contructor\r\n\tcallback: function(){}\r\n\t\r\n};\r\n\r\n// callback methods\r\ndrag.callback.prototype = {\r\n\tupdate: function(){\r\n\t\tif ( $special.drop && this.available.length )\r\n\t\t\t$.each( this.available, function( i ){\r\n\t\t\t\t$special.drop.locate( this, i );\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\n// patch $.event.$dispatch to allow suppressing clicks\r\nvar $dispatch = $event.dispatch;\r\n$event.dispatch = function( event ){\r\n\tif ( $.data( this, \"suppress.\"+ event.type ) - new Date().getTime() > 0 ){\r\n\t\t$.removeData( this, \"suppress.\"+ event.type );\r\n\t\treturn;\r\n\t}\r\n\treturn $dispatch.apply( this, arguments );\r\n};\r\n\r\n// event fix hooks for touch events...\r\nvar touchHooks = \r\n$event.fixHooks.touchstart = \r\n$event.fixHooks.touchmove = \r\n$event.fixHooks.touchend =\r\n$event.fixHooks.touchcancel = {\r\n\tprops: \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tfilter: function( event, orig ) {\r\n\t\tif ( orig ){\r\n\t\t\tvar touched = ( orig.touches && orig.touches[0] )\r\n\t\t\t\t|| ( orig.changedTouches && orig.changedTouches[0] )\r\n\t\t\t\t|| null; \r\n\t\t\t// iOS webkit: touchstart, touchmove, touchend\r\n\t\t\tif ( touched ) \r\n\t\t\t\t$.each( touchHooks.props, function( i, prop ){\r\n\t\t\t\t\tevent[ prop ] = touched[ prop ];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn event;\r\n\t}\r\n};\r\n\r\n// share the same special event configuration with related events...\r\n$special.draginit = $special.dragstart = $special.dragend = drag;\r\n\r\n})( jQuery );","/*! \r\n * jquery.event.drag.live - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2010-06-07\r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x, event.drag 2.2\r\n\r\n;(function( $ ){\r\n\t\r\n// local refs (increase compression)\r\nvar $event = $.event,\r\n// ref the special event config\r\ndrag = $event.special.drag,\r\n// old drag event add method\r\norigadd = drag.add,\r\n// old drag event teradown method\r\norigteardown = drag.teardown;\r\n\r\n// allow events to bubble for delegation\r\ndrag.noBubble = false;\r\n\r\n// the namespace for internal live events\r\ndrag.livekey = \"livedrag\";\r\n\r\n// new drop event add method\r\ndrag.add = function( obj ){ \r\n\t// call the old method\r\n\torigadd.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey );\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( !data.live && obj.selector ){\r\n\t\tdata.live = true;\r\n\t\t$event.add( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t}\r\n};\r\n\r\n// new drop event teardown method\r\ndrag.teardown = function(){ \r\n\t// call the old method\r\n\torigteardown.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey ) || {};\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( data.live ){\r\n\t\t// remove the \"live\" delegation\r\n\t\t$event.remove( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t\tdata.live = false;\r\n\t}\r\n};\r\n\r\n// identify potential delegate elements\r\ndrag.delegate = function( event ){\r\n\t// local refs\r\n\tvar elems = [], target, \r\n\t// element event structure\r\n\tevents = $.data( this, \"events\" ) || {};\r\n\t// query live events\r\n\t$.each( events || [], function( key, arr ){\r\n\t\t// no event type matches\r\n\t\tif ( key.indexOf(\"drag\") !== 0 )\r\n\t\t\treturn;\r\n\t\t$.each( arr || [], function( i, obj ){\r\n\t\t\t// locate the element to delegate\r\n\t\t\ttarget = $( event.target ).closest( obj.selector, event.currentTarget )[0];\r\n\t\t\t// no element found\r\n\t\t\tif ( !target ) \r\n\t\t\t\treturn;\r\n\t\t\t// add an event handler\r\n\t\t\t$event.add( target, obj.origType+'.'+drag.livekey, obj.origHandler || obj.handler, obj.data );\r\n\t\t\t// remember new elements\r\n\t\t\tif ( $.inArray( target, elems ) < 0 )\r\n\t\t\t\telems.push( target );\t\t\r\n\t\t});\r\n\t});\r\n\t// if there are no elements, break\r\n\tif ( !elems.length ) \r\n\t\treturn false;\r\n\t// return the matched results, and clenup when complete\t\t\r\n\treturn $( elems ).bind(\"dragend.\"+ drag.livekey, function(){\r\n\t\t$event.remove( this, \".\"+ drag.livekey ); // cleanup delegation\r\n\t});\r\n};\r\n\t\r\n})( jQuery );","/*! \n * jquery.event.drop - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2008-06-04 \n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// Events: drop, dropstart, dropend\n\n// add the jquery instance method\n$.fn.drop = function( str, arg, opts ){\n\t// figure out the event type\n\tvar type = typeof str == \"string\" ? str : \"\",\n\t// figure out the event handler...\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\n\t// fix the event type\n\tif ( type.indexOf(\"drop\") !== 0 ) \n\t\ttype = \"drop\"+ type;\n\t// were options passed\n\topts = ( str == fn ? arg : opts ) || {};\n\t// trigger or bind event handler\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\n};\n\n// DROP MANAGEMENT UTILITY\n// returns filtered drop target elements, caches their positions\n$.drop = function( opts ){ \n\topts = opts || {};\n\t// safely set new options...\n\tdrop.multi = opts.multi === true ? Infinity : \n\t\topts.multi === false ? 1 : !isNaN( opts.multi ) ? opts.multi : drop.multi;\n\tdrop.delay = opts.delay || drop.delay;\n\tdrop.tolerance = $.isFunction( opts.tolerance ) ? opts.tolerance : \n\t\topts.tolerance === null ? null : drop.tolerance;\n\tdrop.mode = opts.mode || drop.mode || 'intersect';\n};\n\n// local refs (increase compression)\nvar $event = $.event, \n$special = $event.special,\n// configure the drop special event\ndrop = $.event.special.drop = {\n\n\t// these are the default settings\n\tmulti: 1, // allow multiple drop winners per dragged element\n\tdelay: 20, // async timeout delay\n\tmode: 'overlap', // drop tolerance mode\n\t\t\n\t// internal cache\n\ttargets: [], \n\t\n\t// the key name for stored drop data\n\tdatakey: \"dropdata\",\n\t\t\n\t// prevent bubbling for better performance\n\tnoBubble: true,\n\t\n\t// count bound related events\n\tadd: function( obj ){ \n\t\t// read the interaction data\n\t\tvar data = $.data( this, drop.datakey );\n\t\t// count another realted event\n\t\tdata.related += 1;\n\t},\n\t\n\t// forget unbound related events\n\tremove: function(){\n\t\t$.data( this, drop.datakey ).related -= 1;\n\t},\n\t\n\t// configure the interactions\n\tsetup: function(){\n\t\t// check for related events\n\t\tif ( $.data( this, drop.datakey ) ) \n\t\t\treturn;\n\t\t// initialize the drop element data\n\t\tvar data = { \n\t\t\trelated: 0,\n\t\t\tactive: [],\n\t\t\tanyactive: 0,\n\t\t\twinner: 0,\n\t\t\tlocation: {}\n\t\t};\n\t\t// store the drop data on the element\n\t\t$.data( this, drop.datakey, data );\n\t\t// store the drop target in internal cache\n\t\tdrop.targets.push( this );\n\t},\n\t\n\t// destroy the configure interaction\t\n\tteardown: function(){ \n\t\tvar data = $.data( this, drop.datakey ) || {};\n\t\t// check for related events\n\t\tif ( data.related ) \n\t\t\treturn;\n\t\t// remove the stored data\n\t\t$.removeData( this, drop.datakey );\n\t\t// reference the targeted element\n\t\tvar element = this;\n\t\t// remove from the internal cache\n\t\tdrop.targets = $.grep( drop.targets, function( target ){ \n\t\t\treturn ( target !== element ); \n\t\t});\n\t},\n\t\n\t// shared event handler\n\thandler: function( event, dd ){ \n\t\t// local vars\n\t\tvar results, $targets;\n\t\t// make sure the right data is available\n\t\tif ( !dd ) \n\t\t\treturn;\n\t\t// handle various events\n\t\tswitch ( event.type ){\n\t\t\t// draginit, from $.event.special.drag\n\t\t\tcase 'mousedown': // DROPINIT >>\n\t\t\tcase 'touchstart': // DROPINIT >>\n\t\t\t\t// collect and assign the drop targets\n\t\t\t\t$targets =  $( drop.targets );\n\t\t\t\tif ( typeof dd.drop == \"string\" )\n\t\t\t\t\t$targets = $targets.filter( dd.drop );\n\t\t\t\t// reset drop data winner properties\n\t\t\t\t$targets.each(function(){\n\t\t\t\t\tvar data = $.data( this, drop.datakey );\n\t\t\t\t\tdata.active = [];\n\t\t\t\t\tdata.anyactive = 0;\n\t\t\t\t\tdata.winner = 0;\n\t\t\t\t});\n\t\t\t\t// set available target elements\n\t\t\t\tdd.droppable = $targets;\n\t\t\t\t// activate drop targets for the initial element being dragged\n\t\t\t\t$special.drag.hijack( event, \"dropinit\", dd ); \n\t\t\t\tbreak;\n\t\t\t// drag, from $.event.special.drag\n\t\t\tcase 'mousemove': // TOLERATE >>\n\t\t\tcase 'touchmove': // TOLERATE >>\n\t\t\t\tdrop.event = event; // store the mousemove event\n\t\t\t\tif ( !drop.timer )\n\t\t\t\t\t// monitor drop targets\n\t\t\t\t\tdrop.tolerate( dd ); \n\t\t\t\tbreak;\n\t\t\t// dragend, from $.event.special.drag\n\t\t\tcase 'mouseup': // DROP >> DROPEND >>\n\t\t\tcase 'touchend': // DROP >> DROPEND >>\n\t\t\t\tdrop.timer = clearTimeout( drop.timer ); // delete timer\t\n\t\t\t\tif ( dd.propagates ){\n\t\t\t\t\t$special.drag.hijack( event, \"drop\", dd ); \n\t\t\t\t\t$special.drag.hijack( event, \"dropend\", dd ); \n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t}\n\t},\n\t\t\n\t// returns the location positions of an element\n\tlocate: function( elem, index ){ \n\t\tvar data = $.data( elem, drop.datakey ),\n\t\t$elem = $( elem ), \n\t\tposi = $elem.offset() || {}, \n\t\theight = $elem.outerHeight(), \n\t\twidth = $elem.outerWidth(),\n\t\tlocation = { \n\t\t\telem: elem, \n\t\t\twidth: width, \n\t\t\theight: height,\n\t\t\ttop: posi.top, \n\t\t\tleft: posi.left, \n\t\t\tright: posi.left + width, \n\t\t\tbottom: posi.top + height\n\t\t};\n\t\t// drag elements might not have dropdata\n\t\tif ( data ){\n\t\t\tdata.location = location;\n\t\t\tdata.index = index;\n\t\t\tdata.elem = elem;\n\t\t}\n\t\treturn location;\n\t},\n\t\n\t// test the location positions of an element against another OR an X,Y coord\n\tcontains: function( target, test ){ // target { location } contains test [x,y] or { location }\n\t\treturn ( ( test[0] || test.left ) >= target.left && ( test[0] || test.right ) <= target.right\n\t\t\t&& ( test[1] || test.top ) >= target.top && ( test[1] || test.bottom ) <= target.bottom ); \n\t},\n\t\n\t// stored tolerance modes\n\tmodes: { // fn scope: \"$.event.special.drop\" object \n\t\t// target with mouse wins, else target with most overlap wins\n\t\t'intersect': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ event.pageX, event.pageY ] ) ? // check cursor\n\t\t\t\t1e9 : this.modes.overlap.apply( this, arguments ); // check overlap\n\t\t},\n\t\t// target with most overlap wins\t\n\t\t'overlap': function( event, proxy, target ){\n\t\t\t// calculate the area of overlap...\n\t\t\treturn Math.max( 0, Math.min( target.bottom, proxy.bottom ) - Math.max( target.top, proxy.top ) )\n\t\t\t\t* Math.max( 0, Math.min( target.right, proxy.right ) - Math.max( target.left, proxy.left ) );\n\t\t},\n\t\t// proxy is completely contained within target bounds\t\n\t\t'fit': function( event, proxy, target ){\n\t\t\treturn this.contains( target, proxy ) ? 1 : 0;\n\t\t},\n\t\t// center of the proxy is contained within target bounds\t\n\t\t'middle': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ proxy.left + proxy.width * .5, proxy.top + proxy.height * .5 ] ) ? 1 : 0;\n\t\t}\n\t},\t\n\t\n\t// sort drop target cache by by winner (dsc), then index (asc)\n\tsort: function( a, b ){\n\t\treturn ( b.winner - a.winner ) || ( a.index - b.index );\n\t},\n\t\t\n\t// async, recursive tolerance execution\n\ttolerate: function( dd ){\t\t\n\t\t// declare local refs\n\t\tvar i, drp, drg, data, arr, len, elem,\n\t\t// interaction iteration variables\n\t\tx = 0, ia, end = dd.interactions.length,\n\t\t// determine the mouse coords\n\t\txy = [ drop.event.pageX, drop.event.pageY ],\n\t\t// custom or stored tolerance fn\n\t\ttolerance = drop.tolerance || drop.modes[ drop.mode ];\n\t\t// go through each passed interaction...\n\t\tdo if ( ia = dd.interactions[x] ){\n\t\t\t// check valid interaction\n\t\t\tif ( !ia )\n\t\t\t\treturn; \n\t\t\t// initialize or clear the drop data\n\t\t\tia.drop = [];\n\t\t\t// holds the drop elements\n\t\t\tarr = []; \n\t\t\tlen = ia.droppable.length;\n\t\t\t// determine the proxy location, if needed\n\t\t\tif ( tolerance )\n\t\t\t\tdrg = drop.locate( ia.proxy ); \n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop each stored drop target\n\t\t\tdo if ( elem = ia.droppable[i] ){ \n\t\t\t\tdata = $.data( elem, drop.datakey );\n\t\t\t\tdrp = data.location;\n\t\t\t\tif ( !drp ) continue;\n\t\t\t\t// find a winner: tolerance function is defined, call it\n\t\t\t\tdata.winner = tolerance ? tolerance.call( drop, drop.event, drg, drp ) \n\t\t\t\t\t// mouse position is always the fallback\n\t\t\t\t\t: drop.contains( drp, xy ) ? 1 : 0; \n\t\t\t\tarr.push( data );\t\n\t\t\t} while ( ++i < len ); // loop \n\t\t\t// sort the drop targets\n\t\t\tarr.sort( drop.sort );\t\t\t\n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop through all of the targets again\n\t\t\tdo if ( data = arr[ i ] ){\n\t\t\t\t// winners...\n\t\t\t\tif ( data.winner && ia.drop.length < drop.multi ){\n\t\t\t\t\t// new winner... dropstart\n\t\t\t\t\tif ( !data.active[x] && !data.anyactive ){\n\t\t\t\t\t\t// check to make sure that this is not prevented\n\t\t\t\t\t\tif ( $special.drag.hijack( drop.event, \"dropstart\", dd, x, data.elem )[0] !== false ){ \t\n\t\t\t\t\t\t\tdata.active[x] = 1;\n\t\t\t\t\t\t\tdata.anyactive += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if false, it is not a winner\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata.winner = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// if it is still a winner\n\t\t\t\t\tif ( data.winner )\n\t\t\t\t\t\tia.drop.push( data.elem );\n\t\t\t\t}\n\t\t\t\t// losers... \n\t\t\t\telse if ( data.active[x] && data.anyactive == 1 ){\n\t\t\t\t\t// former winner... dropend\n\t\t\t\t\t$special.drag.hijack( drop.event, \"dropend\", dd, x, data.elem ); \n\t\t\t\t\tdata.active[x] = 0;\n\t\t\t\t\tdata.anyactive -= 1;\n\t\t\t\t}\n\t\t\t} while ( ++i < len ); // loop \t\t\n\t\t} while ( ++x < end ) // loop\n\t\t// check if the mouse is still moving or is idle\n\t\tif ( drop.last && xy[0] == drop.last.pageX && xy[1] == drop.last.pageY ) \n\t\t\tdelete drop.timer; // idle, don't recurse\n\t\telse  // recurse\n\t\t\tdrop.timer = setTimeout(function(){ \n\t\t\t\tdrop.tolerate( dd ); \n\t\t\t}, drop.delay );\n\t\t// remember event, to compare idleness\n\t\tdrop.last = drop.event; \n\t}\n\t\n};\n\n// share the same special event configuration with related events...\n$special.dropinit = $special.dropstart = $special.dropend = drop;\n\n})(jQuery); // confine scope\t","/*! \n * jquery.event.drop.live - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2010-06-07\n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2, event.drop 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// local refs (increase compression)\nvar $event = $.event,\n// ref the drop special event config\ndrop = $event.special.drop,\n// old drop event add method\norigadd = drop.add,\n// old drop event teradown method\norigteardown = drop.teardown;\n\n// allow events to bubble for delegation\ndrop.noBubble = false;\n\n// the namespace for internal live events\ndrop.livekey = \"livedrop\";\n\n// new drop event add method\ndrop.add = function( obj ){ \n\t// call the old method\n\torigadd.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey );\n\t// bind the live \"dropinit\" delegator\n\tif ( !data.live && obj.selector ){\n\t\tdata.live = true;\n\t\t$event.add( this, \"dropinit.\"+ drop.livekey, drop.delegate );\n\t}\n};\n\n// new drop event teardown method\ndrop.teardown = function(){ \n\t// call the old method\n\torigteardown.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey ) || {};\n\t// remove the live \"dropinit\" delegator\n\tif ( data.live ){\n\t\t// remove the \"live\" delegation\n\t\t$event.remove( this, \"dropinit\", drop.delegate );\n\t\tdata.live = false;\n\t}\n};\n\n// identify potential delegate elements\ndrop.delegate = function( event, dd ){\n\t// local refs\n\tvar elems = [], $targets, \n\t// element event structure\n\tevents = $.data( this, \"events\" ) || {};\n\t// query live events\n\t$.each( events || [], function( key, arr ){\n\t\t// no event type matches\n\t\tif ( key.indexOf(\"drop\") !== 0 )\n\t\t\treturn;\n\t\t$.each( arr, function( i, obj ){\n\t\t\t// locate the elements to delegate\n\t\t\t$targets = $( event.currentTarget ).find( obj.selector );\n\t\t\t// no element found\n\t\t\tif ( !$targets.length ) \n\t\t\t\treturn;\n\t\t\t// take each target...\n\t\t\t$targets.each(function(){\n\t\t\t\t// add an event handler\n\t\t\t\t$event.add( this, obj.origType +'.'+ drop.livekey, obj.origHandler || obj.handler, obj.data );\n\t\t\t\t// remember new elements\n\t\t\t\tif ( $.inArray( this, elems ) < 0 )\n\t\t\t\t\telems.push( this );\t\n\t\t\t});\t\n\t\t});\n\t});\n\t// may not exist when artifically triggering dropinit event\n\tif ( dd )\n\t\t// clean-up after the interaction ends\n\t\t$event.add( dd.drag, \"dragend.\"+drop.livekey, function(){\n\t\t\t$.each( elems.concat( this ), function(){\n\t\t\t\t$event.remove( this, '.'+ drop.livekey );\t\t\t\t\t\t\t\n\t\t\t});\n\t\t});\n\t//drop.delegates.push( elems );\n\treturn elems.length ? $( elems ) : false;\n};\n\n})( jQuery ); // confine scope\t","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst errors_1 = require(\"./errors\");\nconst component_panel_1 = require(\"./component-panel\");\nconst style_1 = require(\"./style\");\nconst component_1 = require(\"./component\");\nconst components_1 = require(\"./components\");\n/**\n * \n * 1. \n * 2. \n */\nclass ComponentWrapper extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidCatch(error, info) {\n        // Display fallback UI\n        this.setState({ error });\n        // You can also log the error to an error reporting service\n        //   logErrorToMyService(error, info);\n        debugger;\n    }\n    designtimeBehavior(element, attr) {\n        if (!element)\n            throw errors_1.Errors.argumentNull('element');\n        if (!attr)\n            throw errors_1.Errors.argumentNull('args');\n        if (element.getAttribute('data-behavior')) {\n            return;\n        }\n        element.setAttribute('data-behavior', 'behavior');\n        let designer = this.props.designer;\n        console.assert(attr.container != null);\n        console.assert(attr.movable != null);\n        if (attr.container) {\n            ComponentWrapper.enableAppendDroppable(element, designer);\n        }\n        if (attr.movable) {\n            console.assert(element != null);\n            ComponentWrapper.draggable(designer, element);\n            if (this.handler != null)\n                ComponentWrapper.draggable(designer, element, this.handler);\n        }\n        else {\n            element.onclick = (ev) => ComponentWrapper.invokeOnClick(ev, designer, element);\n        }\n    }\n    /**\n     * \n     */\n    static enableAppendDroppable(element, designer) {\n        console.assert(element != null);\n        element.addEventListener('dragover', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            let componentName = event.dataTransfer.getData(components_1.constants.componentData);\n            if (componentName)\n                event.dataTransfer.dropEffect = \"copy\";\n            else\n                event.dataTransfer.dropEffect = \"move\";\n            console.log(`dragover: left:${event['layerX']} top:${event['layerX']}`);\n        });\n        element.addEventListener(\"drop\", function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            let args1 = arguments[1];\n            if (!event.dataTransfer)\n                return;\n            let ctrl = component_panel_1.ComponentPanel.getComponentData(event.dataTransfer);\n            if (!ctrl)\n                return;\n            ctrl.props.style = ctrl.props.style || {};\n            designer.pageData.props.style = designer.pageData.props.style || {};\n            if (!ctrl.props.style.position) {\n                ctrl.props.style.position = designer.pageData.props.style.position;\n            }\n            let pos = component_panel_1.ComponentPanel.mouseInnerPosition(event.dataTransfer);\n            console.assert(pos != null);\n            if (ctrl.props.style.position == 'absolute') {\n                ctrl.props.style.left = event['layerX'] - pos.x;\n                ctrl.props.style.top = event['layerY'] - pos.y;\n            }\n            designer.appendComponent(element.id, ctrl);\n        });\n    }\n    static isResizeHandleClassName(className) {\n        let classNames = [\n            'resize_handle NE', 'resize_handle NN', 'resize_handle NW',\n            'resize_handle WW', 'resize_handle EE', 'resize_handle SW',\n            'resize_handle SS', 'resize_handle SE',\n        ];\n        return classNames.indexOf(className) >= 0;\n    }\n    static draggable(designer, element, handler) {\n        if (!designer)\n            throw errors_1.Errors.argumentNull('designer');\n        if (!element)\n            throw errors_1.Errors.argumentNull('element');\n        console.assert(element.id != \"\");\n        handler = handler || element;\n        let componentId = element.id;\n        console.assert(componentId != \"\");\n        let startPos;\n        let rect;\n        let dragStart;\n        $(handler)\n            .drag(\"init\", function (ev) {\n            startPos = $(element).position();\n            if ($(this).is(`.${style_1.classNames.componentSelected}`))\n                return $(`.${style_1.classNames.componentSelected}`);\n        })\n            .drag('start', function (ev, dd) {\n            dd.attr = $(ev.target).prop(\"className\");\n            dd.width = $(this).width();\n            dd.height = $(this).height();\n            dd.sourceElement = element;\n            dragStart = Date.now();\n        })\n            .drag(function (ev, dd) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            console.log(`drop:`);\n            console.log(dd.drop);\n            rect = {};\n            if (dd.attr.indexOf(\"E\") > -1) {\n                rect.width = Math.max(32, dd.width + dd.deltaX);\n            }\n            if (dd.attr.indexOf(\"S\") > -1) {\n                rect.height = Math.max(32, dd.height + dd.deltaY);\n            }\n            if (dd.attr.indexOf(\"W\") > -1) {\n                rect.width = Math.max(32, dd.width - dd.deltaX);\n                setLeft(dd);\n            }\n            if (dd.attr.indexOf(\"N\") > -1) {\n                rect.height = Math.max(32, dd.height - dd.deltaY);\n                setTop(dd);\n            }\n            if (dd.attr.indexOf(\"WW\") >= 0)\n                setLeft(dd);\n            if (dd.attr.indexOf(\"NE\") >= 0 || dd.attr.indexOf(\"NW\") >= 0 || dd.attr.indexOf(\"SW\") >= 0)\n                setPosition(dd);\n            if (dd.attr.indexOf(\"NN\") >= 0)\n                setTop(dd);\n            if (dd.attr.indexOf(\"drag\") > -1) {\n                rect.top = dd.offsetY;\n                rect.left = dd.offsetX;\n            }\n            if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n                setPosition(dd);\n            }\n            if (dd.attr)\n                $(this).css(rect);\n        }, { click: true })\n            .drag('end', function (ev, dd) {\n            let interval = Date.now() - dragStart;\n            ComponentWrapper.isDrag = interval >= 300;\n            if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n                let left = startPos.left + dd.deltaX;\n                let top = startPos.top + dd.deltaY;\n                designer.setComponentPosition(element.id, { left, top });\n                element.style.transform = '';\n            }\n            else {\n                let left, top;\n                if (dd.attr.indexOf(\"W\") > -1)\n                    left = startPos.left + dd.deltaX;\n                if (dd.attr.indexOf(\"N\") > -1)\n                    top = startPos.top + dd.deltaY;\n                element.style.transform = '';\n                designer.setComponentPosition(element.id, { left, top });\n                designer.setComponentSize(componentId, rect);\n            }\n        })\n            .click((ev) => {\n            ComponentWrapper.invokeOnClick(ev, designer, element);\n        });\n        let setPosition = (dd) => {\n            console.log(['dd.offsetX, dd.offsetY', dd.offsetX, dd.offsetY]);\n            console.log(dd);\n            element.style.transform = `translate(${dd.deltaX}px,${dd.deltaY}px)`;\n        };\n        let setTop = (dd) => {\n            element.style.transform = `translateY(${dd.deltaY}px)`;\n        };\n        let setLeft = (dd) => {\n            element.style.transform = `translateX(${dd.deltaX}px)`;\n        };\n    }\n    static invokeOnClick(ev, designer, element) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        if (ComponentWrapper.isDrag) {\n            ComponentWrapper.isDrag = false;\n            return;\n        }\n        let elementID = element.id;\n        if (!ev.ctrlKey) {\n            designer.selectComponent(element.id);\n            return;\n        }\n        let selectedControlIds = designer.selectedComponentIds;\n        console.assert(elementID != \"\");\n        if (selectedControlIds.indexOf(elementID) >= 0) {\n            selectedControlIds = selectedControlIds.filter(o => o != elementID);\n        }\n        else {\n            selectedControlIds.push(elementID);\n        }\n        designer.selectComponent(selectedControlIds);\n    }\n    componentDidMount() {\n        if (!this.element) {\n            return;\n        }\n        let attr = this.props.source.attr;\n        this.designtimeBehavior(this.element, attr);\n    }\n    render() {\n        let { error } = this.state || {};\n        if (error) {\n            return React.createElement(\"div\", { className: \"error\" },\n                React.createElement(\"div\", null, error.message),\n                React.createElement(\"div\", null, error.stack));\n        }\n        let attr = this.props.source.attr;\n        let shouldWrapper = attr.resize || (typeof this.props.source.type != 'string' && this.props.source.type != components_1.MasterPage);\n        if (!shouldWrapper) {\n            return this.renderWidthoutWrapper();\n        }\n        let props = this.props.source.props;\n        let style = props.style = JSON.parse(JSON.stringify(props.style || {})); //  style\n        let { top, left, position, width, height, display, visibility } = style;\n        let className = style_1.appendClassName(props.className || '', style_1.classNames.componentWrapper);\n        className = props.selected ? style_1.appendClassName(className, style_1.classNames.componentSelected) : className;\n        let wrapperProps = {\n            id: props.id,\n            className,\n            style: { top, left, position, width, height, display, visibility },\n            ref: (e) => this.element = e || this.element\n        };\n        let move_handle = props.selected && attr.showHandler ? React.createElement(\"div\", { className: \"move_handle\", style: {}, ref: e => this.handler = e || this.handler }) : null;\n        let showResizeHandle = attr.resize && props.style.position == 'absolute' && props.selected;\n        let source = this.props.source;\n        if (props.style) {\n            delete props.style.left;\n            delete props.style.top;\n            delete props.style.position;\n            if (wrapperProps.style.width && wrapperProps.style.width != 'unset')\n                props.style.width = '100%';\n            if (wrapperProps.style.height && wrapperProps.style.height != 'unset')\n                props.style.height = '100%';\n        }\n        // source.props.ref = function (e) {\n        // };\n        return React.createElement(component_1.ComponentWrapperContext.Provider, { value: this },\n            React.createElement(\"div\", Object.assign({}, wrapperProps),\n                move_handle,\n                showResizeHandle ?\n                    React.createElement(React.Fragment, null,\n                        React.createElement(\"div\", { className: \"resize_handle NE\" }),\n                        React.createElement(\"div\", { className: \"resize_handle NN\" }),\n                        React.createElement(\"div\", { className: \"resize_handle NW\" }),\n                        React.createElement(\"div\", { className: \"resize_handle WW\" }),\n                        React.createElement(\"div\", { className: \"resize_handle EE\" }),\n                        React.createElement(\"div\", { className: \"resize_handle SW\" }),\n                        React.createElement(\"div\", { className: \"resize_handle SS\" }),\n                        React.createElement(\"div\", { className: \"resize_handle SE\" })) : null,\n                this.createRawElement(source.type, source.props, source.children)));\n    }\n    renderWidthoutWrapper() {\n        let { type, props, children } = this.props.source;\n        let ref = props.ref;\n        props.ref = (e) => {\n            if (typeof ref == \"function\")\n                ref(e);\n            if (!e)\n                return;\n            if (e.tagName) {\n                let attr = this.props.source.attr;\n                this.designtimeBehavior(e, attr);\n                return;\n            }\n        };\n        if (props.selected) {\n            props.className = style_1.appendClassName(props.className || '', style_1.classNames.componentSelected);\n        }\n        let element = this.createRawElement(type, props, children);\n        return React.createElement(component_1.ComponentWrapperContext.Provider, { value: this }, element);\n    }\n    createRawElement(type, props, children) {\n        let isEmptyElement = (children || []).length == 0;\n        if (isEmptyElement) {\n            let emtpy = this.designTimeEmptyElement(type, props);\n            if (emtpy != null)\n                children = [emtpy];\n        }\n        return React.createElement(type, props, ...children);\n    }\n    designTimeEmptyElement(type, props) {\n        if (type == 'input' || type == 'img' || type == 'meta' || type == 'link')\n            return null;\n        let typename = typeof type == 'string' ? type : type.name;\n        let text = this.designTimeText(typename, props);\n        return text;\n    }\n    designTimeText(type, props) {\n        let text = props.text;\n        if (text) {\n            return text;\n        }\n        text = text || props.name || type;\n        return text;\n    }\n}\nComponentWrapper.isDrag = false;\nexports.ComponentWrapper = ComponentWrapper;\n//# sourceMappingURL=component-wrapper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst errors_1 = require(\"./errors\");\nconst style_1 = require(\"../style\");\nconst component_panel_1 = require(\"../component-panel\");\nconst master_page_1 = require(\"./master-page\");\nconst component_1 = require(\"../component\");\nconst common_1 = require(\"./common\");\n/**\n * \n */\nclass PlaceHolder extends React.Component {\n    constructor(props) {\n        super(props);\n        if (!this.props.id) {\n            throw errors_1.Errors.placeHolderIdNull();\n        }\n    }\n    /**\n     * \n     */\n    enableAppendDroppable(element, master) {\n        if (element.getAttribute('enable-append-droppable'))\n            return;\n        element.setAttribute('enable-append-droppable', 'true');\n        console.assert(element != null);\n        element.addEventListener('dragover', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            element.className = style_1.appendClassName(element.className || '', 'active');\n            let componentName = event.dataTransfer.getData(common_1.constants.componentData);\n            if (componentName)\n                event.dataTransfer.dropEffect = \"copy\";\n            else\n                event.dataTransfer.dropEffect = \"move\";\n            console.log(`dragover: left:${event.layerX} top:${event.layerX}`);\n        });\n        let func = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            element.className = style_1.removeClassName(element.className, 'active');\n        };\n        element.addEventListener('dragleave', func);\n        element.addEventListener('dragend', func);\n        element.addEventListener('dragexit', func);\n        element.ondrop = (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            element.className = style_1.removeClassName(element.className, 'active');\n            let ctrl;\n            if (event.dataTransfer)\n                ctrl = component_panel_1.ComponentPanel.getComponentData(event.dataTransfer);\n            if (!ctrl)\n                return;\n            console.assert(this.props.id != null);\n            console.assert(this.designer != null);\n            ctrl.props.parentId = this.props.id;\n            console.assert(master != null, 'host is null');\n            this.designer.appendComponent(master.props.id, ctrl);\n        };\n    }\n    enableMoveDroppable(element, host) {\n        if (element.getAttribute('enable-move-droppable'))\n            return;\n        element.setAttribute('enable-move-droppable', 'true');\n        $(element)\n            .drop('start', (event, dd) => {\n            if (dd.sourceElement.id == this.wraper.props.source.props.id)\n                return;\n            style_1.appendClassName(element, 'active');\n        })\n            .drop('drop', (event, dd) => {\n            if (dd.sourceElement.id == this.wraper.props.source.props.id)\n                return;\n            let componentData = this.designer.findComponentData(dd.sourceElement.id);\n            console.assert(componentData != null);\n            let propName = 'parentId';\n            this.designer.moveComponent(dd.sourceElement.id, host.props.id);\n            this.designer.updateComponentProps({\n                componentId: \"string\", propName: \"string\", value: \"any\"\n            }); //dd.sourceElement.id, propName, this.props.id\n        })\n            .drop('end', (event, dd) => {\n            if (dd.sourceElement.id == this.wraper.props.source.props.id)\n                return;\n            style_1.removeClassName(element, 'active');\n        });\n    }\n    render() {\n        let empty = this.props.empty || React.createElement(\"div\", { key: common_1.guid(), className: \"empty\" }, \"\\u53EF\\u4EE5\\u62D6\\u62C9\\u63A7\\u4EF6\\u5230\\u8FD9\\u91CC\");\n        return React.createElement(master_page_1.MasterPageContext.Consumer, null, (args) => {\n            let master = args.master;\n            if (master == null)\n                throw errors_1.Errors.canntFindMasterPage(this.props.id);\n            let children = [];\n            if (master.props && master.props.children) {\n                let arr;\n                if (Array.isArray(master.props.children)) {\n                    arr = master.props.children;\n                }\n                else {\n                    arr = [master.props.children];\n                }\n                children = arr.filter((o) => o.props.parentId != null && o.props.parentId == this.props.id);\n            }\n            return React.createElement(component_1.DesignerContext.Consumer, null, args => React.createElement(component_1.ComponentWrapperContext.Consumer, null, wraper => {\n                this.wraper = wraper;\n                console.assert(this.wraper != null);\n                if (args.designer != null && children.length == 0) {\n                    children = [empty];\n                }\n                let element = React.createElement(React.Fragment, null,\n                    this.props.children,\n                    children);\n                if (args.designer) {\n                    this.designer = args.designer;\n                    element = React.createElement(\"div\", { key: common_1.guid(), className: style_1.classNames.placeholder, ref: e => {\n                            if (!e)\n                                return;\n                            this.element = e;\n                            this.enableAppendDroppable(e, master);\n                            this.enableMoveDroppable(e, master);\n                        } }, element);\n                }\n                return element;\n            }));\n        });\n    }\n}\nexports.PlaceHolder = PlaceHolder;\ncomponent_1.Component.register(common_1.ComponentTypes.PlaceHolder, PlaceHolder);\n//# sourceMappingURL=place-holder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Errors {\n    static propCanntNull(componentName, property) {\n        let msg = `${componentName} property ${property} cannt be null or empty.`;\n        return new Error(msg);\n    }\n    static placeHolderIdNull() {\n        let msg = `Place holder property id cannt be null or empty.`;\n        return new Error(msg);\n    }\n    static canntFindMasterPage(componentId) {\n        return new Error(`Can not find master page for component container ${componentId}.`);\n    }\n}\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst component_1 = require(\"../component\");\nconst common_1 = require(\"./common\");\nclass Text extends React.Component {\n    render() {\n        return React.createElement(\"span\", null, this.props.text);\n    }\n}\nexports.Text = Text;\ncomponent_1.Component.register(common_1.ComponentTypes.Text, Text);\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst property_editor_1 = require(\"./property-editor\");\nconst style_1 = require(\"./style\");\nclass EditorPanel extends React.Component {\n    // private designerComponentChanged: (args: any) => void\n    constructor(props) {\n        super(props);\n        this.state = { componentDatas: [] };\n        // this.designerComponentChanged = () => {\n        //     console.assert(this.designer != null)\n        //     this.setState({ designer: this.designer })\n        // }\n    }\n    get designer() {\n        return this._designer;\n    }\n    // set designer(value) {\n    //     if (this._designer) {\n    //         this._designer.componentRemoved.remove(this.designerComponentChanged)\n    //         this._designer.componentAppend.remove(this.designerComponentChanged)\n    //         this._designer.componentUpdated.remove(this.designerComponentChanged)\n    //         this._designer.componentSelected.remove(this.designerComponentChanged)\n    //     }\n    //     if (value) {\n    //         value.componentRemoved.add(this.designerComponentChanged)\n    //         value.componentAppend.add(this.designerComponentChanged)\n    //         value.componentUpdated.add(this.designerComponentChanged)\n    //         value.componentSelected.add(this.designerComponentChanged)\n    //     }\n    //     this._designer = value;\n    //     this.setState({ designer: value });\n    // }\n    render() {\n        let { empty } = this.props;\n        empty = empty || React.createElement(\"div\", { className: \"empty\" }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n        let { designer } = this.props;\n        return React.createElement(\"div\", { className: `${style_1.classNames.editorPanel} ${this.props.className || \"\"}`, ref: (e) => this.element = e || this.element },\n            React.createElement(property_editor_1.PropertyEditor, { designer: designer, ref: e => this.editor = e || this.editor, empty: empty, customRender: this.props.customRender }));\n    }\n}\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map","\"use strict\";\n/*******************************************************************************\n * Copyright (C) maishu All rights reserved.\n *\n * HTML \n *\n * : \n * : 2018/5/30\n *\n *    http://www.cnblogs.com/ansiboy/\n * GITHUB:     http://github.com/ansiboy\n * QQ   119038574\n *\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst component_1 = require(\"./component\");\nconst common_1 = require(\"./common\");\nconst errors_1 = require(\"./errors\");\nclass PropertyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this._element = null;\n        this.state = { groupedEditors: [] };\n        this.props.designer.componentSelected.add(() => {\n            let editors = this.getEditors(this.props.designer);\n            this.setState({ groupedEditors: editors });\n        });\n    }\n    // static getDerivedStateFromProps(props: EditorProps, state: EditorState): Partial<EditorState> {\n    //     return { designer: props.designer };\n    // }\n    getEditors(designer) {\n        if (designer == null) {\n            return [];\n        }\n        // \n        let commonPropEditorInfos = [];\n        let selectedComponents = designer.selectedComponents;\n        for (let i = 0; i < selectedComponents.length; i++) {\n            let componentData = selectedComponents[i];\n            let propEditorInfos = component_1.Component.getPropEditors(componentData);\n            if (i == 0) {\n                commonPropEditorInfos = propEditorInfos || [];\n            }\n            else {\n                let items = [];\n                commonPropEditorInfos.forEach(propInfo1 => {\n                    propEditorInfos.forEach(propInfo2 => {\n                        let propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n                        let propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n                        if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                            items.push(propInfo1);\n                        }\n                    });\n                });\n                commonPropEditorInfos = items;\n            }\n        }\n        // \n        let commonFlatProps;\n        for (let i = 0; i < selectedComponents.length; i++) {\n            let control = selectedComponents[i];\n            let controlProps = Object.assign({}, control.props);\n            delete controlProps.children;\n            // controlProps = this.flatProps(controlProps)\n            if (i == 0) {\n                commonFlatProps = controlProps;\n            }\n            else {\n                let obj = {};\n                for (let key in commonFlatProps) {\n                    if (commonFlatProps[key] == controlProps[key])\n                        obj[key] = controlProps[key];\n                }\n                commonFlatProps = obj;\n            }\n        }\n        let editors = [];\n        for (let i = 0; i < commonPropEditorInfos.length; i++) {\n            let propEditorInfo = commonPropEditorInfos[i];\n            let propName = propEditorInfo.propName;\n            ;\n            let editorType = propEditorInfo.editorType;\n            let value = this.propValue(propName, commonFlatProps);\n            let editorProps = {\n                value: value,\n                editComponents: selectedComponents,\n                updateComponentProp: (value) => {\n                    let componentProps = selectedComponents.map(o => ({\n                        componentId: o.props.id, propName: propEditorInfo.propName, value\n                    }));\n                    designer.updateComponentProps(componentProps);\n                }\n            };\n            let editor = React.createElement(editorType, editorProps);\n            editors.push({ prop: propEditorInfo.propName, editor, group: propEditorInfo.group });\n        }\n        return editors;\n    }\n    propValue(propName, props) {\n        if (!propName)\n            throw errors_1.Errors.argumentNull(\"propName\");\n        if (!props)\n            throw errors_1.Errors.argumentNull(\"props\");\n        let navPropsNames = propName.split(\".\");\n        let obj = props;\n        for (let i = 0; i < navPropsNames.length; i++) {\n            obj = obj[navPropsNames[i]];\n            if (obj == null)\n                return null;\n        }\n        return obj;\n    }\n    render() {\n        let { designer } = this.props;\n        let editors = this.state.groupedEditors; //this.getEditors(designer)\n        if (editors.length == 0) {\n            let empty = this.props.empty;\n            return React.createElement(\"div\", { className: \"text-center\" }, empty);\n        }\n        if (this.props.customRender) {\n            let items = editors.map(o => Object.assign({ displayName: common_1.proptDisplayNames[o.prop] || o.prop }, o));\n            let r = this.props.customRender(designer.selectedComponents, items);\n            if (r != null) {\n                return r;\n            }\n        }\n        let groupEditorsArray = [];\n        for (let i = 0; i < editors.length; i++) {\n            let group = editors[i].group || '';\n            let groupEditors = groupEditorsArray.filter(o => o.group == group)[0];\n            if (groupEditors == null) {\n                groupEditors = { group: editors[i].group, editors: [] };\n                groupEditorsArray.push(groupEditors);\n            }\n            groupEditors.editors.push({ prop: editors[i].prop, editor: editors[i].editor });\n        }\n        return React.createElement(React.Fragment, null, groupEditorsArray.map((g) => React.createElement(\"div\", { key: g.group, className: \"panel panel-default\" },\n            g.group ? React.createElement(\"div\", { className: \"panel-heading\" }, common_1.proptDisplayNames[g.group] || g.group) : null,\n            React.createElement(\"div\", { className: \"panel-body\" }, g.editors.map((o, i) => React.createElement(\"div\", { key: o.prop, className: \"form-group clearfix\" },\n                React.createElement(\"label\", null, common_1.proptDisplayNames[o.prop] || o.prop),\n                React.createElement(\"div\", { className: \"control\" },\n                    React.createElement(ErrorBoundary, null, o.editor))))))));\n    }\n    get element() {\n        return this._element;\n    }\n}\nexports.PropertyEditor = PropertyEditor;\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    componentDidCatch(error, info) {\n        // Display fallback UI\n        this.setState({ error });\n        // You can also log the error to an error reporting service\n        //   logErrorToMyService(error, info);\n        debugger;\n    }\n    render() {\n        let { error } = this.state || {};\n        if (error) {\n            // You can render any custom fallback UI\n            return React.createElement(\"div\", { className: \"error\" },\n                React.createElement(\"div\", null, error.message),\n                React.createElement(\"div\", null, error.stack));\n        }\n        return this.props.children;\n    }\n}\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=property-editor.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nclass PropEditor extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    static dropdown(items, valueType) {\n        return dropdown(items, valueType);\n    }\n    static textInput() {\n        return TextInput;\n    }\n}\nexports.PropEditor = PropEditor;\nclass TextInput extends PropEditor {\n    render() {\n        let { value } = this.props;\n        return React.createElement(\"input\", { className: 'form-control', value: value || '', onChange: e => {\n                // this.setState({ value: e.target.value })\n                this.props.updateComponentProp(e.target.value);\n            } });\n    }\n}\nexports.TextInput = TextInput;\nfunction dropdown(items, valueType) {\n    let itemsPromise;\n    let textValues = [];\n    if (valueType == null && Array.isArray(items)) {\n        valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n        for (let i = 0; i < items.length; i++) {\n            textValues[i] = { text: items[i], value: items[i] };\n        }\n    }\n    else if (valueType == null) {\n        valueType = \"string\";\n        let propNames = Object.getOwnPropertyNames(items);\n        for (let i = 0; i < propNames.length; i++) {\n            textValues[i] = { text: items[propNames[i]], value: propNames[i] };\n        }\n    }\n    else if (Array.isArray(items)) {\n        textValues = items;\n    }\n    else {\n        itemsPromise = items;\n    }\n    class Dropdown extends PropEditor {\n        constructor(props) {\n            super(props);\n            this.state = {};\n        }\n        componentDidMount() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (itemsPromise) {\n                    let items = yield itemsPromise;\n                    this.setState({ items });\n                }\n            });\n        }\n        render() {\n            let { items } = this.state;\n            let { value } = this.props;\n            items = items || textValues;\n            return React.createElement(\"select\", { className: 'form-control', value: value == null ? \"\" : value, onChange: e => {\n                    let textValue = e.target.value;\n                    if (valueType == \"number\") {\n                        let integerRegex = /^\\d+$/;\n                        let floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n                        if (integerRegex.test(textValue))\n                            value = parseInt(textValue);\n                        else if (floatRegex.test(textValue))\n                            value = parseFloat(textValue);\n                        else\n                            value = null;\n                    }\n                    else {\n                        value = textValue;\n                    }\n                    this.props.updateComponentProp(value);\n                } }, items.map(o => React.createElement(\"option\", { key: o.value, value: o.value }, o.text)));\n        }\n    }\n    return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**  */\nclass ComponentFactory {\n}\nexports.ComponentFactory = ComponentFactory;\n//# sourceMappingURL=component-factory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_1 = require(\"./errors\");\nconst maishu_toolkit_1 = require(\"maishu-toolkit\");\nconst common_1 = require(\"./common\");\nclass ComponentDataHandler {\n    constructor(componentData) {\n        this._components = {};\n        this.componentSelected = maishu_toolkit_1.Callback.create();\n        this.componentRemoved = maishu_toolkit_1.Callback.create();\n        this.componentAppend = maishu_toolkit_1.Callback.create();\n        this.componentUpdated = maishu_toolkit_1.Callback.create();\n        this._pageData = componentData;\n        ComponentDataHandler.initPageData(this._pageData, this._components);\n    }\n    static initPageData(pageData, components) {\n        if (pageData == null) {\n            return;\n        }\n        pageData.children = pageData.children || [];\n        ComponentDataHandler.nameComponent(pageData);\n        ComponentDataHandler.setComponetRefProp(pageData, components);\n    }\n    /**  */\n    get selectedComponents() {\n        let arr = new Array();\n        let stack = new Array();\n        stack.push(this._pageData);\n        while (stack.length > 0) {\n            let item = stack.pop();\n            if (item.props != null && item.props.selected == true)\n                arr.push(item);\n            let children = common_1.translateComponentDataChildren(item.children || []);\n            for (let i = 0; i < children.length; i++)\n                stack.push(children[i]);\n        }\n        return arr;\n    }\n    /**  */\n    get selectedComponentIds() {\n        return this.selectedComponents.map(o => o.props.id);\n    }\n    /**  */\n    get components() {\n        return this._components;\n    }\n    get pageData() {\n        return this._pageData;\n    }\n    /**\n     * \n     * @param componentId \n     * @param parentId \n     * @param beforeChildId \n     */\n    moveComponent(componentId, parentId, childComponentIndex) {\n        let component = this.findComponentData(componentId);\n        if (component == null)\n            throw new Error(`Cannt find component by id ${componentId}`);\n        console.assert(component != null, `Cannt find component by id ${componentId}`);\n        let pageData = this.pageData;\n        console.assert(pageData.children != null);\n        let children = common_1.translateComponentDataChildren(pageData.children);\n        this.removeComponentFrom(componentId, children);\n        this.appendComponent(parentId, component, childComponentIndex);\n    }\n    updateComponentProps(componentProps) {\n        let componentDatas = [];\n        for (let i = 0; i < componentProps.length; i++) {\n            let { componentId, propName, value } = componentProps[i];\n            let componentData = this.findComponentData(componentId);\n            if (componentData == null)\n                continue;\n            let navPropsNames = propName.split(\".\");\n            console.assert(componentData != null);\n            console.assert(navPropsNames != null, 'props is null');\n            componentData.props = componentData.props || {};\n            let obj = componentData.props;\n            for (let i = 0; i < navPropsNames.length - 1; i++) {\n                obj = obj[navPropsNames[i]] = obj[navPropsNames[i]] || {};\n            }\n            obj[navPropsNames[navPropsNames.length - 1]] = value;\n            componentDatas.push(componentData);\n        }\n        this.componentUpdated.fire(componentDatas);\n    }\n    findComponentData(componentId) {\n        let pageData = this._pageData;\n        if (!pageData)\n            throw errors_1.Errors.pageDataIsNull();\n        // let stack = new Array<ComponentData>();\n        // stack.push(pageData);\n        // while (stack.length > 0) {\n        //     let item = stack.pop();\n        //     if (item == null)\n        //         continue\n        //     if (item.props.id == componentId)\n        //         return item;\n        //     let children = (item.children || []).filter(o => typeof o == 'object') as ComponentData[]\n        //     stack.push(...children);\n        // }\n        let componentDatas = ComponentDataHandler.travelComponentData(pageData, (item) => item.props.id == componentId);\n        return componentDatas[0];\n    }\n    removeComponentFrom(controlId, collection) {\n        let controlIndex = null;\n        for (let i = 0; i < collection.length; i++) {\n            if (controlId == collection[i].props.id) {\n                controlIndex = i;\n                break;\n            }\n        }\n        if (controlIndex == null) {\n            for (let i = 0; i < collection.length; i++) {\n                let o = collection[i];\n                let children = common_1.translateComponentDataChildren(o.children);\n                if (children && children.length > 0) {\n                    let isRemoved = this.removeComponentFrom(controlId, children);\n                    if (isRemoved) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        if (controlIndex == 0) {\n            collection.shift();\n        }\n        else if (controlIndex == collection.length - 1) {\n            collection.pop();\n        }\n        else {\n            collection.splice(controlIndex, 1);\n        }\n        return true;\n    }\n    static travelComponentData(pageData, filter) {\n        let stack = new Array();\n        stack.push(pageData);\n        let r = [];\n        // return new Promise((resolve, reject) => {\n        filter = filter || (() => true);\n        while (stack.length > 0) {\n            let item = stack.shift();\n            if (filter(item)) {\n                r.push(item);\n            }\n            //===============================================\n            // , \n            let children = (item.children || []).filter(o => typeof o == 'object');\n            //===============================================\n            stack.push(...children);\n        }\n        return r;\n    }\n    /**\n     * \n     * @param parentId \n     * @param componentData \n     * @param componentIndex \n     */\n    appendComponent(parentId, componentData, componentIndex) {\n        if (!parentId)\n            throw errors_1.Errors.argumentNull('parentId');\n        if (!componentData)\n            throw errors_1.Errors.argumentNull('childComponent');\n        ComponentDataHandler.nameComponent(componentData);\n        let parentControl = this.findComponentData(parentId);\n        if (parentControl == null)\n            throw new Error('Parent is not exists');\n        console.assert(parentControl != null);\n        parentControl.children = parentControl.children || [];\n        if (componentIndex != null) {\n            parentControl.children.splice(componentIndex, 0, componentData);\n        }\n        else {\n            parentControl.children.push(componentData);\n        }\n        this.selectComponents(componentData.props.id);\n        this.componentAppend.fire(this);\n    }\n    /**\n     * \n     * @param component\n     */\n    static nameComponent(component) {\n        let namedComponents = {};\n        let props = component.props = component.props || {};\n        if (!props.name) {\n            let num = 0;\n            let name;\n            do {\n                num = num + 1;\n                name = `${component.type}${num}`;\n            } while (namedComponents[name]);\n            namedComponents[name] = component;\n            props.name = name;\n        }\n        if (!props.id)\n            props.id = maishu_toolkit_1.guid();\n        if (!component.children || component.children.length == 0) {\n            return;\n        }\n        let children = common_1.translateComponentDataChildren(component.children);\n        for (let i = 0; i < children.length; i++) {\n            ComponentDataHandler.nameComponent(children[i]);\n        }\n    }\n    static setComponetRefProp(pageData, components) {\n        //=========================================================\n        //  pageData  ID\n        let componentIds = {};\n        //=========================================================\n        ComponentDataHandler.travelComponentData(pageData).forEach(item => {\n            console.assert(item.props != null && item.props.id != null);\n            componentIds[item.type] = componentIds[item.type] || [];\n            componentIds[item.type].push(item.props[\"id\"]);\n            let itemRef = item.props.ref;\n            item.props.ref = (e) => {\n                if (e != null) {\n                    components[item.type] = components[item.type] || [];\n                    components[item.type].push(e);\n                }\n                if (typeof itemRef == \"function\")\n                    itemRef(e);\n            };\n        });\n        //=========================================================\n        //  componentIds  \n        let names = Object.getOwnPropertyNames(components);\n        for (let i = 0; i < names.length; i++) {\n            let typename = names[i];\n            let ids = componentIds[typename] || [];\n            components[typename] = (components[typename] || []).filter(o => ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0);\n        }\n        //=========================================================\n    }\n    /**\n     * \n     * @param control \n     */\n    selectComponents(componentIds) {\n        if (typeof componentIds == 'string')\n            componentIds = [componentIds];\n        var stack = [];\n        stack.push(this._pageData);\n        while (stack.length > 0) {\n            let item = stack.pop();\n            let isSelectedControl = componentIds.indexOf(item.props.id) >= 0;\n            item.props.selected = isSelectedControl;\n            let children = common_1.translateComponentDataChildren(item.children || []);\n            for (let i = 0; i < children.length; i++) {\n                stack.push(children[i]);\n            }\n        }\n        this.componentSelected.fire(this.selectedComponentIds);\n    }\n    /**  */\n    removeComponents(componentIds) {\n        let pageData = this.pageData;\n        if (!pageData || !pageData.children || pageData.children.length == 0)\n            return;\n        let children = common_1.translateComponentDataChildren(pageData.children);\n        componentIds.forEach(controlId => {\n            this.removeComponentFrom(controlId, children);\n        });\n        this.componentRemoved.fire(componentIds);\n    }\n}\nexports.ComponentDataHandler = ComponentDataHandler;\n//# sourceMappingURL=component-data-handler.js.map","/*!\n * ~\n *  jueying-core v1.0.2\n * \n *  Copyright (c) 2016-2018, mais.shu <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/component-factory.js\":\n/*!**********************************!*\\\n  !*** ./out/component-factory.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __webpack_require__(/*! react */ \"react\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\nclass CompoenntFactory {\n    constructor(compoenntTypes) {\n        this.compoenntTypes = compoenntTypes;\n    }\n    createComponent(componentData, context) {\n        try {\n            return this._createComponent(componentData, context);\n        }\n        catch (e) {\n            return this.createErrorElement(e);\n        }\n    }\n    /**  */\n    createViewComponent(props, ...children) {\n        return React.createElement(\"div\", props, ...children);\n    }\n    createErrorElement(err) {\n        // return <div>\n        //     <div>Error:</div>\n        //     <div>{err.message}</div>\n        // </div>\n        return this.createViewComponent(this.createViewComponent(\"Error:\"), this.createViewComponent(err.message));\n    }\n    _createComponent(componentData, context) {\n        if (typeof componentData == \"string\")\n            return componentData;\n        let children = (componentData.children || []).map(c => this._createComponent(c));\n        let props = (componentData.props || {});\n        let defaultProps = { factory: this, context };\n        let name = componentData.typeName;\n        let compoenntType = this.compoenntTypes[name];\n        if (compoenntType == null) {\n            throw errors_1.errors.componentNotExists(name);\n        }\n        let r = React.createElement(compoenntType, props, children);\n        return r;\n    }\n}\nexports.CompoenntFactory = CompoenntFactory;\n//# sourceMappingURL=component-factory.js.map\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errors = {\n    pathFieldRequired(name) {\n        let msg = `Path field of '${name}' component config can not be null or empty.`;\n        return new Error(msg);\n    },\n    canntFindModule(name, path) {\n        let msg = `Can not find component '${name}' in the module, module path is: '${path}'.`;\n        return new Error(msg);\n    },\n    componentNotExists(name) {\n        let msg = `Component '${name}' not exists.`;\n        return new Error(msg);\n    }\n};\n//# sourceMappingURL=errors.js.map\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_factory_1 = __webpack_require__(/*! ./component-factory */ \"./out/component-factory.js\");\nexports.CompoenntFactory = component_factory_1.CompoenntFactory;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","/*!\n * ~\n *  jueying-core v1.0.2\n * \n *  Copyright (c) 2016-2018, mais.shu <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/decorators.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/decorators.js\":\n/*!***************************!*\\\n  !*** ./out/decorators.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**  */\nfunction component(options) {\n    return function classDecorator(constructor) {\n    };\n}\nexports.component = component;\n//# sourceMappingURL=decorators.js.map\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=decorators.js.map"],"sourceRoot":""}