{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"react\"","webpack://jueying/./out-es5/component.js","webpack://jueying/./out-es5/errors.js","webpack://jueying/./out-es5/style.js","webpack://jueying/./out-es5/components/index.js","webpack://jueying/./out-es5/common.js","webpack://jueying/./out-es5/component-panel.js","webpack://jueying/./out-es5/components/common.js","webpack://jueying/./node_modules/maishu-toolkit/dist/index.js","webpack://jueying/./out-es5/components/master-page.js","webpack://jueying/./out-es5/page-designer.js","webpack://jueying/(webpack)/buildin/global.js","webpack://jueying/./out-es5/index.js","webpack://jueying/./out-es5/jquery.js","webpack://jueying/external \"jquery\"","webpack://jueying/./lib/jquery.event.drag-2.2.js","webpack://jueying/./lib/jquery.event.drag.live-2.2.js","webpack://jueying/./lib/jquery.event.drop-2.2.js","webpack://jueying/./lib/jquery.event.drop.live-2.2.js","webpack://jueying/./out-es5/component-wrapper.js","webpack://jueying/./out-es5/components/place-holder.js","webpack://jueying/./out-es5/components/errors.js","webpack://jueying/./out-es5/components/text.js","webpack://jueying/./out-es5/editor-panel.js","webpack://jueying/./out-es5/property-editor.js","webpack://jueying/./out-es5/prop-editor.js","webpack://jueying/./out-es5/component-factory.js","webpack://jueying/./out-es5/component-data-handler.js","webpack://jueying/./node_modules/maishu-jueying-core/dist/index.js","webpack://jueying/./node_modules/maishu-jueying-core/decorators.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__14__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","_typeof","obj","Symbol","iterator","constructor","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","React","page_designer_1","errors_1","common_1","components_1","DesignerContext","createContext","designer","ComponentWrapperContext","component","args","PageDesigner","Component","setAttribute","name","register","instance","Constructor","TypeError","_classCallCheck","this","protoProps","staticProps","typename","attr","componentAttributes","type","assign","defaultComponentAttribute","componentData","componentType","result","propEditorInfo","componentPropEditors","propName","display","componentPropEditorDisplay","concat","push","controlClassName","getPropEditorByArray","propNames","filter","o","componentTypeOrOptions","editorType","group","editorDisplay","options","displayName","proptDisplayNames","split","className","classProps","join","h","_createElement","components","componentTypes","context","Errors","argumentNull","createElement","componentName","controlType","children","child","masterPage","text","Fragment","ref","e","MasterPage","_i","typeName","childComponents","apply","console","error","container","movable","showHandler","resize","Error","fileName","argumentName","pluginId","componentId","msg","fieldName","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","moveDown","element","document","innerHTML","head","appendChild","appendClassName","addonClassName","sourceClassName","assert","indexOf","removeClassName","targetClassName","replace","RegExp","trim","__export","m","p","ComponentTypes","constants","maishu_toolkit_1","guid","Callback","translateComponentDataChildren","r","Text","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","style_1","ComponentPanel","_React$Component","_this","state","componets","subClass","superClass","create","_inherits","dataTransfer","str","getData","JSON","parse","toolItemElement","draggable","addEventListener","ev","setData","stringify","x","offsetX","y","offsetY","setState","_this2","empty","toolbarElement","map","c","componentIndexName","icon","style","fontSize","color","ctrl","componentDraggable","PageView","PlaceHolder","componentsDir","connectorElementClassName","componentTypeName","componentPosition","modules","installedModules","__webpack_require__","moduleId","l","d","toStringTag","t","mode","__esModule","ns","n","s","funcs","Array","func","forEach","expectedType","errors","s4","Math","floor","random","toString","substring","guid_1","path_1","pathContact","callback_1","paths","component_1","MasterPageName","MasterPageContext","master","arr","isArray","isValidElement","minHeight","parentId","Provider","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","component_wrapper_1","pageData","componentDataHandler","initPageData","add","componentRemoved","componentUpdated","pageDataChanged","stack","item","shift","componentIds","travelComponentData","id","itemRef","names","getOwnPropertyNames","_loop","ids","setComponetRefProp","updateComponentProps","_len","arguments","componentProps","_key","componentIndex","appendComponent","position","setComponentsPosition","size","findComponentData","height","width","positions","_this3","toUpdateProps","_o$position","left","top","selectComponents","_element","focus","_len2","_key2","removeComponents","targetComponentIndex","moveComponent","controlId","collection","_this4","controlIndex","_loop2","removeComponentFrom","pop","splice","keyCode","selectedComponents","selectedComponentIds","argumentFieldCanntNull","attr1","getAttribute","attr2","selected","wrapperProps","_len3","_key3","ComponentWrapper","source","_this5","elementTag","tabIndex","componentFactory","renderDesignTimeComponent","handler","onKeyDown","defaultProps","g","Function","strings","component_panel_1","editor_panel_1","EditorPanel","prop_editor_1","PropEditor","TextInput","component_factory_1","ComponentFactory","component_data_handler_1","ComponentDataHandler","decorators_1","j","$","fn","drag","arg","opts","isFunction","trigger","$event","event","$special","special","defaults","which","distance","not","handle","relative","drop","click","datakey","noBubble","data","related","each","def","undefined","remove","setup","extend","init","attachEvent","dontstart","teardown","removeData","textselect","detachEvent","touched","results","dd","is","closest","currentTarget","propagates","mousedown","interactions","interaction","pageX","pageY","dragging","hijack","flatten","live","elem","offset","callback","droppable","preventDefault","pow","Date","getTime","ia","orig","originalEvent","len","isNaN","cancelled","properties","subject","isPropagationStopped","dispatch","proxy","update","startX","startY","deltaX","deltaY","originalX","originalY","slice","available","jquery","nodeType","member","makeArray","bool","css","unselectable","locate","$dispatch","touchHooks","fixHooks","touchstart","touchmove","touchend","touchcancel","touches","changedTouches","prop","draginit","dragstart","dragend","jQuery","origadd","origteardown","livekey","selector","delegate","elems","events","origType","origHandler","inArray","multi","Infinity","delay","tolerance","targets","active","anyactive","winner","location","grep","$targets","timer","tolerate","clearTimeout","index","$elem","posi","outerHeight","outerWidth","right","bottom","contains","test","modes","overlap","max","min","sort","a","b","drp","drg","end","xy","last","setTimeout","dropinit","dropstart","dropend","find","stopPropagation","dropEffect","log","getComponentData","pos","mouseInnerPosition","startPos","rect","dragStart","sourceElement","now","setLeft","setTop","setPosition","isResizeHandleClassName","interval","isDrag","_left","_top","transform","setComponentPosition","setComponentSize","invokeOnClick","elementID","ctrlKey","selectedControlIds","selectComponent","info","enableAppendDroppable","onclick","designtimeBehavior","message","renderWidthoutWrapper","visibility","move_handle","showResizeHandle","createRawElement","_this$props$source","tagName","emtpy","designTimeEmptyElement","designTimeText","master_page_1","placeHolderIdNull","layerX","ondrop","host","wraper","Consumer","canntFindMasterPage","enableMoveDroppable","property_editor_1","componentDatas","PropertyEditor","editor","customRender","_designer","_createClass","groupedEditors","editors","getEditors","commonFlatProps","commonPropEditorInfos","propEditorInfos","getPropEditors","items","propInfo1","propInfo2","propName1","propName2","control","controlProps","editorProps","propValue","editComponents","updateComponentProp","navPropsNames","groupEditorsArray","_loop3","groupEditors","ErrorBoundary","_React$Component2","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","valueType","_dropdown","_PropEditor","onChange","itemsPromise","textValues","_PropEditor2","Dropdown","regeneratorRuntime","mark","_callee","_items","wrap","_context","prev","sent","stop","textValue","parseInt","parseFloat","_components","componentAppend","_pageData","fillComponentData","namedComponents","num","nameComponent","childComponentIndex","_componentProps$i","fire","pageDataIsNull","_i2","parentControl","isSelectedControl","set","__WEBPACK_EXTERNAL_MODULE_react__","CompoenntFactory","compoenntTypes","_createComponent","createErrorElement","err","createViewComponent","compoenntType","componentNotExists","pathFieldRequired","canntFindModule","path"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"react\"), require(\"jquery\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"react\"], root[\"jquery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__14__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar page_designer_1 = require(\"./page-designer\");\n\nvar errors_1 = require(\"./errors\");\n\nvar common_1 = require(\"./common\");\n\nvar components_1 = require(\"./components\");\n\nexports.DesignerContext = React.createContext({\n  designer: null\n});\nexports.ComponentWrapperContext = React.createContext(null);\n\nfunction component(args) {\n  return function (constructor) {\n    if (page_designer_1.PageDesigner) {\n      Component.setAttribute(constructor.name, args);\n    }\n\n    Component.register(constructor.name, constructor);\n    return constructor;\n  };\n}\n\nexports.component = component;\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component() {\n    _classCallCheck(this, Component);\n  }\n\n  _createClass(Component, null, [{\n    key: \"setAttribute\",\n\n    /**\n     * 设置组件特性\n     * @param typename 组件类型名称\n     * @param attr 组件特性\n     */\n    value: function setAttribute(typename, attr) {\n      Component.componentAttributes[typename] = attr;\n    }\n    /**\n     * 获取组件特性\n     * @param typename 组件类型名称\n     */\n\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(type) {\n      var typename = typeof type == 'string' ? type : type.name;\n      var attr = Component.componentAttributes[typename];\n      return Object.assign({\n        type: type\n      }, Component.defaultComponentAttribute, attr || {});\n    }\n  }, {\n    key: \"getPropEditors\",\n    value: function getPropEditors(componentData) {\n      var componentType = componentData.type;\n      var result = [];\n      var propEditorInfo = this.componentPropEditors[componentType] || [];\n\n      for (var i = 0; i < propEditorInfo.length; i++) {\n        var propName = propEditorInfo[i].propName;\n        var display = Component.componentPropEditorDisplay[\"\".concat(componentType, \".\").concat(propName)];\n        if (display != null && display(componentData) == false) continue;\n        result.push(propEditorInfo[i]);\n      }\n\n      return result; // let classEditors = this.componentPropEditors[componentType] || []\n      // Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\n      // return classEditors\n    }\n  }, {\n    key: \"getPropEditor\",\n    value: function getPropEditor(controlClassName, propName) {\n      return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /** 通过属性数组获取属性的编辑器 */\n\n  }, {\n    key: \"getPropEditorByArray\",\n    value: function getPropEditorByArray(controlClassName, propNames) {\n      var classEditors = this.componentPropEditors[controlClassName] || [];\n      var editor = classEditors.filter(function (o) {\n        return o.propName == propNames;\n      })[0];\n      return editor;\n    }\n  }, {\n    key: \"setPropEditor\",\n    value: function setPropEditor(componentTypeOrOptions, propName, editorType, group) {\n      var componentType;\n      var editorDisplay;\n\n      if (_typeof(componentTypeOrOptions) == \"object\") {\n        var options = componentTypeOrOptions;\n        componentType = options.componentType;\n        propName = options.propName;\n        editorType = options.editorType;\n        group = options.group;\n        editorDisplay = options.display;\n\n        if (options.displayName != null) {\n          common_1.proptDisplayNames[propName] = options.displayName;\n        }\n      } else {\n        componentType = componentTypeOrOptions;\n      }\n\n      group = group || ''; // 属性可能为导航属性,例如 style.width\n\n      var propNames = propName.split('.');\n      var className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n      Component.componentPropEditorDisplay[\"\".concat(className, \".\").concat(propName)] = editorDisplay;\n      var classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n\n      for (var i = 0; i < classProps.length; i++) {\n        var propName1 = classProps[i].propName; //classProps[i].propNames.join('.')\n\n        var propName2 = propNames.join('.');\n\n        if (propName1 == propName2) {\n          classProps[i].editorType = editorType;\n          return;\n        }\n      }\n\n      classProps.push({\n        propName: propName,\n        editorType: editorType,\n        group: group\n      });\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(componentData, h) {\n      return Component._createElement(componentData, {\n        components: [],\n        componentTypes: []\n      }, h);\n    }\n    /**\n     * 将持久化的元素数据转换为 ReactElement\n     * @param componentData 元素数据\n     */\n\n  }, {\n    key: \"_createElement\",\n    value: function _createElement(componentData, context, h) {\n      if (!componentData) throw errors_1.Errors.argumentNull('componentData');\n      h = h || React.createElement;\n\n      try {\n        var type = componentData.type;\n        var componentName = componentData.type;\n        var controlType = Component.componentTypes[componentName];\n\n        if (controlType) {\n          type = controlType;\n        }\n\n        var children = [];\n\n        for (var i = 0; i < componentData.children.length; i++) {\n          var child = componentData.children[i];\n          if (typeof child == \"string\") children.push(child);else children.push(Component._createElement(child, context, h));\n        } //componentData.children ? componentData.children.map(o => Component._createElement(o, context, h)) : [];\n\n\n        var props = componentData.props == null ? {} : Object.assign({}, componentData.props); //JSON.parse(JSON.stringify(componentData.props));\n\n        if (controlType != null && controlType[\"defaultProps\"]) {\n          props = Object.assign({}, controlType[\"defaultProps\"], props);\n        }\n\n        var result;\n\n        if (typeof type == 'string') {\n          if (props.text) {\n            children.push(props.text);\n          } //=========================================\n          // props.text 非 DOM 的 prop，并且已经使用完\n\n\n          delete props.text;\n\n          if (h == React.createElement) {\n            delete props.attr;\n          } //=========================================\n\n        }\n\n        var masterPage;\n        type = type == Component.Fragment ? React.Fragment : type;\n        var ref = props.ref;\n\n        props.ref = function (e) {\n          if (typeof ref == \"function\") ref(e);\n\n          if (e instanceof components_1.MasterPage) {\n            masterPage = e;\n\n            for (var _i = 0; _i < context.componentTypes.length; _i++) {\n              var typeName = context.componentTypes[_i];\n              var childComponents = masterPage.childComponents[typeName] = masterPage.childComponents[typeName] || [];\n              childComponents.push(context.components[_i]);\n            }\n          } else if (e != null) {\n            context.components.push(e);\n            context.componentTypes.push(typeof type == \"string\" ? type : type.name); // masterPage.componentCreated.fire({ component: e, type: typeof type == \"string\" ? type : type.name });\n          }\n        };\n\n        result = h.apply(void 0, [type, props].concat(children));\n        return result;\n      } catch (e) {\n        console.error(e);\n        return null;\n      }\n    }\n  }, {\n    key: \"register\",\n    value: function register(componentName, componentType, attr) {\n      if (componentType == null && typeof componentName == 'function') {\n        componentType = componentName;\n        componentName = componentType.name;\n        componentType['componentName'] = componentName;\n      }\n\n      if (!componentName) throw errors_1.Errors.argumentNull('componentName');\n      if (!componentType) throw errors_1.Errors.argumentNull('componentType');\n      Component.componentTypes[componentName] = componentType;\n      if (attr) Component.setAttribute(componentName, attr);\n    }\n  }]);\n\n  return Component;\n}(); //==========================================\n// 用于创建 React 的 React.Fragment \n\n\nComponent.Fragment = \"\"; //==========================================\n\nComponent.defaultComponentAttribute = {\n  container: false,\n  movable: false,\n  showHandler: false,\n  resize: false\n};\nComponent.componentAttributes = {\n  'div': {\n    container: true,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'img': {\n    container: false,\n    movable: true,\n    resize: true\n  },\n  'label': {\n    movable: true\n  },\n  'ul': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: false\n  },\n  'li': {\n    container: true,\n    movable: false\n  },\n  'table': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'thead': {\n    container: false,\n    movable: false\n  },\n  'tbody': {\n    container: false,\n    movable: false\n  },\n  'tfoot': {\n    container: false,\n    movable: false\n  },\n  'tr': {\n    container: false,\n    movable: false\n  },\n  'td': {\n    container: true,\n    movable: false\n  }\n};\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {};\nComponent.componentTypes = {};\nexports.Component = Component;\n//# sourceMappingURL=component.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"fileNotExists\",\n    value: function fileNotExists(fileName) {\n      return new Error(\"File '\".concat(fileName, \"' is not exists.\"));\n    }\n  }, {\n    key: \"argumentNull\",\n    value: function argumentNull(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" is null or empty.\"));\n    }\n  }, {\n    key: \"argumentRangeError\",\n    value: function argumentRangeError(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" range error.\"));\n    }\n  }, {\n    key: \"pageDataIsNull\",\n    value: function pageDataIsNull() {\n      return new Error(\"Page data is null.\");\n    }\n  }, {\n    key: \"toolbarRequiredKey\",\n    value: function toolbarRequiredKey() {\n      return new Error(\"Toolbar has not a key prop.\");\n    }\n  }, {\n    key: \"loadPluginFail\",\n    value: function loadPluginFail(pluginId) {\n      return new Error(\"Load plugin '\".concat(pluginId, \"' fail.\"));\n    }\n  }, {\n    key: \"idRequired\",\n    value: function idRequired() {\n      return new Error(\"Property id is required.\");\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }, {\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"argumentFieldCanntNull\",\n    value: function argumentFieldCanntNull(fieldName, argumentName) {\n      var msg = \"\".concat(fieldName, \" of argument \").concat(argumentName, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar errors_1 = require(\"./errors\");\n\nexports.classNames = {\n  componentSelected: \"component-selected\",\n  emptyTemplates: \"empty-templates\",\n  loadingTemplates: \"loading-templates\",\n  templateSelected: \"template-selected\",\n  templateDialog: \"template-dialog\",\n  emptyDocument: \"empty-document\",\n  component: 'component',\n  componentWrapper: 'component-wrapper',\n  componentPanel: 'component-panel',\n  componentIcon: 'component-icon',\n  placeholder: 'placeholder',\n  editorPanel: 'editor-panel',\n  designer: 'designer',\n  moveDown: 'move-down'\n};\nvar templateDialog = {\n  nameHeight: 40,\n  fontSize: 22\n};\nvar element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = \"\\n            .\".concat(exports.classNames.componentSelected, \" {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \" > :first-child {\\n                border-color: blue;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .resize_handle {\\n                position: absolute;\\n                height: 6px;\\n                width: 6px;\\n                border: 1px solid #89B;\\n                background: #9AC;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .move_handle {\\n                height: 12px;\\n                width: 12px;\\n                top: 6px;\\n                left: 8px;\\n                border: solid 1px black;\\n                position: relative;\\n                margin-top: -12px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                top: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NE,\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                right: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \".SS,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                bottom: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .WW,\\n              .\").concat(exports.classNames.componentSelected, \" .SW {\\n                left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SE,\\n              .\").concat(exports.classNames.componentSelected, \" .NW {\\n                cursor: nw-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                cursor: ne-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .SS {\\n                cursor: n-resize;\\n                left: 50%;\\n                margin-left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .WW {\\n                cursor: e-resize;\\n                top: 50%;\\n                margin-top: -4px;\\n              }\\n            .\").concat(exports.classNames.emptyTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.loadingTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.templateSelected, \" .page-view {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name {\\n                margin-top: -\").concat(templateDialog.nameHeight, \"px;\\n                height: \").concat(templateDialog.nameHeight, \"px;\\n                font-size: \").concat(templateDialog.fontSize, \"px;\\n                text-align: center;\\n                padding-top: 6px;\\n                background-color: black;\\n                opacity: 0.5;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name span {\\n                color: white;\\n            }\\n            .\").concat(exports.classNames.emptyDocument, \" {\\n                text-align: center;\\n                padding: 100px 0;\\n            }\\n            .\").concat(exports.classNames.component, \" > .NW,\\n            .\").concat(exports.classNames.component, \" > .NN,\\n            .\").concat(exports.classNames.component, \" > .NE,\\n            .\").concat(exports.classNames.component, \" > .EE,\\n            .\").concat(exports.classNames.component, \" > .SE,\\n            .\").concat(exports.classNames.component, \" > .SW,\\n            .\").concat(exports.classNames.component, \" > .SS,\\n            .\").concat(exports.classNames.component, \" > .WW {\\n                display: none;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \".component > .NW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NN,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .EE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SS,\\n            .\").concat(exports.classNames.componentSelected, \".component > .WW {\\n                display: block;\\n            }\\n            .\").concat(exports.classNames.placeholder, \" {\\n                min-height: 40px;\\n                width: 100%;\\n            }\\n            .\").concat(exports.classNames.placeholder, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.componentSelected, \".active {\\n                border: 1px solid green;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" {\\n                width: 300px;\\n                background: white;\\n                color: black;\\n                margin: 0;\\n                font-size: 14px;\\n                z-index: 100;\\n                overflow: auto;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" label {\\n                width: 80px;\\n                float: left;\\n                padding: 4px;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .control {\\n                padding-left: 90px;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .empty {\\n                padding-top: 200px;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.designer, \" .error,\\n            .\").concat(exports.classNames.editorPanel, \" .error {\\n                color: red;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" {\\n                background: white;\\n                color: black;\\n                font-size: 14px;\\n                z-index: 100;\\n                list-style: none;\\n                padding: 0;\\n                text-align: center\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" .panel-heading {\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" li {\\n                text-align: center;\\n                padding: 8px;\\n            }\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.moveDown, \" {\\n         \\n            }\\n        \");\ndocument.head.appendChild(element);\n\nfunction appendClassName(element, addonClassName) {\n  if (element == null) throw errors_1.Errors.argumentNull('element');\n  if (!addonClassName) throw errors_1.Errors.argumentNull('addonClassName');\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className;\n  sourceClassName = sourceClassName || '';\n  console.assert(addonClassName);\n  if (sourceClassName.indexOf(addonClassName) >= 0) return sourceClassName;\n  var className = \"\".concat(sourceClassName, \" \").concat(addonClassName);\n  if (typeof element != 'string') element.className = className;\n  return className;\n}\n\nexports.appendClassName = appendClassName;\n\nfunction removeClassName(element, targetClassName) {\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className || '';\n  if (sourceClassName.indexOf(targetClassName) < 0) return sourceClassName;\n  sourceClassName = sourceClassName || '';\n  sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n  sourceClassName = sourceClassName.trim();\n  if (typeof element != 'string') element.className = sourceClassName;\n  return sourceClassName;\n}\n\nexports.removeClassName = removeClassName;\n//# sourceMappingURL=style.js.map\n","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__export(require(\"./master-page\"));\n\n__export(require(\"./place-holder\"));\n\n__export(require(\"./text\"));\n\nvar common_1 = require(\"./common\");\n\nexports.ComponentTypes = common_1.ComponentTypes;\nexports.constants = common_1.constants;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar components_1 = require(\"./components\");\n\nexports.proptDisplayNames = {};\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nexports.guid = maishu_toolkit_1.guid;\nexports.Callback = maishu_toolkit_1.Callback;\n\nfunction translateComponentDataChildren(children) {\n  if (children == null || children.length == 0) return [];\n  var r = [];\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (typeof child == \"string\") {\n      child = {\n        type: components_1.ComponentTypes.Text,\n        props: {\n          text: child\n        }\n      };\n      r.push(child);\n    } else {\n      r.push(children[i]);\n    }\n  }\n\n  return r;\n}\n\nexports.translateComponentDataChildren = translateComponentDataChildren;\n//# sourceMappingURL=common.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar components_1 = require(\"./components\");\n\nvar style_1 = require(\"./style\");\n\nvar ComponentPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentPanel, _React$Component);\n\n  function ComponentPanel(props) {\n    var _this;\n\n    _classCallCheck(this, ComponentPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ComponentPanel).call(this, props));\n    _this.state = {\n      componets: []\n    };\n    _this.designer = _this.props.designer;\n    return _this;\n  }\n\n  _createClass(ComponentPanel, [{\n    key: \"componentDraggable\",\n    value: function componentDraggable(toolItemElement, componentData) {\n      console.assert(toolItemElement != null);\n      toolItemElement.draggable = true;\n      toolItemElement.addEventListener('dragstart', function (ev) {\n        componentData.props = componentData.props || {};\n        ev.dataTransfer.setData(components_1.constants.componentData, JSON.stringify(componentData));\n        ev.dataTransfer.setData('mousePosition', JSON.stringify({\n          x: ev.offsetX,\n          y: ev.offsetY\n        }));\n      });\n    }\n  }, {\n    key: \"setComponets\",\n    value: function setComponets(componets) {\n      this.setState({\n        componets: componets\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7EC4\\u4EF6\");\n      var props = Object.assign({}, this.props);\n      var componets = this.state.componets || [];\n      return React.createElement(\"ul\", Object.assign({}, props, {\n        className: \"\".concat(style_1.classNames.componentPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.toolbarElement = _this2.toolbarElement || e;\n        }\n      }), componets.length == 0 ? empty : componets.map(function (c, i) {\n        var props = {\n          key: i\n        };\n        props[ComponentPanel.componentIndexName] = \"\".concat(i);\n        return React.createElement(\"li\", Object.assign({}, props, {\n          className: style_1.classNames.componentIcon\n        }), React.createElement(\"div\", {\n          className: \"btn-link\"\n        }, React.createElement(\"i\", {\n          className: c.icon,\n          style: {\n            fontSize: 44,\n            color: 'black'\n          },\n          ref: function ref(e) {\n            if (!e) return;\n            var ctrl = c.componentData;\n\n            _this2.componentDraggable(e, ctrl);\n          }\n        })), React.createElement(\"div\", null, c.displayName));\n      }));\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this.toolbarElement;\n    }\n  }], [{\n    key: \"getComponentData\",\n    value: function getComponentData(dataTransfer) {\n      var str = dataTransfer.getData(components_1.constants.componentData);\n      if (!str) return;\n      return JSON.parse(str);\n    }\n    /** 获取光标在图标内的位置 */\n\n  }, {\n    key: \"mouseInnerPosition\",\n    value: function mouseInnerPosition(dataTransfer) {\n      var str = dataTransfer.getData('mousePosition');\n      if (!str) return;\n      return JSON.parse(str);\n    }\n  }]);\n\n  return ComponentPanel;\n}(React.Component);\n\nComponentPanel.componentIndexName = \"data-component-index\";\nexports.ComponentPanel = ComponentPanel;\n//# sourceMappingURL=component-panel.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentTypes = {\n  Text: \"Text\",\n  PageView: \"PageView\",\n  PlaceHolder: \"PlaceHolder\"\n};\nexports.constants = {\n  componentsDir: 'components',\n  connectorElementClassName: 'component-container',\n  componentTypeName: 'data-component-name',\n  componentData: 'component-data',\n  componentPosition: \"component-position\"\n};\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nexports.guid = maishu_toolkit_1.guid;\n//# sourceMappingURL=common.js.map\n","/*!\n * ~\n *  maishu-toolkit v1.1.1\n *  https://github.com/ansiboy/toolkit\n *  \n *  Copyright (c) 2016-2018, shu mai <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/callback.js\":\n/*!*************************!*\\\n  !*** ./out/callback.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Callback {\n    constructor() {\n        this.funcs = new Array();\n    }\n    add(func) {\n        this.funcs.push(func);\n    }\n    remove(func) {\n        this.funcs = this.funcs.filter(o => o != func);\n    }\n    fire(args) {\n        this.funcs.forEach(o => o(args));\n    }\n    static create() {\n        return new Callback();\n    }\n}\nexports.Callback = Callback;\n\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Errors {\n    argumentNull(argumentName) {\n        let error = new Error(`Argument ${argumentName} cannt be null or emtpy.`);\n        let name = \"argumentNull\";\n        error.name = name;\n        return error;\n    }\n    routeDataFieldNull(fieldName) {\n        let msg = `The ${fieldName} field of route data cannt be null.`;\n        let error = new Error(msg);\n        let name = \"routeDataFieldNull\";\n        error.name = name;\n        return error;\n    }\n    argumentFieldNull(fieldName, argumentName) {\n        let msg = `The ${fieldName} field of ${argumentName} cannt be null.`;\n        let error = new Error(msg);\n        let name = \"argumentFieldNull\";\n        error.name = name;\n        return error;\n    }\n    argumentTypeIncorrect(argumentName, expectedType) {\n        let msg = `Argument ${argumentName} type error, expected type is ${expectedType}.`;\n        let error = new Error(msg);\n        let name = \"argumentTypeIncorrect\";\n        error.name = name;\n        return error;\n    }\n}\nexports.Errors = Errors;\nexports.errors = new Errors();\n\n\n/***/ }),\n\n/***/ \"./out/guid.js\":\n/*!*********************!*\\\n  !*** ./out/guid.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction guid() {\n    function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n        s4() + '-' + s4() + s4() + s4();\n}\nexports.guid = guid;\n\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar guid_1 = __webpack_require__(/*! ./guid */ \"./out/guid.js\");\nexports.guid = guid_1.guid;\nvar path_1 = __webpack_require__(/*! ./path */ \"./out/path.js\");\nexports.pathContact = path_1.pathContact;\nvar errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\nexports.Errors = errors_1.Errors;\nvar callback_1 = __webpack_require__(/*! ./callback */ \"./out/callback.js\");\nexports.Callback = callback_1.Callback;\n\n\n/***/ }),\n\n/***/ \"./out/path.js\":\n/*!*********************!*\\\n  !*** ./out/path.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** 连接多个路径 */\nfunction pathContact(...paths) {\n    paths = paths || [];\n    if (paths.length == 0)\n        return \"\";\n    if (paths.length == 1) {\n        return paths[0];\n    }\n    let str = paths.join(\"\");\n    // 将一个或多个的 / 变为一个 /，例如：/shop/test// 转换为 /shop/test/\n    str = str.replace(/\\/+/g, '/');\n    return str;\n}\nexports.pathContact = pathContact;\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar component_1 = require(\"../component\");\n\nexports.MasterPageName = 'MasterPage';\nexports.MasterPageContext = React.createContext({\n  master: null\n});\n\nvar MasterPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MasterPage, _React$Component);\n\n  function MasterPage(props) {\n    var _this;\n\n    _classCallCheck(this, MasterPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MasterPage).call(this, props));\n    _this.childComponents = {};\n    var children = MasterPage.children(props);\n    _this.state = {\n      children: children\n    };\n    return _this;\n  }\n\n  _createClass(MasterPage, [{\n    key: \"render\",\n    value: function render() {\n      var props = {};\n\n      for (var key in this.props) {\n        if (key == 'ref' || key == 'id') continue;\n        props[key] = this.props[key];\n      }\n\n      props.style = Object.assign({\n        minHeight: 40\n      }, props.style);\n      var children = this.state.children.filter(function (o) {\n        return o.props.parentId == null;\n      });\n      var master = this;\n      console.assert(master != null);\n      return React.createElement(exports.MasterPageContext.Provider, {\n        value: {\n          master: master\n        }\n      }, children);\n    }\n  }], [{\n    key: \"children\",\n    value: function children(props) {\n      var arr = props.children == null ? [] : Array.isArray(props.children) ? props.children : [props.children];\n      var children = [];\n      arr.forEach(function (o) {\n        if (!React.isValidElement(o)) return;\n        children.push(o);\n      });\n      return children;\n    }\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props) {\n      var children = MasterPage.children(props);\n      return {\n        children: children\n      };\n    }\n  }]);\n\n  return MasterPage;\n}(React.Component);\n\nexports.MasterPage = MasterPage;\ncomponent_1.Component.register(exports.MasterPageName, MasterPage, {\n  container: false\n});\n//# sourceMappingURL=master-page.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar errors_1 = require(\"./errors\");\n\nvar component_1 = require(\"./component\");\n\nvar style_1 = require(\"./style\");\n\nvar component_wrapper_1 = require(\"./component-wrapper\");\n\nvar PageDesigner =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDesigner, _React$Component);\n\n  function PageDesigner(props) {\n    var _this;\n\n    _classCallCheck(this, PageDesigner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDesigner).call(this, props));\n    _this.components = {};\n    var pageData = _this.props.componentDataHandler.pageData;\n\n    _this.initPageData(pageData);\n\n    _this.state = {\n      pageData: pageData\n    };\n\n    _this.props.componentDataHandler.componentSelected.add(function (args) {\n      // this.componentSelected.fire(args);\n      _this.setState({\n        pageData: _this.props.componentDataHandler.pageData\n      });\n    });\n\n    _this.props.componentDataHandler.componentRemoved.add(function (args) {\n      // this.componentRemoved.fire(args);\n      _this.setState({\n        pageData: _this.props.componentDataHandler.pageData\n      });\n    });\n\n    _this.props.componentDataHandler.componentUpdated.add(function (args) {\n      // this.componentUpdated.fire(args);\n      _this.setState({\n        pageData: _this.props.componentDataHandler.pageData\n      });\n    });\n\n    _this.props.componentDataHandler.pageDataChanged.add(function (args) {\n      _this.setState({\n        pageData: args\n      });\n    }); // this.componentAppend = Callback.create();\n    // this.props.componentDataHandler.componentAppend.add(() => this.componentAppend.fire(this));\n\n\n    return _this;\n  }\n\n  _createClass(PageDesigner, [{\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData) {\n      var _this2 = this;\n\n      //=========================================================\n      // 纪录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      PageDesigner.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.props[\"id\"]);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            _this2.components[item.type] = _this2.components[item.type] || [];\n\n            _this2.components[item.type].push(e);\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      }); //=========================================================\n      // 仅保留 componentIds 中的控件 \n\n      var names = Object.getOwnPropertyNames(this.components);\n\n      var _loop = function _loop(i) {\n        var typename = names[i];\n        var ids = componentIds[typename] || [];\n        _this2.components[typename] = (_this2.components[typename] || []).filter(function (o) {\n          return ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0;\n        });\n      };\n\n      for (var i = 0; i < names.length; i++) {\n        _loop(i);\n      } //=========================================================\n\n    }\n  }, {\n    key: \"initPageData\",\n    value: function initPageData(pageData) {\n      if (pageData == null) {\n        return;\n      }\n\n      pageData.children = pageData.children || []; // PageDesigner.nameComponent(pageData);\n\n      this.setComponetRefProp(pageData);\n    }\n  }, {\n    key: \"allComponents\",\n    value: function allComponents() {\n      var r = [];\n\n      for (var key in this.components) {\n        r.push.apply(r, _toConsumableArray(this.components[key]));\n      }\n\n      return r;\n    }\n    /** 页面数据 */\n\n  }, {\n    key: \"updateComponentProp\",\n    value: function updateComponentProp(componentId, propName, value) {\n      return this.updateComponentProps({\n        componentId: componentId,\n        propName: propName,\n        value: value\n      });\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps() {\n      for (var _len = arguments.length, componentProps = new Array(_len), _key = 0; _key < _len; _key++) {\n        componentProps[_key] = arguments[_key];\n      }\n\n      this.props.componentDataHandler.updateComponentProps(componentProps);\n    } // /**\n    //  * 对组件及其子控件进行命名\n    //  * @param component \n    //  */\n    // private static nameComponent(component: ComponentData) {\n    //     let namedComponents: { [key: string]: ComponentData } = {}\n    //     let props = component.props = component.props || {};\n    //     if (!props.name) {\n    //         let num = 0;\n    //         let name: string;\n    //         do {\n    //             num = num + 1;\n    //             name = `${component.type}${num}`;\n    //         } while (namedComponents[name]);\n    //         namedComponents[name] = component\n    //         props.name = name;\n    //     }\n    //     if (!props.id)\n    //         props.id = guid();\n    //     if (!component.children || component.children.length == 0) {\n    //         return;\n    //     }\n    //     component.children.forEach(child => {\n    //         if (typeof child == \"string\")\n    //             return true;\n    //         PageDesigner.nameComponent(child);\n    //     })\n    // }\n\n    /**\n     * 添加控件\n     * @param parentId 父控件编号\n     * @param componentData 控件数据\n     * @param componentIndex 新添加组件在子组件中的次序\n     */\n\n  }, {\n    key: \"appendComponent\",\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      this.props.componentDataHandler.appendComponent(parentId, componentData, componentIndex);\n    }\n    /**\n     * 设置控件位置\n     * @param componentId 组件编号\n     * @param position 组件位置\n     */\n\n  }, {\n    key: \"setComponentPosition\",\n    value: function setComponentPosition(componentId, position) {\n      return this.setComponentsPosition([{\n        componentId: componentId,\n        position: position\n      }]);\n    }\n    /**\n     * 设置控件大小\n     * @param componentId 组件编号\n     * @param size 组件大小\n     */\n\n  }, {\n    key: \"setComponentSize\",\n    value: function setComponentSize(componentId, size) {\n      console.assert(componentId != null);\n      console.assert(size != null);\n      var componentData = this.findComponentData(componentId);\n      if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n      var style = componentData.props.style = componentData.props.style || {};\n      if (size.height) style.height = size.height;\n      if (size.width) style.width = size.width;\n      var pageData = this.state.pageData;\n      this.setState({\n        pageData: pageData\n      }); // this.componentUpdated.fire([componentData])\n    }\n  }, {\n    key: \"setComponentsPosition\",\n    value: function setComponentsPosition(positions) {\n      var _this3 = this;\n\n      var toUpdateProps = [];\n      positions.forEach(function (o) {\n        var componentId = o.componentId;\n        var _o$position = o.position,\n            left = _o$position.left,\n            top = _o$position.top;\n\n        var componentData = _this3.props.componentDataHandler.findComponentData(componentId);\n\n        if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n        var style = componentData.props.style = componentData.props.style || {};\n        if (left) style.left = left;\n        if (top) style.top = top;\n        toUpdateProps.push({\n          componentId: componentId,\n          propName: \"style\",\n          value: style\n        });\n      });\n      this.props.componentDataHandler.updateComponentProps(toUpdateProps);\n    }\n    /**\n     * 选择指定的控件\n     * @param control 指定的控件\n     */\n\n  }, {\n    key: \"selectComponent\",\n    value: function selectComponent(componentIds) {\n      this.props.componentDataHandler.selectComponents(componentIds); //====================================================\n      // 设置焦点，以便获取键盘事件\n\n      if (this._element) this._element.focus(); //====================================================\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent() {\n      for (var _len2 = arguments.length, componentIds = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        componentIds[_key2] = arguments[_key2];\n      }\n\n      this.props.componentDataHandler.removeComponents(componentIds);\n    }\n    /**\n     * 移动控件到另外一个控件容器\n     * @param componentId 要移动的组件编号\n     * @param parentId 目标组件编号\n     * @param targetComponentIndex 组件位置\n     */\n\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, targetComponentIndex) {\n      return this.props.componentDataHandler.moveComponent(componentId, parentId, targetComponentIndex);\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var _this4 = this;\n\n      var controlIndex = null;\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        var _loop2 = function _loop2(_i) {\n          var o = collection[_i];\n          if (typeof o == \"string\") return \"continue\";\n          var children = o.children || [];\n          children.forEach(function (child) {\n            if (typeof child == \"string\") return true;\n\n            var isRemoved = _this4.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          });\n        };\n\n        for (var _i = 0; _i < collection.length; _i++) {\n          var _ret = _loop2(_i);\n\n          if (_ret === \"continue\") continue;\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      return this.props.componentDataHandler.findComponentData(componentId);\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var DELETE_KEY_CODE = 46;\n\n      if (e.keyCode == DELETE_KEY_CODE) {\n        if (this.selectedComponents.length == 0) return;\n        this.props.componentDataHandler.removeComponents(this.selectedComponentIds);\n      }\n    }\n  }, {\n    key: \"createDesignTimeElement\",\n    value: function createDesignTimeElement(type, props) {\n      if (type == null) throw errors_1.Errors.argumentNull('type');\n      if (props == null) throw errors_1.Errors.argumentNull('props');\n      if (props.id == null) throw errors_1.Errors.argumentFieldCanntNull('id', 'props');\n      console.assert(props.id != null);\n      if (props.id != null) props.key = props.id; //===================================================\n      // 获取对象的 ComponentAttribute ，以从对象 props 中获取的为准\n\n      var attr1 = component_1.Component.getAttribute(type);\n      console.assert(attr1 != null);\n      var attr2 = props.attr || {};\n      var attr = Object.assign({}, attr1, attr2);\n      delete props.attr; //===================================================\n\n      var className = props.selected ? style_1.appendClassName(props.className || '', style_1.classNames.componentSelected) : props.className;\n      var wrapperProps = Object.assign({}, props);\n      delete wrapperProps.ref;\n      wrapperProps.className = className;\n\n      for (var _len3 = arguments.length, children = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        children[_key3 - 2] = arguments[_key3];\n      }\n\n      return React.createElement(component_wrapper_1.ComponentWrapper, Object.assign({}, wrapperProps, {\n        designer: this,\n        source: {\n          type: type,\n          attr: attr,\n          props: props,\n          children: children\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var pageData = this.state.pageData;\n      var style = this.props.style;\n      var elementTag = this.props.elementTag || \"div\";\n      var result = React.createElement(elementTag, {\n        className: style_1.classNames.designer,\n        tabIndex: 1,\n        style: style,\n        ref: function ref(e) {\n          if (!e) return;\n          _this5._element = e || _this5._element;\n\n          _this5.props.componentFactory.renderDesignTimeComponent(pageData, e, {\n            handler: _this5.props.componentDataHandler\n          });\n        },\n        onKeyDown: function onKeyDown(t) {\n          return _this5.onKeyDown(t);\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this.state.pageData;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      return this.props.componentDataHandler.selectedComponents;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      return {\n        pageData: props.componentDataHandler.pageData\n      };\n    }\n  }]);\n\n  return PageDesigner;\n}(React.Component); // componentSelected: Callback<string[]> = Callback.create<string[]>();\n// componentRemoved: Callback<string[]> = Callback.create<string[]>()\n// componentAppend: Callback<PageDesigner> = Callback.create<PageDesigner>()\n// componentUpdated: Callback<ComponentData[]> = Callback.create<ComponentData[]>()\n// designtimeComponentDidMount = Callback.create<{ component: React.ReactElement<any>, element: HTMLElement }>();\n\n\nPageDesigner.defaultProps = {\n  componentDataHandler: null\n};\nexports.PageDesigner = PageDesigner;\n//# sourceMappingURL=page-designer.js.map\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./jquery\");\n\nrequire(\"../lib/jquery.event.drag-2.2\");\n\nrequire(\"../lib/jquery.event.drag.live-2.2\");\n\nrequire(\"../lib/jquery.event.drop-2.2\");\n\nrequire(\"../lib/jquery.event.drop.live-2.2\");\n\nvar common_1 = require(\"./common\");\n\nexports.strings = common_1.proptDisplayNames;\nexports.proptDisplayNames = common_1.proptDisplayNames;\n\nvar component_1 = require(\"./component\");\n\nexports.Component = component_1.Component;\nexports.DesignerContext = component_1.DesignerContext;\n\nvar component_panel_1 = require(\"./component-panel\");\n\nexports.ComponentPanel = component_panel_1.ComponentPanel;\n\nvar editor_panel_1 = require(\"./editor-panel\");\n\nexports.EditorPanel = editor_panel_1.EditorPanel;\n\nvar page_designer_1 = require(\"./page-designer\");\n\nexports.PageDesigner = page_designer_1.PageDesigner;\n\nvar prop_editor_1 = require(\"./prop-editor\");\n\nexports.PropEditor = prop_editor_1.PropEditor;\nexports.TextInput = prop_editor_1.TextInput;\n\nvar style_1 = require(\"./style\");\n\nexports.classNames = style_1.classNames;\n\nvar component_factory_1 = require(\"./component-factory\");\n\nexports.ComponentFactory = component_factory_1.ComponentFactory;\n\nvar component_data_handler_1 = require(\"./component-data-handler\");\n\nexports.ComponentDataHandler = component_data_handler_1.ComponentDataHandler;\n\n__export(require(\"./components\"));\n\n__export(require(\"maishu-jueying-core\"));\n\nvar decorators_1 = require(\"maishu-jueying-core/decorators\");\n\nexports.component = decorators_1.component;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // import * as j from '../lib/jquery-2.1.3'\n// let jquery = window['$'] || window['jQuery'];\n// if (jquery == null) {\n//     window['$'] = window['jQuery'] = j\n// }\n\nvar j = require(\"jquery\");\n\nvar jquery = window['$'] || window['jQuery'];\n\nif (jquery == null) {\n  window['$'] = window['jQuery'] = j;\n}\n//# sourceMappingURL=jquery.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","/*! \r\n * jquery.event.drag - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2008-06-04 \r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x\r\n\r\n;(function( $ ){\r\n\r\n// add the jquery instance method\r\n$.fn.drag = function( str, arg, opts ){\r\n\t// figure out the event type\r\n\tvar type = typeof str == \"string\" ? str : \"\",\r\n\t// figure out the event handler...\r\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\r\n\t// fix the event type\r\n\tif ( type.indexOf(\"drag\") !== 0 ) \r\n\t\ttype = \"drag\"+ type;\r\n\t// were options passed\r\n\topts = ( str == fn ? arg : opts ) || {};\r\n\t// trigger or bind event handler\r\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\r\n};\r\n\r\n// local refs (increase compression)\r\nvar $event = $.event, \r\n$special = $event.special,\r\n// configure the drag special event \r\ndrag = $special.drag = {\r\n\t\r\n\t// these are the default settings\r\n\tdefaults: {\r\n\t\twhich: 1, // mouse button pressed to start drag sequence\r\n\t\tdistance: 0, // distance dragged before dragstart\r\n\t\tnot: ':input', // selector to suppress dragging on target elements\r\n\t\thandle: null, // selector to match handle target elements\r\n\t\trelative: false, // true to use \"position\", false to use \"offset\"\r\n\t\tdrop: true, // false to suppress drop events, true or selector to allow\r\n\t\tclick: false // false to suppress click events after dragend (no proxy)\r\n\t},\r\n\t\r\n\t// the key name for stored drag data\r\n\tdatakey: \"dragdata\",\r\n\t\r\n\t// prevent bubbling for better performance\r\n\tnoBubble: true,\r\n\t\r\n\t// count bound related events\r\n\tadd: function( obj ){ \r\n\t\t// read the interaction data\r\n\t\tvar data = $.data( this, drag.datakey ),\r\n\t\t// read any passed options \r\n\t\topts = obj.data || {};\r\n\t\t// count another realted event\r\n\t\tdata.related += 1;\r\n\t\t// extend data options bound with this event\r\n\t\t// don't iterate \"opts\" in case it is a node \r\n\t\t$.each( drag.defaults, function( key, def ){\r\n\t\t\tif ( opts[ key ] !== undefined )\r\n\t\t\t\tdata[ key ] = opts[ key ];\r\n\t\t});\r\n\t},\r\n\t\r\n\t// forget unbound related events\r\n\tremove: function(){\r\n\t\t$.data( this, drag.datakey ).related -= 1;\r\n\t},\r\n\t\r\n\t// configure interaction, capture settings\r\n\tsetup: function(){\r\n\t\t// check for related events\r\n\t\tif ( $.data( this, drag.datakey ) ) \r\n\t\t\treturn;\r\n\t\t// initialize the drag data with copied defaults\r\n\t\tvar data = $.extend({ related:0 }, drag.defaults );\r\n\t\t// store the interaction data\r\n\t\t$.data( this, drag.datakey, data );\r\n\t\t// bind the mousedown event, which starts drag interactions\r\n\t\t$event.add( this, \"touchstart mousedown\", drag.init, data );\r\n\t\t// prevent image dragging in IE...\r\n\t\tif ( this.attachEvent ) \r\n\t\t\tthis.attachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\r\n\t// destroy configured interaction\r\n\tteardown: function(){\r\n\t\tvar data = $.data( this, drag.datakey ) || {};\r\n\t\t// check for related events\r\n\t\tif ( data.related ) \r\n\t\t\treturn;\r\n\t\t// remove the stored data\r\n\t\t$.removeData( this, drag.datakey );\r\n\t\t// remove the mousedown event\r\n\t\t$event.remove( this, \"touchstart mousedown\", drag.init );\r\n\t\t// enable text selection\r\n\t\tdrag.textselect( true ); \r\n\t\t// un-prevent image dragging in IE...\r\n\t\tif ( this.detachEvent ) \r\n\t\t\tthis.detachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\t\r\n\t// initialize the interaction\r\n\tinit: function( event ){ \r\n\t\t// sorry, only one touch at a time\r\n\t\tif ( drag.touched ) \r\n\t\t\treturn;\r\n\t\t// the drag/drop interaction data\r\n\t\tvar dd = event.data, results;\r\n\t\t// check the which directive\r\n\t\tif ( event.which != 0 && dd.which > 0 && event.which != dd.which ) \r\n\t\t\treturn; \r\n\t\t// check for suppressed selector\r\n\t\tif ( $( event.target ).is( dd.not ) ) \r\n\t\t\treturn;\r\n\t\t// check for handle selector\r\n\t\tif ( dd.handle && !$( event.target ).closest( dd.handle, event.currentTarget ).length ) \r\n\t\t\treturn;\r\n\r\n\t\tdrag.touched = event.type == 'touchstart' ? this : null;\r\n\t\tdd.propagates = 1;\r\n\t\tdd.mousedown = this;\r\n\t\tdd.interactions = [ drag.interaction( this, dd ) ];\r\n\t\tdd.target = event.target;\r\n\t\tdd.pageX = event.pageX;\r\n\t\tdd.pageY = event.pageY;\r\n\t\tdd.dragging = null;\r\n\t\t// handle draginit event... \r\n\t\tresults = drag.hijack( event, \"draginit\", dd );\r\n\t\t// early cancel\r\n\t\tif ( !dd.propagates )\r\n\t\t\treturn;\r\n\t\t// flatten the result set\r\n\t\tresults = drag.flatten( results );\r\n\t\t// insert new interaction elements\r\n\t\tif ( results && results.length ){\r\n\t\t\tdd.interactions = [];\r\n\t\t\t$.each( results, function(){\r\n\t\t\t\tdd.interactions.push( drag.interaction( this, dd ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\t// remember how many interactions are propagating\r\n\t\tdd.propagates = dd.interactions.length;\r\n\t\t// locate and init the drop targets\r\n\t\tif ( dd.drop !== false && $special.drop ) \r\n\t\t\t$special.drop.handler( event, dd );\r\n\t\t// disable text selection\r\n\t\tdrag.textselect( false ); \r\n\t\t// bind additional events...\r\n\t\tif ( drag.touched )\r\n\t\t\t$event.add( drag.touched, \"touchmove touchend\", drag.handler, dd );\r\n\t\telse \r\n\t\t\t$event.add( document, \"mousemove mouseup\", drag.handler, dd );\r\n\t\t// helps prevent text selection or scrolling\r\n\t\tif ( !drag.touched || dd.live )\r\n\t\t\treturn false;\r\n\t},\t\r\n\t\r\n\t// returns an interaction object\r\n\tinteraction: function( elem, dd ){\r\n\t\tvar offset = $( elem )[ dd.relative ? \"position\" : \"offset\" ]() || { top:0, left:0 };\r\n\t\treturn {\r\n\t\t\tdrag: elem, \r\n\t\t\tcallback: new drag.callback(), \r\n\t\t\tdroppable: [],\r\n\t\t\toffset: offset\r\n\t\t};\r\n\t},\r\n\t\r\n\t// handle drag-releatd DOM events\r\n\thandler: function( event ){ \r\n\t\t// read the data before hijacking anything\r\n\t\tvar dd = event.data;\t\r\n\t\t// handle various events\r\n\t\tswitch ( event.type ){\r\n\t\t\t// mousemove, check distance, start dragging\r\n\t\t\tcase !dd.dragging && 'touchmove': \r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase !dd.dragging && 'mousemove':\r\n\t\t\t\t//  drag tolerance, x� + y� = distance�\r\n\t\t\t\tif ( Math.pow(  event.pageX-dd.pageX, 2 ) + Math.pow(  event.pageY-dd.pageY, 2 ) < Math.pow( dd.distance, 2 ) ) \r\n\t\t\t\t\tbreak; // distance tolerance not reached\r\n\t\t\t\tevent.target = dd.target; // force target from \"mousedown\" event (fix distance issue)\r\n\t\t\t\tdrag.hijack( event, \"dragstart\", dd ); // trigger \"dragstart\"\r\n\t\t\t\tif ( dd.propagates ) // \"dragstart\" not rejected\r\n\t\t\t\t\tdd.dragging = true; // activate interaction\r\n\t\t\t// mousemove, dragging\r\n\t\t\tcase 'touchmove':\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\t// trigger \"drag\"\t\t\r\n\t\t\t\t\tdrag.hijack( event, \"drag\", dd );\r\n\t\t\t\t\tif ( dd.propagates ){\r\n\t\t\t\t\t\t// manage drop events\r\n\t\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"dropstart\", \"dropend\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak; // \"drag\" not rejected, stop\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.type = \"mouseup\"; // helps \"drop\" handler behave\r\n\t\t\t\t}\r\n\t\t\t// mouseup, stop dragging\r\n\t\t\tcase 'touchend': \r\n\t\t\tcase 'mouseup': \r\n\t\t\tdefault:\r\n\t\t\t\tif ( drag.touched )\r\n\t\t\t\t\t$event.remove( drag.touched, \"touchmove touchend\", drag.handler ); // remove touch events\r\n\t\t\t\telse \r\n\t\t\t\t\t$event.remove( document, \"mousemove mouseup\", drag.handler ); // remove page events\t\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"drop\"\r\n\t\t\t\t\tdrag.hijack( event, \"dragend\", dd ); // trigger \"dragend\"\t\r\n\t\t\t\t}\r\n\t\t\t\tdrag.textselect( true ); // enable text selection\r\n\t\t\t\t// if suppressing click events...\r\n\t\t\t\tif ( dd.click === false && dd.dragging )\r\n\t\t\t\t\t$.data( dd.mousedown, \"suppress.click\", new Date().getTime() + 5 );\r\n\t\t\t\tdd.dragging = drag.touched = false; // deactivate element\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\t\r\n\t// re-use event object for custom events\r\n\thijack: function( event, type, dd, x, elem ){\r\n\t\t// not configured\r\n\t\tif ( !dd ) \r\n\t\t\treturn;\r\n\t\t// remember the original event and type\r\n\t\tvar orig = { event:event.originalEvent, type:event.type },\r\n\t\t// is the event drag related or drog related?\r\n\t\tmode = type.indexOf(\"drop\") ? \"drag\" : \"drop\",\r\n\t\t// iteration vars\r\n\t\tresult, i = x || 0, ia, $elems, callback,\r\n\t\tlen = !isNaN( x ) ? x : dd.interactions.length;\r\n\t\t// modify the event type\r\n\t\tevent.type = type;\r\n\t\t// remove the original event\r\n\t\tevent.originalEvent = null;\r\n\t\t// initialize the results\r\n\t\tdd.results = [];\r\n\t\t// handle each interacted element\r\n\t\tdo if ( ia = dd.interactions[ i ] ){\r\n\t\t\t// validate the interaction\r\n\t\t\tif ( type !== \"dragend\" && ia.cancelled )\r\n\t\t\t\tcontinue;\r\n\t\t\t// set the dragdrop properties on the event object\r\n\t\t\tcallback = drag.properties( event, dd, ia );\r\n\t\t\t// prepare for more results\r\n\t\t\tia.results = [];\r\n\t\t\t// handle each element\r\n\t\t\t$( elem || ia[ mode ] || dd.droppable ).each(function( p, subject ){\r\n\t\t\t\t// identify drag or drop targets individually\r\n\t\t\t\tcallback.target = subject;\r\n\t\t\t\t// force propagtion of the custom event\r\n\t\t\t\tevent.isPropagationStopped = function(){ return false; };\r\n\t\t\t\t// handle the event\t\r\n\t\t\t\tresult = subject ? $event.dispatch.call( subject, event, callback ) : null;\r\n\t\t\t\t// stop the drag interaction for this element\r\n\t\t\t\tif ( result === false ){\r\n\t\t\t\t\tif ( mode == \"drag\" ){\r\n\t\t\t\t\t\tia.cancelled = true;\r\n\t\t\t\t\t\tdd.propagates -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( type == \"drop\" ){\r\n\t\t\t\t\t\tia[ mode ][p] = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// assign any dropinit elements\r\n\t\t\t\telse if ( type == \"dropinit\" )\r\n\t\t\t\t\tia.droppable.push( drag.element( result ) || subject );\r\n\t\t\t\t// accept a returned proxy element \r\n\t\t\t\tif ( type == \"dragstart\" )\r\n\t\t\t\t\tia.proxy = $( drag.element( result ) || ia.drag )[0];\r\n\t\t\t\t// remember this result\t\r\n\t\t\t\tia.results.push( result );\r\n\t\t\t\t// forget the event result, for recycling\r\n\t\t\t\tdelete event.result;\r\n\t\t\t\t// break on cancelled handler\r\n\t\t\t\tif ( type !== \"dropinit\" )\r\n\t\t\t\t\treturn result;\r\n\t\t\t});\t\r\n\t\t\t// flatten the results\t\r\n\t\t\tdd.results[ i ] = drag.flatten( ia.results );\t\r\n\t\t\t// accept a set of valid drop targets\r\n\t\t\tif ( type == \"dropinit\" )\r\n\t\t\t\tia.droppable = drag.flatten( ia.droppable );\r\n\t\t\t// locate drop targets\r\n\t\t\tif ( type == \"dragstart\" && !ia.cancelled )\r\n\t\t\t\tcallback.update(); \r\n\t\t}\r\n\t\twhile ( ++i < len )\r\n\t\t// restore the original event & type\r\n\t\tevent.type = orig.type;\r\n\t\tevent.originalEvent = orig.event;\r\n\t\t// return all handler results\r\n\t\treturn drag.flatten( dd.results );\r\n\t},\r\n\t\t\r\n\t// extend the callback object with drag/drop properties...\r\n\tproperties: function( event, dd, ia ){\t\t\r\n\t\tvar obj = ia.callback;\r\n\t\t// elements\r\n\t\tobj.drag = ia.drag;\r\n\t\tobj.proxy = ia.proxy || ia.drag;\r\n\t\t// starting mouse position\r\n\t\tobj.startX = dd.pageX;\r\n\t\tobj.startY = dd.pageY;\r\n\t\t// current distance dragged\r\n\t\tobj.deltaX = event.pageX - dd.pageX;\r\n\t\tobj.deltaY = event.pageY - dd.pageY;\r\n\t\t// original element position\r\n\t\tobj.originalX = ia.offset.left;\r\n\t\tobj.originalY = ia.offset.top;\r\n\t\t// adjusted element position\r\n\t\tobj.offsetX = obj.originalX + obj.deltaX; \r\n\t\tobj.offsetY = obj.originalY + obj.deltaY;\r\n\t\t// assign the drop targets information\r\n\t\tobj.drop = drag.flatten( ( ia.drop || [] ).slice() );\r\n\t\tobj.available = drag.flatten( ( ia.droppable || [] ).slice() );\r\n\t\treturn obj;\t\r\n\t},\r\n\t\r\n\t// determine is the argument is an element or jquery instance\r\n\telement: function( arg ){\r\n\t\tif ( arg && ( arg.jquery || arg.nodeType == 1 ) )\r\n\t\t\treturn arg;\r\n\t},\r\n\t\r\n\t// flatten nested jquery objects and arrays into a single dimension array\r\n\tflatten: function( arr ){\r\n\t\treturn $.map( arr, function( member ){\r\n\t\t\treturn member && member.jquery ? $.makeArray( member ) : \r\n\t\t\t\tmember && member.length ? drag.flatten( member ) : member;\r\n\t\t});\r\n\t},\r\n\t\r\n\t// toggles text selection attributes ON (true) or OFF (false)\r\n\ttextselect: function( bool ){ \r\n\t\t$( document )[ bool ? \"unbind\" : \"bind\" ](\"selectstart\", drag.dontstart )\r\n\t\t\t.css(\"MozUserSelect\", bool ? \"\" : \"none\" );\r\n\t\t// .attr(\"unselectable\", bool ? \"off\" : \"on\" )\r\n\t\tdocument.unselectable = bool ? \"off\" : \"on\"; \r\n\t},\r\n\t\r\n\t// suppress \"selectstart\" and \"ondragstart\" events\r\n\tdontstart: function(){ \r\n\t\treturn false; \r\n\t},\r\n\t\r\n\t// a callback instance contructor\r\n\tcallback: function(){}\r\n\t\r\n};\r\n\r\n// callback methods\r\ndrag.callback.prototype = {\r\n\tupdate: function(){\r\n\t\tif ( $special.drop && this.available.length )\r\n\t\t\t$.each( this.available, function( i ){\r\n\t\t\t\t$special.drop.locate( this, i );\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\n// patch $.event.$dispatch to allow suppressing clicks\r\nvar $dispatch = $event.dispatch;\r\n$event.dispatch = function( event ){\r\n\tif ( $.data( this, \"suppress.\"+ event.type ) - new Date().getTime() > 0 ){\r\n\t\t$.removeData( this, \"suppress.\"+ event.type );\r\n\t\treturn;\r\n\t}\r\n\treturn $dispatch.apply( this, arguments );\r\n};\r\n\r\n// event fix hooks for touch events...\r\nvar touchHooks = \r\n$event.fixHooks.touchstart = \r\n$event.fixHooks.touchmove = \r\n$event.fixHooks.touchend =\r\n$event.fixHooks.touchcancel = {\r\n\tprops: \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tfilter: function( event, orig ) {\r\n\t\tif ( orig ){\r\n\t\t\tvar touched = ( orig.touches && orig.touches[0] )\r\n\t\t\t\t|| ( orig.changedTouches && orig.changedTouches[0] )\r\n\t\t\t\t|| null; \r\n\t\t\t// iOS webkit: touchstart, touchmove, touchend\r\n\t\t\tif ( touched ) \r\n\t\t\t\t$.each( touchHooks.props, function( i, prop ){\r\n\t\t\t\t\tevent[ prop ] = touched[ prop ];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn event;\r\n\t}\r\n};\r\n\r\n// share the same special event configuration with related events...\r\n$special.draginit = $special.dragstart = $special.dragend = drag;\r\n\r\n})( jQuery );","/*! \r\n * jquery.event.drag.live - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2010-06-07\r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x, event.drag 2.2\r\n\r\n;(function( $ ){\r\n\t\r\n// local refs (increase compression)\r\nvar $event = $.event,\r\n// ref the special event config\r\ndrag = $event.special.drag,\r\n// old drag event add method\r\norigadd = drag.add,\r\n// old drag event teradown method\r\norigteardown = drag.teardown;\r\n\r\n// allow events to bubble for delegation\r\ndrag.noBubble = false;\r\n\r\n// the namespace for internal live events\r\ndrag.livekey = \"livedrag\";\r\n\r\n// new drop event add method\r\ndrag.add = function( obj ){ \r\n\t// call the old method\r\n\torigadd.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey );\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( !data.live && obj.selector ){\r\n\t\tdata.live = true;\r\n\t\t$event.add( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t}\r\n};\r\n\r\n// new drop event teardown method\r\ndrag.teardown = function(){ \r\n\t// call the old method\r\n\torigteardown.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey ) || {};\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( data.live ){\r\n\t\t// remove the \"live\" delegation\r\n\t\t$event.remove( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t\tdata.live = false;\r\n\t}\r\n};\r\n\r\n// identify potential delegate elements\r\ndrag.delegate = function( event ){\r\n\t// local refs\r\n\tvar elems = [], target, \r\n\t// element event structure\r\n\tevents = $.data( this, \"events\" ) || {};\r\n\t// query live events\r\n\t$.each( events || [], function( key, arr ){\r\n\t\t// no event type matches\r\n\t\tif ( key.indexOf(\"drag\") !== 0 )\r\n\t\t\treturn;\r\n\t\t$.each( arr || [], function( i, obj ){\r\n\t\t\t// locate the element to delegate\r\n\t\t\ttarget = $( event.target ).closest( obj.selector, event.currentTarget )[0];\r\n\t\t\t// no element found\r\n\t\t\tif ( !target ) \r\n\t\t\t\treturn;\r\n\t\t\t// add an event handler\r\n\t\t\t$event.add( target, obj.origType+'.'+drag.livekey, obj.origHandler || obj.handler, obj.data );\r\n\t\t\t// remember new elements\r\n\t\t\tif ( $.inArray( target, elems ) < 0 )\r\n\t\t\t\telems.push( target );\t\t\r\n\t\t});\r\n\t});\r\n\t// if there are no elements, break\r\n\tif ( !elems.length ) \r\n\t\treturn false;\r\n\t// return the matched results, and clenup when complete\t\t\r\n\treturn $( elems ).bind(\"dragend.\"+ drag.livekey, function(){\r\n\t\t$event.remove( this, \".\"+ drag.livekey ); // cleanup delegation\r\n\t});\r\n};\r\n\t\r\n})( jQuery );","/*! \n * jquery.event.drop - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2008-06-04 \n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// Events: drop, dropstart, dropend\n\n// add the jquery instance method\n$.fn.drop = function( str, arg, opts ){\n\t// figure out the event type\n\tvar type = typeof str == \"string\" ? str : \"\",\n\t// figure out the event handler...\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\n\t// fix the event type\n\tif ( type.indexOf(\"drop\") !== 0 ) \n\t\ttype = \"drop\"+ type;\n\t// were options passed\n\topts = ( str == fn ? arg : opts ) || {};\n\t// trigger or bind event handler\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\n};\n\n// DROP MANAGEMENT UTILITY\n// returns filtered drop target elements, caches their positions\n$.drop = function( opts ){ \n\topts = opts || {};\n\t// safely set new options...\n\tdrop.multi = opts.multi === true ? Infinity : \n\t\topts.multi === false ? 1 : !isNaN( opts.multi ) ? opts.multi : drop.multi;\n\tdrop.delay = opts.delay || drop.delay;\n\tdrop.tolerance = $.isFunction( opts.tolerance ) ? opts.tolerance : \n\t\topts.tolerance === null ? null : drop.tolerance;\n\tdrop.mode = opts.mode || drop.mode || 'intersect';\n};\n\n// local refs (increase compression)\nvar $event = $.event, \n$special = $event.special,\n// configure the drop special event\ndrop = $.event.special.drop = {\n\n\t// these are the default settings\n\tmulti: 1, // allow multiple drop winners per dragged element\n\tdelay: 20, // async timeout delay\n\tmode: 'overlap', // drop tolerance mode\n\t\t\n\t// internal cache\n\ttargets: [], \n\t\n\t// the key name for stored drop data\n\tdatakey: \"dropdata\",\n\t\t\n\t// prevent bubbling for better performance\n\tnoBubble: true,\n\t\n\t// count bound related events\n\tadd: function( obj ){ \n\t\t// read the interaction data\n\t\tvar data = $.data( this, drop.datakey );\n\t\t// count another realted event\n\t\tdata.related += 1;\n\t},\n\t\n\t// forget unbound related events\n\tremove: function(){\n\t\t$.data( this, drop.datakey ).related -= 1;\n\t},\n\t\n\t// configure the interactions\n\tsetup: function(){\n\t\t// check for related events\n\t\tif ( $.data( this, drop.datakey ) ) \n\t\t\treturn;\n\t\t// initialize the drop element data\n\t\tvar data = { \n\t\t\trelated: 0,\n\t\t\tactive: [],\n\t\t\tanyactive: 0,\n\t\t\twinner: 0,\n\t\t\tlocation: {}\n\t\t};\n\t\t// store the drop data on the element\n\t\t$.data( this, drop.datakey, data );\n\t\t// store the drop target in internal cache\n\t\tdrop.targets.push( this );\n\t},\n\t\n\t// destroy the configure interaction\t\n\tteardown: function(){ \n\t\tvar data = $.data( this, drop.datakey ) || {};\n\t\t// check for related events\n\t\tif ( data.related ) \n\t\t\treturn;\n\t\t// remove the stored data\n\t\t$.removeData( this, drop.datakey );\n\t\t// reference the targeted element\n\t\tvar element = this;\n\t\t// remove from the internal cache\n\t\tdrop.targets = $.grep( drop.targets, function( target ){ \n\t\t\treturn ( target !== element ); \n\t\t});\n\t},\n\t\n\t// shared event handler\n\thandler: function( event, dd ){ \n\t\t// local vars\n\t\tvar results, $targets;\n\t\t// make sure the right data is available\n\t\tif ( !dd ) \n\t\t\treturn;\n\t\t// handle various events\n\t\tswitch ( event.type ){\n\t\t\t// draginit, from $.event.special.drag\n\t\t\tcase 'mousedown': // DROPINIT >>\n\t\t\tcase 'touchstart': // DROPINIT >>\n\t\t\t\t// collect and assign the drop targets\n\t\t\t\t$targets =  $( drop.targets );\n\t\t\t\tif ( typeof dd.drop == \"string\" )\n\t\t\t\t\t$targets = $targets.filter( dd.drop );\n\t\t\t\t// reset drop data winner properties\n\t\t\t\t$targets.each(function(){\n\t\t\t\t\tvar data = $.data( this, drop.datakey );\n\t\t\t\t\tdata.active = [];\n\t\t\t\t\tdata.anyactive = 0;\n\t\t\t\t\tdata.winner = 0;\n\t\t\t\t});\n\t\t\t\t// set available target elements\n\t\t\t\tdd.droppable = $targets;\n\t\t\t\t// activate drop targets for the initial element being dragged\n\t\t\t\t$special.drag.hijack( event, \"dropinit\", dd ); \n\t\t\t\tbreak;\n\t\t\t// drag, from $.event.special.drag\n\t\t\tcase 'mousemove': // TOLERATE >>\n\t\t\tcase 'touchmove': // TOLERATE >>\n\t\t\t\tdrop.event = event; // store the mousemove event\n\t\t\t\tif ( !drop.timer )\n\t\t\t\t\t// monitor drop targets\n\t\t\t\t\tdrop.tolerate( dd ); \n\t\t\t\tbreak;\n\t\t\t// dragend, from $.event.special.drag\n\t\t\tcase 'mouseup': // DROP >> DROPEND >>\n\t\t\tcase 'touchend': // DROP >> DROPEND >>\n\t\t\t\tdrop.timer = clearTimeout( drop.timer ); // delete timer\t\n\t\t\t\tif ( dd.propagates ){\n\t\t\t\t\t$special.drag.hijack( event, \"drop\", dd ); \n\t\t\t\t\t$special.drag.hijack( event, \"dropend\", dd ); \n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t}\n\t},\n\t\t\n\t// returns the location positions of an element\n\tlocate: function( elem, index ){ \n\t\tvar data = $.data( elem, drop.datakey ),\n\t\t$elem = $( elem ), \n\t\tposi = $elem.offset() || {}, \n\t\theight = $elem.outerHeight(), \n\t\twidth = $elem.outerWidth(),\n\t\tlocation = { \n\t\t\telem: elem, \n\t\t\twidth: width, \n\t\t\theight: height,\n\t\t\ttop: posi.top, \n\t\t\tleft: posi.left, \n\t\t\tright: posi.left + width, \n\t\t\tbottom: posi.top + height\n\t\t};\n\t\t// drag elements might not have dropdata\n\t\tif ( data ){\n\t\t\tdata.location = location;\n\t\t\tdata.index = index;\n\t\t\tdata.elem = elem;\n\t\t}\n\t\treturn location;\n\t},\n\t\n\t// test the location positions of an element against another OR an X,Y coord\n\tcontains: function( target, test ){ // target { location } contains test [x,y] or { location }\n\t\treturn ( ( test[0] || test.left ) >= target.left && ( test[0] || test.right ) <= target.right\n\t\t\t&& ( test[1] || test.top ) >= target.top && ( test[1] || test.bottom ) <= target.bottom ); \n\t},\n\t\n\t// stored tolerance modes\n\tmodes: { // fn scope: \"$.event.special.drop\" object \n\t\t// target with mouse wins, else target with most overlap wins\n\t\t'intersect': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ event.pageX, event.pageY ] ) ? // check cursor\n\t\t\t\t1e9 : this.modes.overlap.apply( this, arguments ); // check overlap\n\t\t},\n\t\t// target with most overlap wins\t\n\t\t'overlap': function( event, proxy, target ){\n\t\t\t// calculate the area of overlap...\n\t\t\treturn Math.max( 0, Math.min( target.bottom, proxy.bottom ) - Math.max( target.top, proxy.top ) )\n\t\t\t\t* Math.max( 0, Math.min( target.right, proxy.right ) - Math.max( target.left, proxy.left ) );\n\t\t},\n\t\t// proxy is completely contained within target bounds\t\n\t\t'fit': function( event, proxy, target ){\n\t\t\treturn this.contains( target, proxy ) ? 1 : 0;\n\t\t},\n\t\t// center of the proxy is contained within target bounds\t\n\t\t'middle': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ proxy.left + proxy.width * .5, proxy.top + proxy.height * .5 ] ) ? 1 : 0;\n\t\t}\n\t},\t\n\t\n\t// sort drop target cache by by winner (dsc), then index (asc)\n\tsort: function( a, b ){\n\t\treturn ( b.winner - a.winner ) || ( a.index - b.index );\n\t},\n\t\t\n\t// async, recursive tolerance execution\n\ttolerate: function( dd ){\t\t\n\t\t// declare local refs\n\t\tvar i, drp, drg, data, arr, len, elem,\n\t\t// interaction iteration variables\n\t\tx = 0, ia, end = dd.interactions.length,\n\t\t// determine the mouse coords\n\t\txy = [ drop.event.pageX, drop.event.pageY ],\n\t\t// custom or stored tolerance fn\n\t\ttolerance = drop.tolerance || drop.modes[ drop.mode ];\n\t\t// go through each passed interaction...\n\t\tdo if ( ia = dd.interactions[x] ){\n\t\t\t// check valid interaction\n\t\t\tif ( !ia )\n\t\t\t\treturn; \n\t\t\t// initialize or clear the drop data\n\t\t\tia.drop = [];\n\t\t\t// holds the drop elements\n\t\t\tarr = []; \n\t\t\tlen = ia.droppable.length;\n\t\t\t// determine the proxy location, if needed\n\t\t\tif ( tolerance )\n\t\t\t\tdrg = drop.locate( ia.proxy ); \n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop each stored drop target\n\t\t\tdo if ( elem = ia.droppable[i] ){ \n\t\t\t\tdata = $.data( elem, drop.datakey );\n\t\t\t\tdrp = data.location;\n\t\t\t\tif ( !drp ) continue;\n\t\t\t\t// find a winner: tolerance function is defined, call it\n\t\t\t\tdata.winner = tolerance ? tolerance.call( drop, drop.event, drg, drp ) \n\t\t\t\t\t// mouse position is always the fallback\n\t\t\t\t\t: drop.contains( drp, xy ) ? 1 : 0; \n\t\t\t\tarr.push( data );\t\n\t\t\t} while ( ++i < len ); // loop \n\t\t\t// sort the drop targets\n\t\t\tarr.sort( drop.sort );\t\t\t\n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop through all of the targets again\n\t\t\tdo if ( data = arr[ i ] ){\n\t\t\t\t// winners...\n\t\t\t\tif ( data.winner && ia.drop.length < drop.multi ){\n\t\t\t\t\t// new winner... dropstart\n\t\t\t\t\tif ( !data.active[x] && !data.anyactive ){\n\t\t\t\t\t\t// check to make sure that this is not prevented\n\t\t\t\t\t\tif ( $special.drag.hijack( drop.event, \"dropstart\", dd, x, data.elem )[0] !== false ){ \t\n\t\t\t\t\t\t\tdata.active[x] = 1;\n\t\t\t\t\t\t\tdata.anyactive += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if false, it is not a winner\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata.winner = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// if it is still a winner\n\t\t\t\t\tif ( data.winner )\n\t\t\t\t\t\tia.drop.push( data.elem );\n\t\t\t\t}\n\t\t\t\t// losers... \n\t\t\t\telse if ( data.active[x] && data.anyactive == 1 ){\n\t\t\t\t\t// former winner... dropend\n\t\t\t\t\t$special.drag.hijack( drop.event, \"dropend\", dd, x, data.elem ); \n\t\t\t\t\tdata.active[x] = 0;\n\t\t\t\t\tdata.anyactive -= 1;\n\t\t\t\t}\n\t\t\t} while ( ++i < len ); // loop \t\t\n\t\t} while ( ++x < end ) // loop\n\t\t// check if the mouse is still moving or is idle\n\t\tif ( drop.last && xy[0] == drop.last.pageX && xy[1] == drop.last.pageY ) \n\t\t\tdelete drop.timer; // idle, don't recurse\n\t\telse  // recurse\n\t\t\tdrop.timer = setTimeout(function(){ \n\t\t\t\tdrop.tolerate( dd ); \n\t\t\t}, drop.delay );\n\t\t// remember event, to compare idleness\n\t\tdrop.last = drop.event; \n\t}\n\t\n};\n\n// share the same special event configuration with related events...\n$special.dropinit = $special.dropstart = $special.dropend = drop;\n\n})(jQuery); // confine scope\t","/*! \n * jquery.event.drop.live - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2010-06-07\n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2, event.drop 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// local refs (increase compression)\nvar $event = $.event,\n// ref the drop special event config\ndrop = $event.special.drop,\n// old drop event add method\norigadd = drop.add,\n// old drop event teradown method\norigteardown = drop.teardown;\n\n// allow events to bubble for delegation\ndrop.noBubble = false;\n\n// the namespace for internal live events\ndrop.livekey = \"livedrop\";\n\n// new drop event add method\ndrop.add = function( obj ){ \n\t// call the old method\n\torigadd.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey );\n\t// bind the live \"dropinit\" delegator\n\tif ( !data.live && obj.selector ){\n\t\tdata.live = true;\n\t\t$event.add( this, \"dropinit.\"+ drop.livekey, drop.delegate );\n\t}\n};\n\n// new drop event teardown method\ndrop.teardown = function(){ \n\t// call the old method\n\torigteardown.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey ) || {};\n\t// remove the live \"dropinit\" delegator\n\tif ( data.live ){\n\t\t// remove the \"live\" delegation\n\t\t$event.remove( this, \"dropinit\", drop.delegate );\n\t\tdata.live = false;\n\t}\n};\n\n// identify potential delegate elements\ndrop.delegate = function( event, dd ){\n\t// local refs\n\tvar elems = [], $targets, \n\t// element event structure\n\tevents = $.data( this, \"events\" ) || {};\n\t// query live events\n\t$.each( events || [], function( key, arr ){\n\t\t// no event type matches\n\t\tif ( key.indexOf(\"drop\") !== 0 )\n\t\t\treturn;\n\t\t$.each( arr, function( i, obj ){\n\t\t\t// locate the elements to delegate\n\t\t\t$targets = $( event.currentTarget ).find( obj.selector );\n\t\t\t// no element found\n\t\t\tif ( !$targets.length ) \n\t\t\t\treturn;\n\t\t\t// take each target...\n\t\t\t$targets.each(function(){\n\t\t\t\t// add an event handler\n\t\t\t\t$event.add( this, obj.origType +'.'+ drop.livekey, obj.origHandler || obj.handler, obj.data );\n\t\t\t\t// remember new elements\n\t\t\t\tif ( $.inArray( this, elems ) < 0 )\n\t\t\t\t\telems.push( this );\t\n\t\t\t});\t\n\t\t});\n\t});\n\t// may not exist when artifically triggering dropinit event\n\tif ( dd )\n\t\t// clean-up after the interaction ends\n\t\t$event.add( dd.drag, \"dragend.\"+drop.livekey, function(){\n\t\t\t$.each( elems.concat( this ), function(){\n\t\t\t\t$event.remove( this, '.'+ drop.livekey );\t\t\t\t\t\t\t\n\t\t\t});\n\t\t});\n\t//drop.delegates.push( elems );\n\treturn elems.length ? $( elems ) : false;\n};\n\n})( jQuery ); // confine scope\t","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar errors_1 = require(\"./errors\");\n\nvar component_panel_1 = require(\"./component-panel\");\n\nvar style_1 = require(\"./style\");\n\nvar component_1 = require(\"./component\");\n\nvar components_1 = require(\"./components\");\n/**\n * 组件包装器，对组件进行包装，实现组件设计时的行为。\n * 1. 组件的移动\n * 2. 组件的拖放\n */\n\n\nvar ComponentWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentWrapper, _React$Component);\n\n  function ComponentWrapper(props) {\n    _classCallCheck(this, ComponentWrapper);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ComponentWrapper).call(this, props));\n  }\n\n  _createClass(ComponentWrapper, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"designtimeBehavior\",\n    value: function designtimeBehavior(element, attr) {\n      if (!element) throw errors_1.Errors.argumentNull('element');\n      if (!attr) throw errors_1.Errors.argumentNull('args');\n\n      if (element.getAttribute('data-behavior')) {\n        return;\n      }\n\n      element.setAttribute('data-behavior', 'behavior');\n      var designer = this.props.designer;\n      console.assert(attr.container != null);\n      console.assert(attr.movable != null);\n\n      if (attr.container) {\n        ComponentWrapper.enableAppendDroppable(element, designer);\n      }\n\n      if (attr.movable) {\n        console.assert(element != null);\n        ComponentWrapper.draggable(designer, element);\n        if (this.handler != null) ComponentWrapper.draggable(designer, element, this.handler);\n      } else {\n        element.onclick = function (ev) {\n          return ComponentWrapper.invokeOnClick(ev, designer, element);\n        };\n      }\n    }\n    /**\n     * 启用拖放操作，以便通过拖放图标添加控件\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.element) {\n        return;\n      }\n\n      var attr = this.props.source.attr;\n      this.designtimeBehavior(this.element, attr);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      var attr = this.props.source.attr;\n      var shouldWrapper = attr.resize || typeof this.props.source.type != 'string' && this.props.source.type != components_1.MasterPage;\n\n      if (!shouldWrapper) {\n        return this.renderWidthoutWrapper();\n      }\n\n      var props = this.props.source.props;\n      var style = props.style = JSON.parse(JSON.stringify(props.style || {})); // 深复制 style\n\n      var top = style.top,\n          left = style.left,\n          position = style.position,\n          width = style.width,\n          height = style.height,\n          display = style.display,\n          visibility = style.visibility;\n      var className = style_1.appendClassName(props.className || '', style_1.classNames.componentWrapper);\n      className = props.selected ? style_1.appendClassName(className, style_1.classNames.componentSelected) : className;\n      var wrapperProps = {\n        id: props.id,\n        className: className,\n        style: {\n          top: top,\n          left: left,\n          position: position,\n          width: width,\n          height: height,\n          display: display,\n          visibility: visibility\n        },\n        ref: function ref(e) {\n          return _this.element = e || _this.element;\n        }\n      };\n      var move_handle = props.selected && attr.showHandler ? React.createElement(\"div\", {\n        className: \"move_handle\",\n        style: {},\n        ref: function ref(e) {\n          return _this.handler = e || _this.handler;\n        }\n      }) : null;\n      var showResizeHandle = attr.resize && props.style.position == 'absolute' && props.selected;\n      var source = this.props.source;\n\n      if (props.style) {\n        delete props.style.left;\n        delete props.style.top;\n        delete props.style.position;\n        if (wrapperProps.style.width && wrapperProps.style.width != 'unset') props.style.width = '100%';\n        if (wrapperProps.style.height && wrapperProps.style.height != 'unset') props.style.height = '100%';\n      } // source.props.ref = function (e) {\n      // };\n\n\n      return React.createElement(component_1.ComponentWrapperContext.Provider, {\n        value: this\n      }, React.createElement(\"div\", Object.assign({}, wrapperProps), move_handle, showResizeHandle ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"resize_handle NE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NN\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle WW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle EE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SS\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SE\"\n      })) : null, this.createRawElement(source.type, source.props, source.children)));\n    }\n  }, {\n    key: \"renderWidthoutWrapper\",\n    value: function renderWidthoutWrapper() {\n      var _this2 = this;\n\n      var _this$props$source = this.props.source,\n          type = _this$props$source.type,\n          props = _this$props$source.props,\n          children = _this$props$source.children;\n      var ref = props.ref;\n\n      props.ref = function (e) {\n        if (typeof ref == \"function\") ref(e);\n        if (!e) return;\n\n        if (e.tagName) {\n          var attr = _this2.props.source.attr;\n\n          _this2.designtimeBehavior(e, attr);\n\n          return;\n        }\n      };\n\n      if (props.selected) {\n        props.className = style_1.appendClassName(props.className || '', style_1.classNames.componentSelected);\n      }\n\n      var element = this.createRawElement(type, props, children);\n      return React.createElement(component_1.ComponentWrapperContext.Provider, {\n        value: this\n      }, element);\n    }\n  }, {\n    key: \"createRawElement\",\n    value: function createRawElement(type, props, children) {\n      var isEmptyElement = (children || []).length == 0;\n\n      if (isEmptyElement) {\n        var emtpy = this.designTimeEmptyElement(type, props);\n        if (emtpy != null) children = [emtpy];\n      }\n\n      return React.createElement.apply(React, [type, props].concat(_toConsumableArray(children)));\n    }\n  }, {\n    key: \"designTimeEmptyElement\",\n    value: function designTimeEmptyElement(type, props) {\n      if (type == 'input' || type == 'img' || type == 'meta' || type == 'link') return null;\n      var typename = typeof type == 'string' ? type : type.name;\n      var text = this.designTimeText(typename, props);\n      return text;\n    }\n  }, {\n    key: \"designTimeText\",\n    value: function designTimeText(type, props) {\n      var text = props.text;\n\n      if (text) {\n        return text;\n      }\n\n      text = text || props.name || type;\n      return text;\n    }\n  }], [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, designer) {\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var componentName = event.dataTransfer.getData(components_1.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event['layerX'], \" top:\").concat(event['layerX']));\n      });\n      element.addEventListener(\"drop\", function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var args1 = arguments[1];\n        if (!event.dataTransfer) return;\n        var ctrl = component_panel_1.ComponentPanel.getComponentData(event.dataTransfer);\n        if (!ctrl) return;\n        ctrl.props.style = ctrl.props.style || {};\n        designer.pageData.props.style = designer.pageData.props.style || {};\n\n        if (!ctrl.props.style.position) {\n          ctrl.props.style.position = designer.pageData.props.style.position;\n        }\n\n        var pos = component_panel_1.ComponentPanel.mouseInnerPosition(event.dataTransfer);\n        console.assert(pos != null);\n\n        if (ctrl.props.style.position == 'absolute') {\n          ctrl.props.style.left = event['layerX'] - pos.x;\n          ctrl.props.style.top = event['layerY'] - pos.y;\n        }\n\n        designer.appendComponent(element.id, ctrl);\n      });\n    }\n  }, {\n    key: \"isResizeHandleClassName\",\n    value: function isResizeHandleClassName(className) {\n      var classNames = ['resize_handle NE', 'resize_handle NN', 'resize_handle NW', 'resize_handle WW', 'resize_handle EE', 'resize_handle SW', 'resize_handle SS', 'resize_handle SE'];\n      return classNames.indexOf(className) >= 0;\n    }\n  }, {\n    key: \"draggable\",\n    value: function draggable(designer, element, handler) {\n      if (!designer) throw errors_1.Errors.argumentNull('designer');\n      if (!element) throw errors_1.Errors.argumentNull('element');\n      console.assert(element.id != \"\");\n      handler = handler || element;\n      var componentId = element.id;\n      console.assert(componentId != \"\");\n      var startPos;\n      var rect;\n      var dragStart;\n      $(handler).drag(\"init\", function (ev) {\n        startPos = $(element).position();\n        if ($(this).is(\".\".concat(style_1.classNames.componentSelected))) return $(\".\".concat(style_1.classNames.componentSelected));\n      }).drag('start', function (ev, dd) {\n        dd.attr = $(ev.target).prop(\"className\");\n        dd.width = $(this).width();\n        dd.height = $(this).height();\n        dd.sourceElement = element;\n        dragStart = Date.now();\n      }).drag(function (ev, dd) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        console.log(\"drop:\");\n        console.log(dd.drop);\n        rect = {};\n\n        if (dd.attr.indexOf(\"E\") > -1) {\n          rect.width = Math.max(32, dd.width + dd.deltaX);\n        }\n\n        if (dd.attr.indexOf(\"S\") > -1) {\n          rect.height = Math.max(32, dd.height + dd.deltaY);\n        }\n\n        if (dd.attr.indexOf(\"W\") > -1) {\n          rect.width = Math.max(32, dd.width - dd.deltaX);\n          setLeft(dd);\n        }\n\n        if (dd.attr.indexOf(\"N\") > -1) {\n          rect.height = Math.max(32, dd.height - dd.deltaY);\n          setTop(dd);\n        }\n\n        if (dd.attr.indexOf(\"WW\") >= 0) setLeft(dd);\n        if (dd.attr.indexOf(\"NE\") >= 0 || dd.attr.indexOf(\"NW\") >= 0 || dd.attr.indexOf(\"SW\") >= 0) setPosition(dd);\n        if (dd.attr.indexOf(\"NN\") >= 0) setTop(dd);\n\n        if (dd.attr.indexOf(\"drag\") > -1) {\n          rect.top = dd.offsetY;\n          rect.left = dd.offsetX;\n        }\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          setPosition(dd);\n        }\n\n        if (dd.attr) $(this).css(rect);\n      }, {\n        click: true\n      }).drag('end', function (ev, dd) {\n        var interval = Date.now() - dragStart;\n        ComponentWrapper.isDrag = interval >= 300;\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          var left = startPos.left + dd.deltaX;\n          var top = startPos.top + dd.deltaY;\n          designer.setComponentPosition(element.id, {\n            left: left,\n            top: top\n          });\n          element.style.transform = '';\n        } else {\n          var _left, _top;\n\n          if (dd.attr.indexOf(\"W\") > -1) _left = startPos.left + dd.deltaX;\n          if (dd.attr.indexOf(\"N\") > -1) _top = startPos.top + dd.deltaY;\n          element.style.transform = '';\n          designer.setComponentPosition(element.id, {\n            left: _left,\n            top: _top\n          });\n          designer.setComponentSize(componentId, rect);\n        }\n      }).click(function (ev) {\n        ComponentWrapper.invokeOnClick(ev, designer, element);\n      });\n\n      var setPosition = function setPosition(dd) {\n        console.log(['dd.offsetX, dd.offsetY', dd.offsetX, dd.offsetY]);\n        console.log(dd);\n        element.style.transform = \"translate(\".concat(dd.deltaX, \"px,\").concat(dd.deltaY, \"px)\");\n      };\n\n      var setTop = function setTop(dd) {\n        element.style.transform = \"translateY(\".concat(dd.deltaY, \"px)\");\n      };\n\n      var setLeft = function setLeft(dd) {\n        element.style.transform = \"translateX(\".concat(dd.deltaX, \"px)\");\n      };\n    }\n  }, {\n    key: \"invokeOnClick\",\n    value: function invokeOnClick(ev, designer, element) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (ComponentWrapper.isDrag) {\n        ComponentWrapper.isDrag = false;\n        return;\n      }\n\n      var elementID = element.id;\n\n      if (!ev.ctrlKey) {\n        designer.selectComponent(element.id);\n        return;\n      }\n\n      var selectedControlIds = designer.selectedComponentIds;\n      console.assert(elementID != \"\");\n\n      if (selectedControlIds.indexOf(elementID) >= 0) {\n        selectedControlIds = selectedControlIds.filter(function (o) {\n          return o != elementID;\n        });\n      } else {\n        selectedControlIds.push(elementID);\n      }\n\n      designer.selectComponent(selectedControlIds);\n    }\n  }]);\n\n  return ComponentWrapper;\n}(React.Component);\n\nComponentWrapper.isDrag = false;\nexports.ComponentWrapper = ComponentWrapper;\n//# sourceMappingURL=component-wrapper.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar errors_1 = require(\"./errors\");\n\nvar style_1 = require(\"../style\");\n\nvar component_panel_1 = require(\"../component-panel\");\n\nvar master_page_1 = require(\"./master-page\");\n\nvar component_1 = require(\"../component\");\n\nvar common_1 = require(\"./common\");\n/**\n * 占位符，用于放置控件\n */\n\n\nvar PlaceHolder =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PlaceHolder, _React$Component);\n\n  function PlaceHolder(props) {\n    var _this;\n\n    _classCallCheck(this, PlaceHolder);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlaceHolder).call(this, props));\n\n    if (!_this.props.id) {\n      throw errors_1.Errors.placeHolderIdNull();\n    }\n\n    return _this;\n  }\n  /**\n   * 启用拖放操作，以便通过拖放图标添加控件\n   */\n\n\n  _createClass(PlaceHolder, [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, master) {\n      var _this2 = this;\n\n      if (element.getAttribute('enable-append-droppable')) return;\n      element.setAttribute('enable-append-droppable', 'true');\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = style_1.appendClassName(element.className || '', 'active');\n        var componentName = event.dataTransfer.getData(common_1.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event.layerX, \" top:\").concat(event.layerX));\n      });\n\n      var func = function func(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = style_1.removeClassName(element.className, 'active');\n      };\n\n      element.addEventListener('dragleave', func);\n      element.addEventListener('dragend', func);\n      element.addEventListener('dragexit', func);\n\n      element.ondrop = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = style_1.removeClassName(element.className, 'active');\n        var ctrl;\n        if (event.dataTransfer) ctrl = component_panel_1.ComponentPanel.getComponentData(event.dataTransfer);\n        if (!ctrl) return;\n        console.assert(_this2.props.id != null);\n        console.assert(_this2.designer != null);\n        ctrl.parentId = _this2.props.id;\n        console.assert(master != null, 'host is null');\n\n        _this2.designer.appendComponent(master.props.id, ctrl);\n      };\n    }\n  }, {\n    key: \"enableMoveDroppable\",\n    value: function enableMoveDroppable(element, host) {\n      var _this3 = this;\n\n      if (element.getAttribute('enable-move-droppable')) return;\n      element.setAttribute('enable-move-droppable', 'true');\n      $(element).drop('start', function (event, dd) {\n        if (dd.sourceElement.id == _this3.wraper.props.source.props.id) return;\n        style_1.appendClassName(element, 'active');\n      }).drop('drop', function (event, dd) {\n        if (dd.sourceElement.id == _this3.wraper.props.source.props.id) return;\n\n        var componentData = _this3.designer.findComponentData(dd.sourceElement.id);\n\n        console.assert(componentData != null);\n        var propName = 'parentId';\n\n        _this3.designer.moveComponent(dd.sourceElement.id, host.props.id);\n\n        _this3.designer.updateComponentProps({\n          componentId: \"string\",\n          propName: \"string\",\n          value: \"any\"\n        }); //dd.sourceElement.id, propName, this.props.id\n\n      }).drop('end', function (event, dd) {\n        if (dd.sourceElement.id == _this3.wraper.props.source.props.id) return;\n        style_1.removeClassName(element, 'active');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        key: common_1.guid(),\n        className: \"empty\"\n      }, \"\\u53EF\\u4EE5\\u62D6\\u62C9\\u63A7\\u4EF6\\u5230\\u8FD9\\u91CC\");\n      return React.createElement(master_page_1.MasterPageContext.Consumer, null, function (args) {\n        var master = args.master;\n        if (master == null) throw errors_1.Errors.canntFindMasterPage(_this4.props.id);\n        var children = [];\n\n        if (master.props && master.props.children) {\n          var arr;\n\n          if (Array.isArray(master.props.children)) {\n            arr = master.props.children;\n          } else {\n            arr = [master.props.children];\n          }\n\n          children = arr.filter(function (o) {\n            return o.props.parentId != null && o.props.parentId == _this4.props.id;\n          });\n        }\n\n        return React.createElement(component_1.DesignerContext.Consumer, null, function (args) {\n          return React.createElement(component_1.ComponentWrapperContext.Consumer, null, function (wraper) {\n            _this4.wraper = wraper;\n            console.assert(_this4.wraper != null);\n\n            if (args.designer != null && children.length == 0) {\n              children = [empty];\n            }\n\n            var element = React.createElement(React.Fragment, null, _this4.props.children, children);\n\n            if (args.designer) {\n              _this4.designer = args.designer;\n              element = React.createElement(\"div\", {\n                key: common_1.guid(),\n                className: style_1.classNames.placeholder,\n                ref: function ref(e) {\n                  if (!e) return;\n                  _this4.element = e;\n\n                  _this4.enableAppendDroppable(e, master);\n\n                  _this4.enableMoveDroppable(e, master);\n                }\n              }, element);\n            }\n\n            return element;\n          });\n        });\n      });\n    }\n  }]);\n\n  return PlaceHolder;\n}(React.Component);\n\nexports.PlaceHolder = PlaceHolder;\ncomponent_1.Component.register(common_1.ComponentTypes.PlaceHolder, PlaceHolder);\n//# sourceMappingURL=place-holder.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar component_1 = require(\"../component\");\n\nvar common_1 = require(\"./common\");\n\nvar Text =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Text, _React$Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"span\", null, this.props.text);\n    }\n  }]);\n\n  return Text;\n}(React.Component);\n\nexports.Text = Text;\ncomponent_1.Component.register(common_1.ComponentTypes.Text, Text);\n//# sourceMappingURL=text.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar property_editor_1 = require(\"./property-editor\");\n\nvar style_1 = require(\"./style\");\n\nvar EditorPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditorPanel, _React$Component);\n\n  // private designerComponentChanged: (args: any) => void\n  function EditorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EditorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditorPanel).call(this, props));\n    _this.state = {\n      componentDatas: []\n    }; // this.designerComponentChanged = () => {\n    //     console.assert(this.designer != null)\n    //     this.setState({ designer: this.designer })\n    // }\n\n    return _this;\n  }\n\n  _createClass(EditorPanel, [{\n    key: \"render\",\n    // set designer(value) {\n    //     if (this._designer) {\n    //         this._designer.componentRemoved.remove(this.designerComponentChanged)\n    //         this._designer.componentAppend.remove(this.designerComponentChanged)\n    //         this._designer.componentUpdated.remove(this.designerComponentChanged)\n    //         this._designer.componentSelected.remove(this.designerComponentChanged)\n    //     }\n    //     if (value) {\n    //         value.componentRemoved.add(this.designerComponentChanged)\n    //         value.componentAppend.add(this.designerComponentChanged)\n    //         value.componentUpdated.add(this.designerComponentChanged)\n    //         value.componentSelected.add(this.designerComponentChanged)\n    //     }\n    //     this._designer = value;\n    //     this.setState({ designer: value });\n    // }\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty;\n      empty = empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n      var designer = this.props.designer;\n      return React.createElement(\"div\", {\n        className: \"\".concat(style_1.classNames.editorPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.element = e || _this2.element;\n        }\n      }, React.createElement(property_editor_1.PropertyEditor, {\n        designer: designer,\n        ref: function ref(e) {\n          return _this2.editor = e || _this2.editor;\n        },\n        empty: empty,\n        customRender: this.props.customRender\n      }));\n    }\n  }, {\n    key: \"designer\",\n    get: function get() {\n      return this._designer;\n    }\n  }]);\n\n  return EditorPanel;\n}(React.Component);\n\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map\n","\"use strict\";\n/*******************************************************************************\n * Copyright (C) maishu All rights reserved.\n *\n * HTML 页面设计器\n *\n * 作者: 寒烟\n * 日期: 2018/5/30\n *\n * 个人博客：   http://www.cnblogs.com/ansiboy/\n * GITHUB:     http://github.com/ansiboy\n * QQ 讨论组：  119038574\n *\n ********************************************************************************/\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar component_1 = require(\"./component\");\n\nvar common_1 = require(\"./common\");\n\nvar errors_1 = require(\"./errors\");\n\nvar PropertyEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n\n  function PropertyEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyEditor).call(this, props));\n    _this._element = null;\n    _this.state = {\n      groupedEditors: []\n    };\n\n    _this.props.designer.componentSelected.add(function () {\n      var editors = _this.getEditors(_this.props.designer);\n\n      _this.setState({\n        groupedEditors: editors\n      });\n    });\n\n    return _this;\n  } // static getDerivedStateFromProps(props: EditorProps, state: EditorState): Partial<EditorState> {\n  //     return { designer: props.designer };\n  // }\n\n\n  _createClass(PropertyEditor, [{\n    key: \"getEditors\",\n    value: function getEditors(designer) {\n      var _this2 = this;\n\n      if (designer == null) {\n        return [];\n      } // 各个控件相同的编辑器\n\n\n      var commonPropEditorInfos = [];\n      var selectedComponents = designer.selectedComponents;\n\n      var _loop = function _loop(i) {\n        var componentData = selectedComponents[i];\n        var propEditorInfos = component_1.Component.getPropEditors(componentData);\n\n        if (i == 0) {\n          commonPropEditorInfos = propEditorInfos || [];\n        } else {\n          var items = [];\n          commonPropEditorInfos.forEach(function (propInfo1) {\n            propEditorInfos.forEach(function (propInfo2) {\n              var propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n\n              var propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n\n              if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                items.push(propInfo1);\n              }\n            });\n          });\n          commonPropEditorInfos = items;\n        }\n      };\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        _loop(i);\n      } // 各个控件相同的属性值\n\n\n      var commonFlatProps;\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        var control = selectedComponents[i];\n        var controlProps = Object.assign({}, control.props);\n        delete controlProps.children; // controlProps = this.flatProps(controlProps)\n\n        if (i == 0) {\n          commonFlatProps = controlProps;\n        } else {\n          var obj = {};\n\n          for (var key in commonFlatProps) {\n            if (commonFlatProps[key] == controlProps[key]) obj[key] = controlProps[key];\n          }\n\n          commonFlatProps = obj;\n        }\n      }\n\n      var editors = [];\n\n      var _loop2 = function _loop2(_i) {\n        var propEditorInfo = commonPropEditorInfos[_i];\n        var propName = propEditorInfo.propName;\n        ;\n        var editorType = propEditorInfo.editorType;\n\n        var value = _this2.propValue(propName, commonFlatProps);\n\n        var editorProps = {\n          value: value,\n          editComponents: selectedComponents,\n          updateComponentProp: function updateComponentProp(value) {\n            var componentProps = selectedComponents.map(function (o) {\n              return {\n                componentId: o.id,\n                propName: propEditorInfo.propName,\n                value: value\n              };\n            });\n            designer.updateComponentProps(componentProps);\n          }\n        };\n        var editor = React.createElement(editorType, editorProps);\n        editors.push({\n          prop: propEditorInfo.propName,\n          editor: editor,\n          group: propEditorInfo.group\n        });\n      };\n\n      for (var _i = 0; _i < commonPropEditorInfos.length; _i++) {\n        _loop2(_i);\n      }\n\n      return editors;\n    }\n  }, {\n    key: \"propValue\",\n    value: function propValue(propName, props) {\n      if (!propName) throw errors_1.Errors.argumentNull(\"propName\");\n      if (!props) throw errors_1.Errors.argumentNull(\"props\");\n      var navPropsNames = propName.split(\".\");\n      var obj = props;\n\n      for (var i = 0; i < navPropsNames.length; i++) {\n        obj = obj[navPropsNames[i]];\n        if (obj == null) return null;\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var designer = this.props.designer;\n      var editors = this.state.groupedEditors; //this.getEditors(designer)\n\n      if (editors.length == 0) {\n        var empty = this.props.empty;\n        return React.createElement(\"div\", {\n          className: \"text-center\"\n        }, empty);\n      }\n\n      if (this.props.customRender) {\n        var items = editors.map(function (o) {\n          return Object.assign({\n            displayName: common_1.proptDisplayNames[o.prop] || o.prop\n          }, o);\n        });\n        var r = this.props.customRender(designer.selectedComponents, items);\n\n        if (r != null) {\n          return r;\n        }\n      }\n\n      var groupEditorsArray = [];\n\n      var _loop3 = function _loop3(i) {\n        var group = editors[i].group || '';\n        var groupEditors = groupEditorsArray.filter(function (o) {\n          return o.group == group;\n        })[0];\n\n        if (groupEditors == null) {\n          groupEditors = {\n            group: editors[i].group,\n            editors: []\n          };\n          groupEditorsArray.push(groupEditors);\n        }\n\n        groupEditors.editors.push({\n          prop: editors[i].prop,\n          editor: editors[i].editor\n        });\n      };\n\n      for (var i = 0; i < editors.length; i++) {\n        _loop3(i);\n      }\n\n      return React.createElement(React.Fragment, null, groupEditorsArray.map(function (g) {\n        return React.createElement(\"div\", {\n          key: g.group,\n          className: \"panel panel-default\"\n        }, g.group ? React.createElement(\"div\", {\n          className: \"panel-heading\"\n        }, common_1.proptDisplayNames[g.group] || g.group) : null, React.createElement(\"div\", {\n          className: \"panel-body\"\n        }, g.editors.map(function (o, i) {\n          return React.createElement(\"div\", {\n            key: o.prop,\n            className: \"form-group clearfix\"\n          }, React.createElement(\"label\", null, common_1.proptDisplayNames[o.prop] || o.prop), React.createElement(\"div\", {\n            className: \"control\"\n          }, React.createElement(ErrorBoundary, null, o.editor)));\n        })));\n      }));\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }]);\n\n  return PropertyEditor;\n}(React.Component);\n\nexports.PropertyEditor = PropertyEditor;\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(ErrorBoundary, _React$Component2);\n\n  function ErrorBoundary(props) {\n    var _this3;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this3.state = {};\n    return _this3;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        // You can render any custom fallback UI\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=property-editor.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropEditor, _React$Component);\n\n  function PropEditor(props) {\n    _classCallCheck(this, PropEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PropEditor).call(this, props));\n  }\n\n  _createClass(PropEditor, null, [{\n    key: \"dropdown\",\n    value: function dropdown(items, valueType) {\n      return _dropdown(items, valueType);\n    }\n  }, {\n    key: \"textInput\",\n    value: function textInput() {\n      return TextInput;\n    }\n  }]);\n\n  return PropEditor;\n}(React.Component);\n\nexports.PropEditor = PropEditor;\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_PropEditor) {\n  _inherits(TextInput, _PropEditor);\n\n  function TextInput() {\n    _classCallCheck(this, TextInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TextInput).apply(this, arguments));\n  }\n\n  _createClass(TextInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var value = this.props.value;\n      return React.createElement(\"input\", {\n        className: 'form-control',\n        value: value || '',\n        onChange: function onChange(e) {\n          // this.setState({ value: e.target.value })\n          _this.props.updateComponentProp(e.target.value);\n        }\n      });\n    }\n  }]);\n\n  return TextInput;\n}(PropEditor);\n\nexports.TextInput = TextInput;\n\nfunction _dropdown(items, valueType) {\n  var itemsPromise;\n  var textValues = [];\n\n  if (valueType == null && Array.isArray(items)) {\n    valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n\n    for (var i = 0; i < items.length; i++) {\n      textValues[i] = {\n        text: items[i],\n        value: items[i]\n      };\n    }\n  } else if (valueType == null) {\n    valueType = \"string\";\n    var propNames = Object.getOwnPropertyNames(items);\n\n    for (var _i = 0; _i < propNames.length; _i++) {\n      textValues[_i] = {\n        text: items[propNames[_i]],\n        value: propNames[_i]\n      };\n    }\n  } else if (Array.isArray(items)) {\n    textValues = items;\n  } else {\n    itemsPromise = items;\n  }\n\n  var Dropdown =\n  /*#__PURE__*/\n  function (_PropEditor2) {\n    _inherits(Dropdown, _PropEditor2);\n\n    function Dropdown(props) {\n      var _this2;\n\n      _classCallCheck(this, Dropdown);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n      _this2.state = {};\n      return _this2;\n    }\n\n    _createClass(Dropdown, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        return __awaiter(this, void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var _items;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!itemsPromise) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return itemsPromise;\n\n                case 3:\n                  _items = _context.sent;\n                  this.setState({\n                    items: _items\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var items = this.state.items;\n        var value = this.props.value;\n        items = items || textValues;\n        return React.createElement(\"select\", {\n          className: 'form-control',\n          value: value == null ? \"\" : value,\n          onChange: function onChange(e) {\n            var textValue = e.target.value;\n\n            if (valueType == \"number\") {\n              var integerRegex = /^\\d+$/;\n              var floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n              if (integerRegex.test(textValue)) value = parseInt(textValue);else if (floatRegex.test(textValue)) value = parseFloat(textValue);else value = null;\n            } else {\n              value = textValue;\n            }\n\n            _this3.props.updateComponentProp(value);\n          }\n        }, items.map(function (o) {\n          return React.createElement(\"option\", {\n            key: o.value,\n            value: o.value\n          }, o.text);\n        }));\n      }\n    }]);\n\n    return Dropdown;\n  }(PropEditor);\n\n  return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/** 组件工厂 */\n\nvar ComponentFactory = function ComponentFactory() {\n  _classCallCheck(this, ComponentFactory);\n};\n\nexports.ComponentFactory = ComponentFactory;\n//# sourceMappingURL=component-factory.js.map\n","\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar errors_1 = require(\"./errors\");\n\nvar maishu_toolkit_1 = require(\"maishu-toolkit\");\n\nvar ComponentDataHandler =\n/*#__PURE__*/\nfunction () {\n  function ComponentDataHandler(componentData) {\n    _classCallCheck(this, ComponentDataHandler);\n\n    this._components = {};\n    this.componentSelected = maishu_toolkit_1.Callback.create();\n    this.componentRemoved = maishu_toolkit_1.Callback.create();\n    this.componentAppend = maishu_toolkit_1.Callback.create();\n    this.componentUpdated = maishu_toolkit_1.Callback.create();\n    this.pageDataChanged = maishu_toolkit_1.Callback.create();\n    this._pageData = componentData;\n    this.fillComponentData(this._pageData);\n  }\n  /** 对 pageData 字段补全 */\n\n\n  _createClass(ComponentDataHandler, [{\n    key: \"fillComponentData\",\n    value: function fillComponentData(componentData) {\n      if (componentData == null) {\n        return;\n      }\n\n      componentData.children = componentData.children || [];\n      ComponentDataHandler.nameComponent(componentData);\n      ComponentDataHandler.setComponetRefProp(componentData, this._components);\n    }\n    /** 获取已选择了的组件 */\n\n  }, {\n    key: \"moveComponent\",\n\n    /**\n     * 移动控件到另外一个控件容器\n     * @param componentId 要移动的组件编号\n     * @param parentId 目标组件编号\n     * @param beforeChildId 组件的前一个子组件编号\n     */\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.pageData;\n      console.assert(pageData.children != null);\n      var children = pageData.children; //translateComponentDataChildren(pageData.children);\n\n      this.removeComponentFrom(componentId, children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps(componentProps) {\n      var componentDatas = [];\n\n      for (var i = 0; i < componentProps.length; i++) {\n        var _componentProps$i = componentProps[i],\n            componentId = _componentProps$i.componentId,\n            propName = _componentProps$i.propName,\n            value = _componentProps$i.value;\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.componentUpdated.fire(componentDatas);\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      var pageData = this._pageData;\n      if (!pageData) throw errors_1.Errors.pageDataIsNull(); // let stack = new Array<ComponentData>();\n      // stack.push(pageData);\n      // while (stack.length > 0) {\n      //     let item = stack.pop();\n      //     if (item == null)\n      //         continue\n      //     if (item.props.id == componentId)\n      //         return item;\n      //     let children = (item.children || []).filter(o => typeof o == 'object') as ComponentData[]\n      //     stack.push(...children);\n      // }\n\n      var componentDatas = ComponentDataHandler.travelComponentData(pageData, function (item) {\n        return item.id == componentId;\n      });\n      return componentDatas[0];\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var controlIndex = null;\n\n      for (var i = 0; i < collection.length; i++) {\n        var child = collection[i];\n        if (typeof child == \"string\") continue;\n\n        if (controlId == child.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var o = collection[_i2];\n          if (typeof o == \"string\") continue;\n          var children = o.children;\n\n          if (children && children.length > 0) {\n            var isRemoved = this.removeComponentFrom(controlId, children);\n\n            if (isRemoved) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"appendComponent\",\n\n    /**\n     * 添加控件\n     * @param parentId 父控件编号\n     * @param componentData 控件数据\n     * @param componentIndex 新添加组件在子组件中的次序\n     */\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw errors_1.Errors.argumentNull('parentId');\n      if (!componentData) throw errors_1.Errors.argumentNull('childComponent');\n      this.fillComponentData(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      }\n\n      this.selectComponents(componentData.id);\n      this.componentAppend.fire(this);\n    }\n    /**\n     * 对组件及其子控件进行命名\n     * @param component\n     */\n\n  }, {\n    key: \"selectComponent\",\n\n    /**\n     * 选择指定的控件\n     * @param control 指定的控件\n     */\n    value: function selectComponent(componentId) {\n      return this.selectComponents(componentId);\n    }\n    /**\n     * 选择指定的控件，一个或多个\n     * @param control 指定的控件\n     */\n\n  }, {\n    key: \"selectComponents\",\n    value: function selectComponents(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var stack = [];\n      stack.push(this._pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        var isSelectedControl = componentIds.indexOf(item.id) >= 0;\n        item.selected = isSelectedControl;\n        item.children.forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      this.componentSelected.fire(this.selectedComponentIds);\n    }\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent(componentId) {\n      return this.removeComponents([componentId]);\n    }\n    /** 移除控件 */\n\n  }, {\n    key: \"removeComponents\",\n    value: function removeComponents(componentIds) {\n      var _this = this;\n\n      var pageData = this.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n      var children = pageData.children;\n      componentIds.forEach(function (controlId) {\n        _this.removeComponentFrom(controlId, children);\n      });\n      this.componentRemoved.fire(componentIds);\n    }\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this._pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.selected == true) arr.push(item);\n        item.children.forEach(function (child) {\n          if (typeof child == \"string\") return true;\n          stack.push(child);\n        });\n      }\n\n      return arr;\n    }\n    /** 获取已选择了的组件编号 */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.id;\n      });\n    }\n    /**  */\n\n  }, {\n    key: \"components\",\n    get: function get() {\n      return this._components;\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this._pageData;\n    },\n    set: function set(value) {\n      this._pageData = value;\n      this.fillComponentData(value);\n      this.pageDataChanged.fire(value);\n    }\n  }], [{\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // 子元素有可能为字符串, 过滤出对象\n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"nameComponent\",\n    value: function nameComponent(component) {\n      var namedComponents = {};\n      var props = component.props = component.props || {}; //==================================================\n      // 兼容旧版本代码\n\n      if (props.id) {\n        component.id = props.id;\n        delete props.id;\n      }\n\n      if (props.parentId) {\n        component.parentId = props.parentId;\n        delete component.parentId;\n      }\n\n      if (props.selected) {\n        component.selected = props.selected;\n      }\n\n      if (props.name) {\n        component.name = props.name;\n        delete props.name;\n      } //==================================================\n\n\n      if (!component.name) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        component.name = name;\n      }\n\n      if (!component.id) component.id = maishu_toolkit_1.guid();\n      component.children = component.children || [];\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      component.children.forEach(function (child) {\n        if (typeof child == \"string\") return true;\n        ComponentDataHandler.nameComponent(child);\n      });\n    }\n  }, {\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData, components) {\n      //=========================================================\n      // 纪录当前 pageData 控件 ID\n      var componentIds = {}; //=========================================================\n\n      ComponentDataHandler.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.props[\"id\"]);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            components[item.type] = components[item.type] || [];\n            components[item.type].push(e);\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      }); //=========================================================\n      // 仅保留 componentIds 中的控件 \n\n      var names = Object.getOwnPropertyNames(components);\n\n      var _loop = function _loop(i) {\n        var typename = names[i];\n        var ids = componentIds[typename] || [];\n        components[typename] = (components[typename] || []).filter(function (o) {\n          return ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0;\n        });\n      };\n\n      for (var i = 0; i < names.length; i++) {\n        _loop(i);\n      } //=========================================================\n\n    }\n  }]);\n\n  return ComponentDataHandler;\n}();\n\nexports.ComponentDataHandler = ComponentDataHandler;\n//# sourceMappingURL=component-data-handler.js.map\n","/*!\n * ~\n *  jueying-core v1.0.2\n * \n *  Copyright (c) 2016-2018, mais.shu <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/component-factory.js\":\n/*!**********************************!*\\\n  !*** ./out/component-factory.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __webpack_require__(/*! react */ \"react\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"./out/errors.js\");\nclass CompoenntFactory {\n    constructor(compoenntTypes) {\n        this.compoenntTypes = compoenntTypes;\n    }\n    createComponent(componentData, context) {\n        try {\n            return this._createComponent(componentData, context);\n        }\n        catch (e) {\n            return this.createErrorElement(e);\n        }\n    }\n    /** 创建视图组件 */\n    createViewComponent(props, ...children) {\n        return React.createElement(\"div\", props, ...children);\n    }\n    createErrorElement(err) {\n        // return <div>\n        //     <div>Error:</div>\n        //     <div>{err.message}</div>\n        // </div>\n        return this.createViewComponent(this.createViewComponent(\"Error:\"), this.createViewComponent(err.message));\n    }\n    _createComponent(componentData, context) {\n        if (typeof componentData == \"string\")\n            return componentData;\n        let children = (componentData.children || []).map(c => this._createComponent(c));\n        let props = (componentData.props || {});\n        let defaultProps = { factory: this, context };\n        let name = componentData.typeName;\n        let compoenntType = this.compoenntTypes[name];\n        if (compoenntType == null) {\n            throw errors_1.errors.componentNotExists(name);\n        }\n        let r = React.createElement(compoenntType, props, children);\n        return r;\n    }\n}\nexports.CompoenntFactory = CompoenntFactory;\n//# sourceMappingURL=component-factory.js.map\n\n/***/ }),\n\n/***/ \"./out/errors.js\":\n/*!***********************!*\\\n  !*** ./out/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errors = {\n    pathFieldRequired(name) {\n        let msg = `Path field of '${name}' component config can not be null or empty.`;\n        return new Error(msg);\n    },\n    canntFindModule(name, path) {\n        let msg = `Can not find component '${name}' in the module, module path is: '${path}'.`;\n        return new Error(msg);\n    },\n    componentNotExists(name) {\n        let msg = `Component '${name}' not exists.`;\n        return new Error(msg);\n    }\n};\n//# sourceMappingURL=errors.js.map\n\n/***/ }),\n\n/***/ \"./out/index.js\":\n/*!**********************!*\\\n  !*** ./out/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_factory_1 = __webpack_require__(/*! ./component-factory */ \"./out/component-factory.js\");\nexports.CompoenntFactory = component_factory_1.CompoenntFactory;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=index.js.map","/*!\n * ~\n *  jueying-core v1.0.2\n * \n *  Copyright (c) 2016-2018, mais.shu <ansiboy@163.com>\n *  Licensed under the MIT License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./out/decorators.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./out/decorators.js\":\n/*!***************************!*\\\n  !*** ./out/decorators.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** 组件标记，用于将指定的组件标记为可被外部加载 */\nfunction component(options) {\n    return function classDecorator(constructor) {\n    };\n}\nexports.component = component;\n//# sourceMappingURL=decorators.js.map\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=decorators.js.map"],"sourceRoot":""}