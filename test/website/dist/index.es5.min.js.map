{"version":3,"sources":["webpack://jueying/webpack/universalModuleDefinition","webpack://jueying/webpack/bootstrap","webpack://jueying/external \"React\"","webpack://jueying/./out-es5/common.js","webpack://jueying/./out-es5/style.js","webpack://jueying/./out-es5/component.js","webpack://jueying/./out-es5/errors.js","webpack://jueying/./out-es5/component-panel.js","webpack://jueying/./out-es5/page-designer.js","webpack://jueying/./out-es5/index.js","webpack://jueying/./out-es5/jquery.js","webpack://jueying/external \"$\"","webpack://jueying/./lib/jquery.event.drag-2.2.js","webpack://jueying/./lib/jquery.event.drag.live-2.2.js","webpack://jueying/./lib/jquery.event.drop-2.2.js","webpack://jueying/./lib/jquery.event.drop.live-2.2.js","webpack://jueying/./out-es5/component-wrapper.js","webpack://jueying/./out-es5/editor-panel.js","webpack://jueying/./out-es5/property-editor.js","webpack://jueying/./out-es5/prop-editor.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__9__","enumerable","get","getter","value","key","bind","Object","prototype","hasOwnProperty","call","object","property","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","constants","componentsDir","connectorElementClassName","componentTypeName","componentData","componentPosition","proptDisplayNames","guid","s4","Math","floor","random","toString","substring","Callback","instance","Constructor","TypeError","_classCallCheck","this","funcs","Array","protoProps","staticProps","func","push","filter","o","args","forEach","errors_1","classNames","componentSelected","emptyTemplates","loadingTemplates","templateSelected","templateDialog","emptyDocument","component","componentWrapper","componentPanel","componentIcon","placeholder","editorPanel","designer","moveDown","element","document","createElement","type","setAttribute","innerHTML","concat","head","appendChild","appendClassName","addonClassName","Errors","argumentNull","sourceClassName","className","console","assert","indexOf","removeClassName","targetClassName","replace","RegExp","trim","_possibleConstructorReturn","self","_typeof","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","p","_toConsumableArray","arr","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","_nonIterableSpread","obj","_createClass","React","page_designer_1","style_1","common_1","component_panel_1","DesignerContext","createContext","ComponentWrapperContext","PageDesigner","Component","name","register","typename","attr","componentAttributes","assign","defaultComponentAttribute","componentType","result","propEditorInfo","componentPropEditors","propName","display","componentPropEditorDisplay","controlClassName","getPropEditorByArray","propNames","componentTypeOrOptions","editorType","group","editorDisplay","options","displayName","split","classProps","join","h","_createElement","components","componentTypes","context","componentName","controlType","masterPage","children","map","text","Fragment","ref","e","MasterPage","typeName","childComponents","apply","error","container","movable","showHandler","resize","MasterPageName","MasterPageContext","master","_React$Component","_this","state","style","minHeight","parentid","Provider","isValidElement","PlaceHolder","_React$Component2","_this2","id","placeHolderIdNull","_this3","getAttribute","addEventListener","event","preventDefault","stopPropagation","dataTransfer","getData","dropEffect","log","layerX","ondrop","ctrl","ComponentPanel","getComponentData","appendComponent","host","_this4","$","drop","dd","sourceElement","wraper","source","findComponentData","moveComponent","updateComponentProps","componentId","_this5","empty","Consumer","canntFindMasterPage","enableAppendDroppable","enableMoveDroppable","PageView","_React$Component3","_this6","pageData","propCanntNull","ErrorBoundary","_React$Component4","_this7","info","setState","message","stack","Error","fileName","argumentName","pluginId","msg","fieldName","component_1","componets","str","JSON","parse","toolItemElement","draggable","ev","setData","stringify","x","offsetX","y","offsetY","toolbarElement","c","componentIndexName","icon","fontSize","color","componentDraggable","component_wrapper_1","componentRemoved","componentAppend","componentUpdated","designtimeComponentDidMount","fillPageData","add","componentIds","travelComponentData","item","itemRef","names","getOwnPropertyNames","_loop","ids","nameComponent","setComponetRefProp","namedComponents","num","r","shift","componentDatas","arguments","_ref","undefined","navPropsNames","_i","fire","parentId","childIds","parentControl","child","a","componentIndex","splice","selectComponent","position","setComponentsPosition","size","height","width","positions","_o$position","left","top","pop","isSelectedControl","selected","selectedComponentIds","focus","_len","_key","controlId","removeComponentFrom","childComponentIndex","collection","controlIndex","_i2","pageDataIsNull","keyCode","selectedComponents","removeComponent","argumentFieldCanntNull","attr1","attr2","wrapperProps","_len2","_key2","ComponentWrapper","tabIndex","onKeyDown","createDesignTimeElement","defaultProps","wrapDesignTimeElement","strings","editor_panel_1","EditorPanel","prop_editor_1","PropEditor","TextInput","j","fn","drag","arg","opts","isFunction","trigger","$event","$special","special","defaults","which","distance","not","handle","relative","click","datakey","noBubble","data","related","each","def","remove","setup","extend","init","attachEvent","dontstart","teardown","removeData","textselect","detachEvent","touched","results","is","closest","currentTarget","propagates","mousedown","interactions","interaction","pageX","pageY","dragging","hijack","flatten","handler","live","elem","offset","callback","droppable","pow","Date","getTime","ia","orig","originalEvent","mode","len","isNaN","cancelled","properties","subject","isPropagationStopped","dispatch","proxy","update","startX","startY","deltaX","deltaY","originalX","originalY","slice","available","jquery","nodeType","member","makeArray","bool","css","unselectable","locate","$dispatch","touchHooks","fixHooks","touchstart","touchmove","touchend","touchcancel","touches","changedTouches","prop","draginit","dragstart","dragend","jQuery","origadd","origteardown","livekey","selector","delegate","elems","events","origType","origHandler","inArray","multi","Infinity","delay","tolerance","targets","active","anyactive","winner","location","grep","$targets","timer","tolerate","clearTimeout","index","$elem","posi","outerHeight","outerWidth","right","bottom","contains","test","modes","overlap","max","min","sort","b","drp","drg","end","xy","last","setTimeout","dropinit","dropstart","dropend","find","pos","mouseInnerPosition","startPos","rect","dragStart","now","setLeft","setTop","setPosition","isResizeHandleClassName","interval","isDrag","_left","_top","transform","setComponentPosition","setComponentSize","invokeOnClick","elementID","ctrlKey","selectedControlIds","onclick","designtimeBehavior","renderWidthoutWrapper","visibility","move_handle","showResizeHandle","createRawElement","_this$props$source","tagName","emtpy","designTimeEmptyElement","designTimeText","property_editor_1","designerComponentChanged","PropertyEditor","editor","customRender","_designer","set","_element","commonFlatProps","commonPropEditorInfos","propEditorInfos","getPropEditors","items","propInfo1","propInfo2","propName1","propName2","control","controlProps","editors","_loop2","editorProps","propValue","editComponents","updateComponentProp","componentProps","getEditors","groupEditorsArray","_loop3","groupEditors","g","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","valueType","_dropdown","_PropEditor","onChange","itemsPromise","textValues","_PropEditor2","Dropdown","regeneratorRuntime","mark","_callee","_items","wrap","_context","prev","sent","stop","textValue","parseInt","parseFloat"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"$\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"$\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jueying\"] = factory(require(\"React\"), require(\"$\"));\n\telse\n\t\troot[\"jueying\"] = factory(root[\"React\"], root[\"$\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__9__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.constants = {\n  componentsDir: 'components',\n  connectorElementClassName: 'component-container',\n  componentTypeName: 'data-component-name',\n  componentData: 'component-data',\n  componentPosition: \"component-position\"\n};\nexports.proptDisplayNames = {};\n\nfunction guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nexports.guid = guid;\n\nvar Callback =\n/*#__PURE__*/\nfunction () {\n  function Callback() {\n    _classCallCheck(this, Callback);\n\n    this.funcs = new Array();\n  }\n\n  _createClass(Callback, [{\n    key: \"add\",\n    value: function add(func) {\n      this.funcs.push(func);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(func) {\n      this.funcs = this.funcs.filter(function (o) {\n        return o != func;\n      });\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(args) {\n      this.funcs.forEach(function (o) {\n        return o(args);\n      });\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      return new Callback();\n    }\n  }]);\n\n  return Callback;\n}();\n\nexports.Callback = Callback;\n//# sourceMappingURL=common.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar errors_1 = require(\"./errors\");\n\nexports.classNames = {\n  componentSelected: \"component-selected\",\n  emptyTemplates: \"empty-templates\",\n  loadingTemplates: \"loading-templates\",\n  templateSelected: \"template-selected\",\n  templateDialog: \"template-dialog\",\n  emptyDocument: \"empty-document\",\n  component: 'component',\n  componentWrapper: 'component-wrapper',\n  componentPanel: 'component-panel',\n  componentIcon: 'component-icon',\n  placeholder: 'placeholder',\n  editorPanel: 'editor-panel',\n  designer: 'designer',\n  moveDown: 'move-down'\n};\nvar templateDialog = {\n  nameHeight: 40,\n  fontSize: 22\n};\nvar element = document.createElement('style');\nelement.type = 'text/css';\nelement.setAttribute(\"data-name\", \"jueying\");\nelement.innerHTML = \"\\n            .\".concat(exports.classNames.componentSelected, \" {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \" > :first-child {\\n                border-color: blue;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .resize_handle {\\n                position: absolute;\\n                height: 6px;\\n                width: 6px;\\n                border: 1px solid #89B;\\n                background: #9AC;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .move_handle {\\n                height: 12px;\\n                width: 12px;\\n                top: 6px;\\n                left: 8px;\\n                border: solid 1px black;\\n                position: relative;\\n                margin-top: -12px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                top: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NE,\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                right: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \".SS,\\n              .\").concat(exports.classNames.componentSelected, \" .SE {\\n                bottom: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NW,\\n              .\").concat(exports.classNames.componentSelected, \" .WW,\\n              .\").concat(exports.classNames.componentSelected, \" .SW {\\n                left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SE,\\n              .\").concat(exports.classNames.componentSelected, \" .NW {\\n                cursor: nw-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .SW,\\n              .\").concat(exports.classNames.componentSelected, \" .NE {\\n                cursor: ne-resize;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .NN,\\n              .\").concat(exports.classNames.componentSelected, \" .SS {\\n                cursor: n-resize;\\n                left: 50%;\\n                margin-left: -4px;\\n              }\\n              .\").concat(exports.classNames.componentSelected, \" .EE,\\n              .\").concat(exports.classNames.componentSelected, \" .WW {\\n                cursor: e-resize;\\n                top: 50%;\\n                margin-top: -4px;\\n              }\\n            .\").concat(exports.classNames.emptyTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.loadingTemplates, \" {\\n                padding:50px 0;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.templateSelected, \" .page-view {\\n                border: solid 1px #337ab7!important;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name {\\n                margin-top: -\").concat(templateDialog.nameHeight, \"px;\\n                height: \").concat(templateDialog.nameHeight, \"px;\\n                font-size: \").concat(templateDialog.fontSize, \"px;\\n                text-align: center;\\n                padding-top: 6px;\\n                background-color: black;\\n                opacity: 0.5;\\n            }\\n            .\").concat(exports.classNames.templateDialog, \" .name span {\\n                color: white;\\n            }\\n            .\").concat(exports.classNames.emptyDocument, \" {\\n                text-align: center;\\n                padding: 100px 0;\\n            }\\n            .\").concat(exports.classNames.component, \" > .NW,\\n            .\").concat(exports.classNames.component, \" > .NN,\\n            .\").concat(exports.classNames.component, \" > .NE,\\n            .\").concat(exports.classNames.component, \" > .EE,\\n            .\").concat(exports.classNames.component, \" > .SE,\\n            .\").concat(exports.classNames.component, \" > .SW,\\n            .\").concat(exports.classNames.component, \" > .SS,\\n            .\").concat(exports.classNames.component, \" > .WW {\\n                display: none;\\n            }\\n            .\").concat(exports.classNames.componentSelected, \".component > .NW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NN,\\n            .\").concat(exports.classNames.componentSelected, \".component > .NE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .EE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SE,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SW,\\n            .\").concat(exports.classNames.componentSelected, \".component > .SS,\\n            .\").concat(exports.classNames.componentSelected, \".component > .WW {\\n                display: block;\\n            }\\n            .\").concat(exports.classNames.placeholder, \" {\\n                min-height: 40px;\\n                width: 100%;\\n            }\\n            .\").concat(exports.classNames.placeholder, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".active,\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.componentSelected, \".active {\\n                border: 1px solid green;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" {\\n                width: 300px;\\n                background: white;\\n                color: black;\\n                margin: 0;\\n                font-size: 14px;\\n                z-index: 100;\\n                overflow: auto;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" label {\\n                width: 80px;\\n                float: left;\\n                padding: 4px;\\n                text-overflow: ellipsis;\\n                overflow: hidden;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .control {\\n                padding-left: 90px;\\n            }\\n            .\").concat(exports.classNames.editorPanel, \" .empty {\\n                padding-top: 200px;\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.designer, \" .error,\\n            .\").concat(exports.classNames.editorPanel, \" .error {\\n                color: red;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" {\\n                background: white;\\n                color: black;\\n                font-size: 14px;\\n                z-index: 100;\\n                list-style: none;\\n                padding: 0;\\n                text-align: center\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" .panel-heading {\\n                text-align: center;\\n            }\\n            .\").concat(exports.classNames.componentPanel, \" li {\\n                text-align: center;\\n                padding: 8px;\\n            }\\n            .\").concat(exports.classNames.componentWrapper, \".\").concat(exports.classNames.moveDown, \" {\\n         \\n            }\\n        \");\ndocument.head.appendChild(element);\n\nfunction appendClassName(element, addonClassName) {\n  if (element == null) throw errors_1.Errors.argumentNull('element');\n  if (!addonClassName) throw errors_1.Errors.argumentNull('addonClassName');\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className;\n  sourceClassName = sourceClassName || '';\n  console.assert(addonClassName);\n  if (sourceClassName.indexOf(addonClassName) >= 0) return sourceClassName;\n  var className = \"\".concat(sourceClassName, \" \").concat(addonClassName);\n  if (typeof element != 'string') element.className = className;\n  return className;\n}\n\nexports.appendClassName = appendClassName;\n\nfunction removeClassName(element, targetClassName) {\n  var sourceClassName;\n  if (typeof element == 'string') sourceClassName = element;else sourceClassName = element.className || '';\n  if (sourceClassName.indexOf(targetClassName) < 0) return sourceClassName;\n  sourceClassName = sourceClassName || '';\n  sourceClassName = sourceClassName.replace(new RegExp(targetClassName, 'g'), '');\n  sourceClassName = sourceClassName.trim();\n  if (typeof element != 'string') element.className = sourceClassName;\n  return sourceClassName;\n}\n\nexports.removeClassName = removeClassName;\n//# sourceMappingURL=style.js.map\n","\"use strict\";\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar page_designer_1 = require(\"./page-designer\");\n\nvar errors_1 = require(\"./errors\");\n\nvar style_1 = require(\"./style\");\n\nvar common_1 = require(\"./common\");\n\nvar component_panel_1 = require(\"./component-panel\");\n\nexports.DesignerContext = React.createContext({\n  designer: null\n});\nexports.ComponentWrapperContext = React.createContext(null);\n\nfunction component(args) {\n  return function (constructor) {\n    if (page_designer_1.PageDesigner) {\n      Component.setAttribute(constructor.name, args);\n    }\n\n    Component.register(constructor.name, constructor);\n    return constructor;\n  };\n}\n\nexports.component = component;\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component() {\n    _classCallCheck(this, Component);\n  }\n\n  _createClass(Component, null, [{\n    key: \"setAttribute\",\n\n    /**\r\n     * \r\n     * @param typename \r\n     * @param attr \r\n     */\n    value: function setAttribute(typename, attr) {\n      Component.componentAttributes[typename] = attr;\n    }\n    /**\r\n     * \r\n     * @param typename \r\n     */\n\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(type) {\n      var typename = typeof type == 'string' ? type : type.name;\n      var attr = Component.componentAttributes[typename];\n      return Object.assign({\n        type: type\n      }, Component.defaultComponentAttribute, attr || {});\n    }\n  }, {\n    key: \"getPropEditors\",\n    value: function getPropEditors(componentData) {\n      var componentType = componentData.type;\n      var result = [];\n      var propEditorInfo = this.componentPropEditors[componentType] || [];\n\n      for (var i = 0; i < propEditorInfo.length; i++) {\n        var propName = propEditorInfo[i].propName;\n        var display = Component.componentPropEditorDisplay[\"\".concat(componentType, \".\").concat(propName)];\n        if (display != null && display(componentData) == false) continue;\n        result.push(propEditorInfo[i]);\n      }\n\n      return result; // let classEditors = this.componentPropEditors[componentType] || []\n      // Component.componentPropEditorDisplay[`${className}.${propName}`] = editorDisplay;\n      // return classEditors\n    }\n  }, {\n    key: \"getPropEditor\",\n    value: function getPropEditor(controlClassName, propName) {\n      return this.getPropEditorByArray(controlClassName, propName);\n    }\n    /**  */\n\n  }, {\n    key: \"getPropEditorByArray\",\n    value: function getPropEditorByArray(controlClassName, propNames) {\n      var classEditors = this.componentPropEditors[controlClassName] || [];\n      var editor = classEditors.filter(function (o) {\n        return o.propName == propNames;\n      })[0];\n      return editor;\n    }\n  }, {\n    key: \"setPropEditor\",\n    value: function setPropEditor(componentTypeOrOptions, propName, editorType, group) {\n      var componentType;\n      var editorDisplay;\n\n      if (_typeof(componentTypeOrOptions) == \"object\") {\n        var options = componentTypeOrOptions;\n        componentType = options.componentType;\n        propName = options.propName;\n        editorType = options.editorType;\n        group = options.group;\n        editorDisplay = options.display;\n\n        if (options.displayName != null) {\n          common_1.proptDisplayNames[propName] = options.displayName;\n        }\n      } else {\n        componentType = componentTypeOrOptions;\n      }\n\n      group = group || ''; // , style.width\n\n      var propNames = propName.split('.');\n      var className = typeof componentType == 'string' ? componentType : componentType.prototype.typename || componentType.name;\n      Component.componentPropEditorDisplay[\"\".concat(className, \".\").concat(propName)] = editorDisplay;\n      var classProps = Component.componentPropEditors[className] = Component.componentPropEditors[className] || [];\n\n      for (var i = 0; i < classProps.length; i++) {\n        var propName1 = classProps[i].propName; //classProps[i].propNames.join('.')\n\n        var propName2 = propNames.join('.');\n\n        if (propName1 == propName2) {\n          classProps[i].editorType = editorType;\n          return;\n        }\n      }\n\n      classProps.push({\n        propName: propName,\n        editorType: editorType,\n        group: group\n      });\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(componentData, h) {\n      return Component._createElement(componentData, {\n        components: [],\n        componentTypes: []\n      }, h);\n    }\n    /**\r\n     *  ReactElement\r\n     * @param componentData \r\n     */\n\n  }, {\n    key: \"_createElement\",\n    value: function _createElement(componentData, context, h) {\n      if (!componentData) throw errors_1.Errors.argumentNull('componentData');\n      h = h || React.createElement;\n\n      try {\n        var type = componentData.type;\n        var componentName = componentData.type;\n        var controlType = Component.componentTypes[componentName];\n\n        if (controlType) {\n          type = controlType;\n        }\n\n        var children = componentData.children ? componentData.children.map(function (o) {\n          return Component._createElement(o, context, h);\n        }) : [];\n        var props = componentData.props == null ? {} : Object.assign({}, componentData.props); //JSON.parse(JSON.stringify(componentData.props));\n\n        if (controlType != null && controlType[\"defaultProps\"]) {\n          props = Object.assign({}, controlType[\"defaultProps\"], props);\n        }\n\n        var result;\n\n        if (typeof type == 'string') {\n          if (props.text) {\n            children.push(props.text);\n          } //=========================================\n          // props.text  DOM  prop\n\n\n          delete props.text;\n\n          if (h == React.createElement) {\n            delete props.attr;\n          } //=========================================\n\n        }\n\n        var masterPage;\n        type = type == Component.Fragment ? React.Fragment : type;\n        var ref = props.ref;\n\n        props.ref = function (e) {\n          if (typeof ref == \"function\") ref(e);\n\n          if (e instanceof MasterPage) {\n            masterPage = e;\n\n            for (var i = 0; i < context.componentTypes.length; i++) {\n              var typeName = context.componentTypes[i];\n              var childComponents = masterPage.childComponents[typeName] = masterPage.childComponents[typeName] || [];\n              childComponents.push(context.components[i]);\n            }\n          } else if (e != null) {\n            context.components.push(e);\n            context.componentTypes.push(typeof type == \"string\" ? type : type.name); // masterPage.componentCreated.fire({ component: e, type: typeof type == \"string\" ? type : type.name });\n          }\n        };\n\n        result = h.apply(void 0, [type, props].concat(_toConsumableArray(children)));\n        return result;\n      } catch (e) {\n        console.error(e);\n        return null;\n      }\n    }\n  }, {\n    key: \"register\",\n    value: function register(componentName, componentType, attr) {\n      if (componentType == null && typeof componentName == 'function') {\n        componentType = componentName;\n        componentName = componentType.name;\n        componentType['componentName'] = componentName;\n      }\n\n      if (!componentName) throw errors_1.Errors.argumentNull('componentName');\n      if (!componentType) throw errors_1.Errors.argumentNull('componentType');\n      Component.componentTypes[componentName] = componentType;\n      if (attr) Component.setAttribute(componentName, attr);\n    }\n  }]);\n\n  return Component;\n}(); //==========================================\n//  React  React.Fragment \n\n\nComponent.Fragment = \"\"; //==========================================\n\nComponent.defaultComponentAttribute = {\n  container: false,\n  movable: false,\n  showHandler: false,\n  resize: false\n};\nComponent.componentAttributes = {\n  'div': {\n    container: true,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'img': {\n    container: false,\n    movable: true,\n    resize: true\n  },\n  'label': {\n    movable: true\n  },\n  'ul': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: false\n  },\n  'li': {\n    container: true,\n    movable: false\n  },\n  'table': {\n    container: false,\n    movable: true,\n    showHandler: true,\n    resize: true\n  },\n  'thead': {\n    container: false,\n    movable: false\n  },\n  'tbody': {\n    container: false,\n    movable: false\n  },\n  'tfoot': {\n    container: false,\n    movable: false\n  },\n  'tr': {\n    container: false,\n    movable: false\n  },\n  'td': {\n    container: true,\n    movable: false\n  }\n};\nComponent.componentPropEditors = {};\nComponent.componentPropEditorDisplay = {};\nComponent.componentTypes = {};\nexports.Component = Component;\nexports.MasterPageName = 'MasterPage';\nexports.MasterPageContext = React.createContext({\n  master: null\n});\n\nvar MasterPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MasterPage, _React$Component);\n\n  function MasterPage(props) {\n    var _this;\n\n    _classCallCheck(this, MasterPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MasterPage).call(this, props));\n    _this.childComponents = {};\n    var children = MasterPage.children(props);\n    _this.state = {\n      children: children\n    };\n    return _this;\n  }\n\n  _createClass(MasterPage, [{\n    key: \"render\",\n    value: function render() {\n      var props = {};\n\n      for (var key in this.props) {\n        if (key == 'ref' || key == 'id') continue;\n        props[key] = this.props[key];\n      }\n\n      props.style = Object.assign({\n        minHeight: 40\n      }, props.style);\n      var children = this.state.children.filter(function (o) {\n        return o.props.parentid == null;\n      });\n      var master = this;\n      console.assert(master != null);\n      return React.createElement(exports.MasterPageContext.Provider, {\n        value: {\n          master: master\n        }\n      }, children);\n    }\n  }], [{\n    key: \"children\",\n    value: function children(props) {\n      var arr = props.children == null ? [] : Array.isArray(props.children) ? props.children : [props.children];\n      var children = [];\n      arr.forEach(function (o) {\n        if (!React.isValidElement(o)) return;\n        children.push(o);\n      });\n      return children;\n    }\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props) {\n      var children = MasterPage.children(props);\n      return {\n        children: children\n      };\n    }\n  }]);\n\n  return MasterPage;\n}(React.Component);\n\nexports.MasterPage = MasterPage;\nComponent.register(exports.MasterPageName, MasterPage, {\n  container: false\n});\n/**\r\n * \r\n */\n\nvar PlaceHolder =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(PlaceHolder, _React$Component2);\n\n  function PlaceHolder(props) {\n    var _this2;\n\n    _classCallCheck(this, PlaceHolder);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(PlaceHolder).call(this, props));\n\n    if (!_this2.props.id) {\n      throw errors_1.Errors.placeHolderIdNull();\n    }\n\n    return _this2;\n  }\n  /**\r\n   * \r\n   */\n\n\n  _createClass(PlaceHolder, [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, master) {\n      var _this3 = this;\n\n      if (element.getAttribute('enable-append-droppable')) return;\n      element.setAttribute('enable-append-droppable', 'true');\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = style_1.appendClassName(element.className || '', 'active');\n        var componentName = event.dataTransfer.getData(common_1.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event.layerX, \" top:\").concat(event.layerX));\n      });\n\n      var func = function func(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = style_1.removeClassName(element.className, 'active');\n      };\n\n      element.addEventListener('dragleave', func);\n      element.addEventListener('dragend', func);\n      element.addEventListener('dragexit', func);\n\n      element.ondrop = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        element.className = style_1.removeClassName(element.className, 'active');\n        var ctrl;\n        if (event.dataTransfer) ctrl = component_panel_1.ComponentPanel.getComponentData(event.dataTransfer);\n        if (!ctrl) return;\n        console.assert(_this3.props.id != null);\n        console.assert(_this3.designer != null);\n        ctrl.props.parentid = _this3.props.id;\n        console.assert(master != null, 'host is null');\n\n        _this3.designer.appendComponent(master.props.id, ctrl);\n      };\n    }\n  }, {\n    key: \"enableMoveDroppable\",\n    value: function enableMoveDroppable(element, host) {\n      var _this4 = this;\n\n      if (element.getAttribute('enable-move-droppable')) return;\n      element.setAttribute('enable-move-droppable', 'true');\n      $(element).drop('start', function (event, dd) {\n        if (dd.sourceElement.id == _this4.wraper.props.source.props.id) return;\n        style_1.appendClassName(element, 'active');\n      }).drop('drop', function (event, dd) {\n        if (dd.sourceElement.id == _this4.wraper.props.source.props.id) return;\n\n        var componentData = _this4.designer.findComponentData(dd.sourceElement.id);\n\n        console.assert(componentData != null);\n\n        _this4.designer.moveComponent(dd.sourceElement.id, host.props.id);\n\n        _this4.designer.updateComponentProps({\n          componentId: \"string\",\n          propName: \"string\",\n          value: \"any\"\n        }); //dd.sourceElement.id, propName, this.props.id\n\n      }).drop('end', function (event, dd) {\n        if (dd.sourceElement.id == _this4.wraper.props.source.props.id) return;\n        style_1.removeClassName(element, 'active');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        key: common_1.guid(),\n        className: \"empty\"\n      }, \"\\u53EF\\u4EE5\\u62D6\\u62C9\\u63A7\\u4EF6\\u5230\\u8FD9\\u91CC\");\n      return React.createElement(exports.MasterPageContext.Consumer, null, function (args) {\n        var master = args.master;\n        if (master == null) throw errors_1.Errors.canntFindMasterPage(_this5.props.id);\n        var children = [];\n\n        if (master.props && master.props.children) {\n          var arr;\n\n          if (Array.isArray(master.props.children)) {\n            arr = master.props.children;\n          } else {\n            arr = [master.props.children];\n          }\n\n          children = arr.filter(function (o) {\n            return o.props.parentid != null && o.props.parentid == _this5.props.id;\n          });\n        }\n\n        return React.createElement(exports.DesignerContext.Consumer, null, function (args) {\n          return React.createElement(exports.ComponentWrapperContext.Consumer, null, function (wraper) {\n            _this5.wraper = wraper;\n            console.assert(_this5.wraper != null);\n\n            if (args.designer != null && children.length == 0) {\n              children = [empty];\n            }\n\n            var element = React.createElement(React.Fragment, null, _this5.props.children, children);\n\n            if (args.designer) {\n              _this5.designer = args.designer;\n              element = React.createElement(\"div\", {\n                key: common_1.guid(),\n                className: style_1.classNames.placeholder,\n                ref: function ref(e) {\n                  if (!e) return;\n                  _this5.element = e;\n\n                  _this5.enableAppendDroppable(e, master);\n\n                  _this5.enableMoveDroppable(e, master);\n                }\n              }, element);\n            }\n\n            return element;\n          });\n        });\n      });\n    }\n  }]);\n\n  return PlaceHolder;\n}(React.Component);\n\nexports.PlaceHolder = PlaceHolder;\nComponent.register('PlaceHolder', PlaceHolder);\n\nvar PageView =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(PageView, _React$Component3);\n\n  function PageView(props) {\n    var _this6;\n\n    _classCallCheck(this, PageView);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(PageView).call(this, props));\n    if (!_this6.props.pageData) throw errors_1.Errors.propCanntNull(PageView.name, 'pageData');\n    return _this6;\n  }\n\n  _createClass(PageView, [{\n    key: \"render\",\n    value: function render() {\n      var element = Component.createElement(this.props.pageData);\n      return element;\n    }\n  }]);\n\n  return PageView;\n}(React.Component);\n\nexports.PageView = PageView;\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(ErrorBoundary, _React$Component4);\n\n  function ErrorBoundary(props) {\n    var _this7;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this7.state = {};\n    return _this7;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        // You can render any custom fallback UI\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexports.ErrorBoundary = ErrorBoundary;\n//# sourceMappingURL=component.js.map\n","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Errors =\n/*#__PURE__*/\nfunction () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"placeHolderIdNull\",\n    value: function placeHolderIdNull() {\n      var msg = \"Place holder property id cannt be null or empty.\";\n      return new Error(msg);\n    }\n  }, {\n    key: \"fileNotExists\",\n    value: function fileNotExists(fileName) {\n      return new Error(\"File '\".concat(fileName, \"' is not exists.\"));\n    }\n  }, {\n    key: \"argumentNull\",\n    value: function argumentNull(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" is null or empty.\"));\n    }\n  }, {\n    key: \"argumentRangeError\",\n    value: function argumentRangeError(argumentName) {\n      return new Error(\"Argument \".concat(argumentName, \" range error.\"));\n    }\n  }, {\n    key: \"pageDataIsNull\",\n    value: function pageDataIsNull() {\n      return new Error(\"Page data is null.\");\n    }\n  }, {\n    key: \"toolbarRequiredKey\",\n    value: function toolbarRequiredKey() {\n      return new Error(\"Toolbar has not a key prop.\");\n    }\n  }, {\n    key: \"loadPluginFail\",\n    value: function loadPluginFail(pluginId) {\n      return new Error(\"Load plugin '\".concat(pluginId, \"' fail.\"));\n    }\n  }, {\n    key: \"idRequired\",\n    value: function idRequired() {\n      return new Error(\"Property id is required.\");\n    }\n  }, {\n    key: \"canntFindMasterPage\",\n    value: function canntFindMasterPage(componentId) {\n      return new Error(\"Can not find master page for component container \".concat(componentId, \".\"));\n    }\n  }, {\n    key: \"propCanntNull\",\n    value: function propCanntNull(componentName, property) {\n      var msg = \"\".concat(componentName, \" property \").concat(property, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }, {\n    key: \"argumentFieldCanntNull\",\n    value: function argumentFieldCanntNull(fieldName, argumentName) {\n      var msg = \"\".concat(fieldName, \" of argument \").concat(argumentName, \" cannt be null or empty.\");\n      return new Error(msg);\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.Errors = Errors;\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nconsole.log(\"React is null:\".concat(React == null));\n\nvar common_1 = require(\"./common\");\n\nvar component_1 = require(\"./component\");\n\nvar style_1 = require(\"./style\");\n\nvar ComponentPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentPanel, _React$Component);\n\n  function ComponentPanel(props) {\n    var _this;\n\n    _classCallCheck(this, ComponentPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ComponentPanel).call(this, props));\n    _this.state = {\n      componets: []\n    };\n    return _this;\n  }\n\n  _createClass(ComponentPanel, [{\n    key: \"componentDraggable\",\n    value: function componentDraggable(toolItemElement, componentData) {\n      console.assert(toolItemElement != null);\n      toolItemElement.draggable = true;\n      toolItemElement.addEventListener('dragstart', function (ev) {\n        componentData.props = componentData.props || {};\n        ev.dataTransfer.setData(common_1.constants.componentData, JSON.stringify(componentData));\n        ev.dataTransfer.setData('mousePosition', JSON.stringify({\n          x: ev.offsetX,\n          y: ev.offsetY\n        }));\n      });\n    }\n  }, {\n    key: \"setComponets\",\n    value: function setComponets(componets) {\n      this.setState({\n        componets: componets\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7EC4\\u4EF6\");\n      var props = Object.assign({}, this.props);\n      var componets = this.state.componets || [];\n      return React.createElement(component_1.DesignerContext.Consumer, null, function (context) {\n        _this2.designer = context.designer;\n        return React.createElement(\"ul\", Object.assign({}, props, {\n          className: \"\".concat(style_1.classNames.componentPanel, \" \").concat(_this2.props.className || \"\"),\n          ref: function ref(e) {\n            return _this2.toolbarElement = _this2.toolbarElement || e;\n          }\n        }), componets.length == 0 ? empty : componets.map(function (c, i) {\n          var props = {\n            key: i\n          };\n          props[ComponentPanel.componentIndexName] = \"\".concat(i);\n          return React.createElement(\"li\", Object.assign({}, props, {\n            className: style_1.classNames.componentIcon\n          }), React.createElement(\"div\", {\n            className: \"btn-link\"\n          }, React.createElement(\"i\", {\n            className: c.icon,\n            style: {\n              fontSize: 44,\n              color: 'black'\n            },\n            ref: function ref(e) {\n              if (!e) return;\n              var ctrl = c.componentData;\n\n              _this2.componentDraggable(e, ctrl);\n            }\n          })), React.createElement(\"div\", null, c.displayName));\n        })); // return <div {...props as any} className={`${classNames.componentPanel} panel panel-primary`}>\n        //     <div className=\"panel-heading\"></div>\n        //     <div className=\"panel-body\">\n        //     </div>\n        // </div>\n      });\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this.toolbarElement;\n    }\n  }], [{\n    key: \"getComponentData\",\n    value: function getComponentData(dataTransfer) {\n      var str = dataTransfer.getData(common_1.constants.componentData);\n      if (!str) return;\n      return JSON.parse(str);\n    }\n    /**  */\n\n  }, {\n    key: \"mouseInnerPosition\",\n    value: function mouseInnerPosition(dataTransfer) {\n      var str = dataTransfer.getData('mousePosition');\n      if (!str) return;\n      return JSON.parse(str);\n    }\n  }]);\n\n  return ComponentPanel;\n}(React.Component);\n\nComponentPanel.componentIndexName = \"data-component-index\";\nexports.ComponentPanel = ComponentPanel;\n//# sourceMappingURL=component-panel.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar common_1 = require(\"./common\");\n\nvar errors_1 = require(\"./errors\");\n\nvar component_1 = require(\"./component\");\n\nvar style_1 = require(\"./style\");\n\nvar component_wrapper_1 = require(\"./component-wrapper\");\n\nvar PageDesigner =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PageDesigner, _React$Component);\n\n  function PageDesigner(props) {\n    var _this;\n\n    _classCallCheck(this, PageDesigner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageDesigner).call(this, props));\n    _this.componentSelected = common_1.Callback.create();\n    _this.componentRemoved = common_1.Callback.create();\n    _this.componentAppend = common_1.Callback.create();\n    _this.componentUpdated = common_1.Callback.create();\n    _this.designtimeComponentDidMount = common_1.Callback.create();\n    var components = {};\n    PageDesigner.fillPageData(props.pageData, components);\n    _this.state = {\n      pageData: props.pageData,\n      components: components\n    };\n\n    _this.designtimeComponentDidMount.add(function (args) {\n      console.log(\"this:designer event:controlComponentDidMount\");\n    });\n\n    return _this;\n  }\n\n  _createClass(PageDesigner, [{\n    key: \"allComponents\",\n    value: function allComponents() {\n      var r = [];\n\n      for (var key in this.state.components) {\n        r.push.apply(r, _toConsumableArray(this.state.components[key]));\n      }\n\n      return r;\n    }\n    /**  */\n\n  }, {\n    key: \"updateComponentProp\",\n\n    /**  */\n    value: function updateComponentProp(componentId, propName, value) {\n      return this.updateComponentProps({\n        componentId: componentId,\n        propName: propName,\n        value: value\n      });\n    }\n    /**  */\n\n  }, {\n    key: \"updateComponentProps\",\n    value: function updateComponentProps() {\n      var componentDatas = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var _ref = i < 0 || arguments.length <= i ? undefined : arguments[i],\n            componentId = _ref.componentId,\n            propName = _ref.propName,\n            value = _ref.value;\n\n        var componentData = this.findComponentData(componentId);\n        if (componentData == null) continue;\n        var navPropsNames = propName.split(\".\");\n        console.assert(componentData != null);\n        console.assert(navPropsNames != null, 'props is null');\n        componentData.props = componentData.props || {};\n        var obj = componentData.props;\n\n        for (var _i = 0; _i < navPropsNames.length - 1; _i++) {\n          obj = obj[navPropsNames[_i]] = obj[navPropsNames[_i]] || {};\n        }\n\n        obj[navPropsNames[navPropsNames.length - 1]] = value;\n        componentDatas.push(componentData);\n      }\n\n      this.setState(this.state);\n      this.componentUpdated.fire(componentDatas);\n    }\n  }, {\n    key: \"sortChildren\",\n    value: function sortChildren(parentId, childIds) {\n      if (!parentId) throw errors_1.Errors.argumentNull('parentId');\n      if (!childIds) throw errors_1.Errors.argumentNull('childIds');\n      var pageData = this.state.pageData;\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      console.assert(parentControl.children != null);\n      console.assert((parentControl.children || []).length == childIds.length);\n      var p = parentControl;\n      parentControl.children = childIds.map(function (o) {\n        var child = p.children.filter(function (a) {\n          return a.props.id == o;\n        })[0];\n        console.assert(child != null, \"child \".concat(o, \" is null\"));\n        return child;\n      });\n      this.setState({\n        pageData: pageData\n      });\n    }\n    /**\r\n     * \r\n     * @param component\r\n     */\n\n  }, {\n    key: \"appendComponent\",\n\n    /**\r\n     * \r\n     * @param parentId \r\n     * @param componentData \r\n     * @param componentIndex \r\n     */\n    value: function appendComponent(parentId, componentData, componentIndex) {\n      if (!parentId) throw errors_1.Errors.argumentNull('parentId');\n      if (!componentData) throw errors_1.Errors.argumentNull('childComponent');\n      PageDesigner.nameComponent(componentData);\n      var parentControl = this.findComponentData(parentId);\n      if (parentControl == null) throw new Error('Parent is not exists');\n      console.assert(parentControl != null);\n      parentControl.children = parentControl.children || [];\n\n      if (componentIndex != null) {\n        parentControl.children.splice(componentIndex, 0, componentData);\n      } else {\n        parentControl.children.push(componentData);\n      }\n\n      var pageData = this.state.pageData;\n      this.setState({\n        pageData: pageData\n      });\n      this.selectComponent(componentData.props.id);\n      this.componentAppend.fire(this);\n    }\n    /**\r\n     * \r\n     * @param componentId \r\n     * @param position \r\n     */\n\n  }, {\n    key: \"setComponentPosition\",\n    value: function setComponentPosition(componentId, position) {\n      return this.setComponentsPosition([{\n        componentId: componentId,\n        position: position\n      }]);\n    }\n    /**\r\n     * \r\n     * @param componentId \r\n     * @param size \r\n     */\n\n  }, {\n    key: \"setComponentSize\",\n    value: function setComponentSize(componentId, size) {\n      console.assert(componentId != null);\n      console.assert(size != null);\n      var componentData = this.findComponentData(componentId);\n      if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n      var style = componentData.props.style = componentData.props.style || {};\n      if (size.height) style.height = size.height;\n      if (size.width) style.width = size.width;\n      var pageData = this.state.pageData;\n      this.setState({\n        pageData: pageData\n      });\n      this.componentUpdated.fire([componentData]);\n    }\n    /**  */\n\n  }, {\n    key: \"setComponentsPosition\",\n    value: function setComponentsPosition(positions) {\n      var _this2 = this;\n\n      var componentDatas = new Array();\n      positions.forEach(function (o) {\n        var componentId = o.componentId;\n        var _o$position = o.position,\n            left = _o$position.left,\n            top = _o$position.top;\n\n        if (typeof left == \"number\") {\n          left = \"\".concat(left, \"px\");\n        }\n\n        if (typeof top == \"number\") {\n          top = \"\".concat(top, \"px\");\n        }\n\n        var componentData = _this2.findComponentData(componentId);\n\n        if (!componentData) throw new Error(\"Control \".concat(componentId, \" is not exits.\"));\n        var style = componentData.props.style = componentData.props.style || {};\n        if (left) style.left = left;\n        if (top) style.top = top;\n        var pageData = _this2.state.pageData;\n\n        _this2.setState({\n          pageData: pageData\n        });\n\n        componentDatas.push(componentData);\n      });\n      this.componentUpdated.fire(componentDatas);\n    }\n    /**\r\n     * \r\n     * @param control \r\n     */\n\n  }, {\n    key: \"selectComponent\",\n    value: function selectComponent(componentIds) {\n      if (typeof componentIds == 'string') componentIds = [componentIds];\n      var stack = [];\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        var isSelectedControl = componentIds.indexOf(item.props.id) >= 0;\n        item.props.selected = isSelectedControl;\n        var children = item.children || [];\n\n        for (var i = 0; i < children.length; i++) {\n          stack.push(children[i]);\n        }\n      }\n\n      this.setState({\n        pageData: this.pageData\n      });\n      this.componentSelected.fire(this.selectedComponentIds); //====================================================\n      // \n\n      this.element.focus(); //====================================================\n    }\n    /**  */\n\n  }, {\n    key: \"removeComponent\",\n    value: function removeComponent() {\n      var _this3 = this;\n\n      var pageData = this.state.pageData;\n      if (!pageData || !pageData.children || pageData.children.length == 0) return;\n\n      for (var _len = arguments.length, componentIds = new Array(_len), _key = 0; _key < _len; _key++) {\n        componentIds[_key] = arguments[_key];\n      }\n\n      componentIds.forEach(function (controlId) {\n        _this3.removeComponentFrom(controlId, pageData.children);\n      });\n      this.setState({\n        pageData: pageData\n      });\n      this.componentRemoved.fire(componentIds);\n    }\n    /**\r\n     * \r\n     * @param componentId \r\n     * @param parentId \r\n     * @param beforeChildId \r\n     */\n\n  }, {\n    key: \"moveComponent\",\n    value: function moveComponent(componentId, parentId, childComponentIndex) {\n      var component = this.findComponentData(componentId);\n      if (component == null) throw new Error(\"Cannt find component by id \".concat(componentId));\n      console.assert(component != null, \"Cannt find component by id \".concat(componentId));\n      var pageData = this.state.pageData;\n      console.assert(pageData.children != null);\n      this.removeComponentFrom(componentId, pageData.children);\n      this.appendComponent(parentId, component, childComponentIndex);\n    }\n  }, {\n    key: \"removeComponentFrom\",\n    value: function removeComponentFrom(controlId, collection) {\n      var controlIndex = null;\n\n      for (var i = 0; i < collection.length; i++) {\n        if (controlId == collection[i].props.id) {\n          controlIndex = i;\n          break;\n        }\n      }\n\n      if (controlIndex == null) {\n        for (var _i2 = 0; _i2 < collection.length; _i2++) {\n          var o = collection[_i2];\n\n          if (o.children && o.children.length > 0) {\n            var isRemoved = this.removeComponentFrom(controlId, o.children);\n\n            if (isRemoved) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n\n      if (controlIndex == 0) {\n        collection.shift();\n      } else if (controlIndex == collection.length - 1) {\n        collection.pop();\n      } else {\n        collection.splice(controlIndex, 1);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"findComponetsByTypeName\",\n    value: function findComponetsByTypeName(componentTypeName) {\n      var components = this.state.components[componentTypeName];\n      return components;\n    }\n  }, {\n    key: \"findComponentData\",\n    value: function findComponentData(componentId) {\n      var pageData = this.state.pageData;\n      if (!pageData) throw errors_1.Errors.pageDataIsNull();\n      var componentDatas = PageDesigner.travelComponentData(pageData, function (item) {\n        return item.props.id == componentId;\n      });\n      return componentDatas[0];\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var DELETE_KEY_CODE = 46;\n\n      if (e.keyCode == DELETE_KEY_CODE) {\n        if (this.selectedComponents.length == 0) return;\n        this.removeComponent.apply(this, _toConsumableArray(this.selectedComponentIds));\n      }\n    }\n  }, {\n    key: \"createDesignTimeElement\",\n    value: function createDesignTimeElement(type, props) {\n      if (type == null) throw errors_1.Errors.argumentNull('type');\n      if (props == null) throw errors_1.Errors.argumentNull('props');\n      if (props.id == null) throw errors_1.Errors.argumentFieldCanntNull('id', 'props');\n      console.assert(props.id != null);\n      if (props.id != null) props.key = props.id; //===================================================\n      //  ComponentAttribute  props \n\n      var attr1 = component_1.Component.getAttribute(type);\n      console.assert(attr1 != null);\n      var attr2 = props.attr || {};\n      var attr = Object.assign({}, attr1, attr2);\n      delete props.attr; //===================================================\n\n      var className = props.selected ? style_1.appendClassName(props.className || '', style_1.classNames.componentSelected) : props.className;\n      var wrapperProps = Object.assign({}, props);\n      delete wrapperProps.ref;\n      wrapperProps.className = className;\n\n      for (var _len2 = arguments.length, children = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        children[_key2 - 2] = arguments[_key2];\n      }\n\n      return React.createElement(component_wrapper_1.ComponentWrapper, Object.assign({}, wrapperProps, {\n        designer: this,\n        source: {\n          type: type,\n          attr: attr,\n          props: props,\n          children: children\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var designer = this;\n      var pageData = this.state.pageData;\n      var style = this.props.style;\n      var result = React.createElement(\"div\", {\n        className: style_1.classNames.designer,\n        tabIndex: 1,\n        style: style,\n        ref: function ref(e) {\n          return _this4.element = e || _this4.element;\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this4.onKeyDown(e);\n        }\n      }, React.createElement(component_1.DesignerContext.Provider, {\n        value: {\n          designer: designer\n        }\n      }, function () {\n        var _root = pageData ? component_1.Component.createElement(pageData, _this4.createDesignTimeElement.bind(_this4)) : null;\n\n        return _root;\n      }()));\n      return result;\n    }\n  }, {\n    key: \"pageData\",\n    get: function get() {\n      return this.state.pageData;\n    }\n    /**  */\n\n  }, {\n    key: \"selectedComponentIds\",\n    get: function get() {\n      return this.selectedComponents.map(function (o) {\n        return o.props.id;\n      });\n    }\n    /**  */\n\n  }, {\n    key: \"selectedComponents\",\n    get: function get() {\n      var arr = new Array();\n      var stack = new Array();\n      stack.push(this.pageData);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n        if (item.props != null && item.props.selected == true) arr.push(item);\n        var children = item.children || [];\n\n        for (var i = 0; i < children.length; i++) {\n          stack.push(children[i]);\n        }\n      }\n\n      return arr;\n    }\n  }], [{\n    key: \"setComponetRefProp\",\n    value: function setComponetRefProp(pageData, components) {\n      //=========================================================\n      //  pageData  ID\n      var componentIds = {}; //=========================================================\n\n      PageDesigner.travelComponentData(pageData).forEach(function (item) {\n        console.assert(item.props != null && item.props.id != null);\n        componentIds[item.type] = componentIds[item.type] || [];\n        componentIds[item.type].push(item.props[\"id\"]);\n        var itemRef = item.props.ref;\n\n        item.props.ref = function (e) {\n          if (e != null) {\n            components[item.type] = components[item.type] || [];\n            components[item.type].push(e);\n          }\n\n          if (typeof itemRef == \"function\") itemRef(e);\n        };\n      }); //=========================================================\n      //  componentIds  \n\n      var names = Object.getOwnPropertyNames(components);\n\n      var _loop = function _loop(i) {\n        var typename = names[i];\n        var ids = componentIds[typename] || [];\n        components[typename] = (components[typename] || []).filter(function (o) {\n          return ids.indexOf(o[\"id\"] || o.props[\"id\"]) >= 0;\n        });\n      };\n\n      for (var i = 0; i < names.length; i++) {\n        _loop(i);\n      } //=========================================================\n\n    }\n    /**  pageData  */\n\n  }, {\n    key: \"fillPageData\",\n    value: function fillPageData(pageData, components) {\n      if (pageData == null) {\n        return;\n      }\n\n      pageData.children = pageData.children || [];\n      PageDesigner.nameComponent(pageData);\n      PageDesigner.setComponetRefProp(pageData, components);\n    }\n  }, {\n    key: \"nameComponent\",\n    value: function nameComponent(component) {\n      var namedComponents = {};\n      var props = component.props = component.props || {};\n\n      if (!props.name) {\n        var num = 0;\n        var name;\n\n        do {\n          num = num + 1;\n          name = \"\".concat(component.type).concat(num);\n        } while (namedComponents[name]);\n\n        namedComponents[name] = component;\n        props.name = name;\n      }\n\n      if (!props.id) props.id = common_1.guid();\n\n      if (!component.children || component.children.length == 0) {\n        return;\n      }\n\n      for (var i = 0; i < component.children.length; i++) {\n        PageDesigner.nameComponent(component.children[i]);\n      }\n    }\n  }, {\n    key: \"travelComponentData\",\n    value: function travelComponentData(pageData, filter) {\n      var stack = new Array();\n      stack.push(pageData);\n      var r = []; // return new Promise((resolve, reject) => {\n\n      filter = filter || function () {\n        return true;\n      };\n\n      while (stack.length > 0) {\n        var item = stack.shift();\n\n        if (filter(item)) {\n          r.push(item);\n        } //===============================================\n        // , \n\n\n        var children = (item.children || []).filter(function (o) {\n          return _typeof(o) == 'object';\n        }); //===============================================\n\n        stack.push.apply(stack, _toConsumableArray(children));\n      }\n\n      return r;\n    }\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      PageDesigner.fillPageData(props.pageData, state.components);\n      return {\n        pageData: props.pageData\n      };\n    }\n  }]);\n\n  return PageDesigner;\n}(React.Component);\n\nPageDesigner.defaultProps = {\n  pageData: null,\n  wrapDesignTimeElement: true\n};\nexports.PageDesigner = PageDesigner;\n//# sourceMappingURL=page-designer.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./jquery\");\n\nrequire(\"../lib/jquery.event.drag-2.2\");\n\nrequire(\"../lib/jquery.event.drag.live-2.2\");\n\nrequire(\"../lib/jquery.event.drop-2.2\");\n\nrequire(\"../lib/jquery.event.drop.live-2.2\");\n\nvar common_1 = require(\"./common\");\n\nexports.strings = common_1.proptDisplayNames;\nexports.proptDisplayNames = common_1.proptDisplayNames;\n\nvar component_1 = require(\"./component\");\n\nexports.Component = component_1.Component;\nexports.DesignerContext = component_1.DesignerContext;\nexports.MasterPage = component_1.MasterPage;\nexports.MasterPageContext = component_1.MasterPageContext;\nexports.PlaceHolder = component_1.PlaceHolder;\nexports.PageView = component_1.PageView;\n\nvar component_panel_1 = require(\"./component-panel\");\n\nexports.ComponentPanel = component_panel_1.ComponentPanel;\n\nvar editor_panel_1 = require(\"./editor-panel\");\n\nexports.EditorPanel = editor_panel_1.EditorPanel;\n\nvar page_designer_1 = require(\"./page-designer\");\n\nexports.PageDesigner = page_designer_1.PageDesigner;\n\nvar prop_editor_1 = require(\"./prop-editor\");\n\nexports.PropEditor = prop_editor_1.PropEditor;\nexports.TextInput = prop_editor_1.TextInput;\n\nvar style_1 = require(\"./style\");\n\nexports.classNames = style_1.classNames; // (function (factory) {\n//     if (typeof module === \"object\" && typeof module.exports === \"object\") {\n//         var v = factory(require, exports);\n//         if (v !== undefined) module.exports = v;\n//     }\n//     else if (typeof define === \"function\" && define.amd) {\n//         define([\"require\", \"exports\"], factory);\n//     }\n// })(function (require, exports) {\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // import * as j from '../lib/jquery-2.1.3'\n// let jquery = window['$'] || window['jQuery'];\n// if (jquery == null) {\n//     window['$'] = window['jQuery'] = j\n// }\n\nvar j = require(\"jquery\");\n\nvar jquery = window['$'] || window['jQuery'];\n\nif (jquery == null) {\n  window['$'] = window['jQuery'] = j;\n}\n//# sourceMappingURL=jquery.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","/*! \r\n * jquery.event.drag - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2008-06-04 \r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x\r\n\r\n;(function( $ ){\r\n\r\n// add the jquery instance method\r\n$.fn.drag = function( str, arg, opts ){\r\n\t// figure out the event type\r\n\tvar type = typeof str == \"string\" ? str : \"\",\r\n\t// figure out the event handler...\r\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\r\n\t// fix the event type\r\n\tif ( type.indexOf(\"drag\") !== 0 ) \r\n\t\ttype = \"drag\"+ type;\r\n\t// were options passed\r\n\topts = ( str == fn ? arg : opts ) || {};\r\n\t// trigger or bind event handler\r\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\r\n};\r\n\r\n// local refs (increase compression)\r\nvar $event = $.event, \r\n$special = $event.special,\r\n// configure the drag special event \r\ndrag = $special.drag = {\r\n\t\r\n\t// these are the default settings\r\n\tdefaults: {\r\n\t\twhich: 1, // mouse button pressed to start drag sequence\r\n\t\tdistance: 0, // distance dragged before dragstart\r\n\t\tnot: ':input', // selector to suppress dragging on target elements\r\n\t\thandle: null, // selector to match handle target elements\r\n\t\trelative: false, // true to use \"position\", false to use \"offset\"\r\n\t\tdrop: true, // false to suppress drop events, true or selector to allow\r\n\t\tclick: false // false to suppress click events after dragend (no proxy)\r\n\t},\r\n\t\r\n\t// the key name for stored drag data\r\n\tdatakey: \"dragdata\",\r\n\t\r\n\t// prevent bubbling for better performance\r\n\tnoBubble: true,\r\n\t\r\n\t// count bound related events\r\n\tadd: function( obj ){ \r\n\t\t// read the interaction data\r\n\t\tvar data = $.data( this, drag.datakey ),\r\n\t\t// read any passed options \r\n\t\topts = obj.data || {};\r\n\t\t// count another realted event\r\n\t\tdata.related += 1;\r\n\t\t// extend data options bound with this event\r\n\t\t// don't iterate \"opts\" in case it is a node \r\n\t\t$.each( drag.defaults, function( key, def ){\r\n\t\t\tif ( opts[ key ] !== undefined )\r\n\t\t\t\tdata[ key ] = opts[ key ];\r\n\t\t});\r\n\t},\r\n\t\r\n\t// forget unbound related events\r\n\tremove: function(){\r\n\t\t$.data( this, drag.datakey ).related -= 1;\r\n\t},\r\n\t\r\n\t// configure interaction, capture settings\r\n\tsetup: function(){\r\n\t\t// check for related events\r\n\t\tif ( $.data( this, drag.datakey ) ) \r\n\t\t\treturn;\r\n\t\t// initialize the drag data with copied defaults\r\n\t\tvar data = $.extend({ related:0 }, drag.defaults );\r\n\t\t// store the interaction data\r\n\t\t$.data( this, drag.datakey, data );\r\n\t\t// bind the mousedown event, which starts drag interactions\r\n\t\t$event.add( this, \"touchstart mousedown\", drag.init, data );\r\n\t\t// prevent image dragging in IE...\r\n\t\tif ( this.attachEvent ) \r\n\t\t\tthis.attachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\r\n\t// destroy configured interaction\r\n\tteardown: function(){\r\n\t\tvar data = $.data( this, drag.datakey ) || {};\r\n\t\t// check for related events\r\n\t\tif ( data.related ) \r\n\t\t\treturn;\r\n\t\t// remove the stored data\r\n\t\t$.removeData( this, drag.datakey );\r\n\t\t// remove the mousedown event\r\n\t\t$event.remove( this, \"touchstart mousedown\", drag.init );\r\n\t\t// enable text selection\r\n\t\tdrag.textselect( true ); \r\n\t\t// un-prevent image dragging in IE...\r\n\t\tif ( this.detachEvent ) \r\n\t\t\tthis.detachEvent(\"ondragstart\", drag.dontstart ); \r\n\t},\r\n\t\t\r\n\t// initialize the interaction\r\n\tinit: function( event ){ \r\n\t\t// sorry, only one touch at a time\r\n\t\tif ( drag.touched ) \r\n\t\t\treturn;\r\n\t\t// the drag/drop interaction data\r\n\t\tvar dd = event.data, results;\r\n\t\t// check the which directive\r\n\t\tif ( event.which != 0 && dd.which > 0 && event.which != dd.which ) \r\n\t\t\treturn; \r\n\t\t// check for suppressed selector\r\n\t\tif ( $( event.target ).is( dd.not ) ) \r\n\t\t\treturn;\r\n\t\t// check for handle selector\r\n\t\tif ( dd.handle && !$( event.target ).closest( dd.handle, event.currentTarget ).length ) \r\n\t\t\treturn;\r\n\r\n\t\tdrag.touched = event.type == 'touchstart' ? this : null;\r\n\t\tdd.propagates = 1;\r\n\t\tdd.mousedown = this;\r\n\t\tdd.interactions = [ drag.interaction( this, dd ) ];\r\n\t\tdd.target = event.target;\r\n\t\tdd.pageX = event.pageX;\r\n\t\tdd.pageY = event.pageY;\r\n\t\tdd.dragging = null;\r\n\t\t// handle draginit event... \r\n\t\tresults = drag.hijack( event, \"draginit\", dd );\r\n\t\t// early cancel\r\n\t\tif ( !dd.propagates )\r\n\t\t\treturn;\r\n\t\t// flatten the result set\r\n\t\tresults = drag.flatten( results );\r\n\t\t// insert new interaction elements\r\n\t\tif ( results && results.length ){\r\n\t\t\tdd.interactions = [];\r\n\t\t\t$.each( results, function(){\r\n\t\t\t\tdd.interactions.push( drag.interaction( this, dd ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\t// remember how many interactions are propagating\r\n\t\tdd.propagates = dd.interactions.length;\r\n\t\t// locate and init the drop targets\r\n\t\tif ( dd.drop !== false && $special.drop ) \r\n\t\t\t$special.drop.handler( event, dd );\r\n\t\t// disable text selection\r\n\t\tdrag.textselect( false ); \r\n\t\t// bind additional events...\r\n\t\tif ( drag.touched )\r\n\t\t\t$event.add( drag.touched, \"touchmove touchend\", drag.handler, dd );\r\n\t\telse \r\n\t\t\t$event.add( document, \"mousemove mouseup\", drag.handler, dd );\r\n\t\t// helps prevent text selection or scrolling\r\n\t\tif ( !drag.touched || dd.live )\r\n\t\t\treturn false;\r\n\t},\t\r\n\t\r\n\t// returns an interaction object\r\n\tinteraction: function( elem, dd ){\r\n\t\tvar offset = $( elem )[ dd.relative ? \"position\" : \"offset\" ]() || { top:0, left:0 };\r\n\t\treturn {\r\n\t\t\tdrag: elem, \r\n\t\t\tcallback: new drag.callback(), \r\n\t\t\tdroppable: [],\r\n\t\t\toffset: offset\r\n\t\t};\r\n\t},\r\n\t\r\n\t// handle drag-releatd DOM events\r\n\thandler: function( event ){ \r\n\t\t// read the data before hijacking anything\r\n\t\tvar dd = event.data;\t\r\n\t\t// handle various events\r\n\t\tswitch ( event.type ){\r\n\t\t\t// mousemove, check distance, start dragging\r\n\t\t\tcase !dd.dragging && 'touchmove': \r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase !dd.dragging && 'mousemove':\r\n\t\t\t\t//  drag tolerance, x + y = distance\r\n\t\t\t\tif ( Math.pow(  event.pageX-dd.pageX, 2 ) + Math.pow(  event.pageY-dd.pageY, 2 ) < Math.pow( dd.distance, 2 ) ) \r\n\t\t\t\t\tbreak; // distance tolerance not reached\r\n\t\t\t\tevent.target = dd.target; // force target from \"mousedown\" event (fix distance issue)\r\n\t\t\t\tdrag.hijack( event, \"dragstart\", dd ); // trigger \"dragstart\"\r\n\t\t\t\tif ( dd.propagates ) // \"dragstart\" not rejected\r\n\t\t\t\t\tdd.dragging = true; // activate interaction\r\n\t\t\t// mousemove, dragging\r\n\t\t\tcase 'touchmove':\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\t// trigger \"drag\"\t\t\r\n\t\t\t\t\tdrag.hijack( event, \"drag\", dd );\r\n\t\t\t\t\tif ( dd.propagates ){\r\n\t\t\t\t\t\t// manage drop events\r\n\t\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"dropstart\", \"dropend\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak; // \"drag\" not rejected, stop\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.type = \"mouseup\"; // helps \"drop\" handler behave\r\n\t\t\t\t}\r\n\t\t\t// mouseup, stop dragging\r\n\t\t\tcase 'touchend': \r\n\t\t\tcase 'mouseup': \r\n\t\t\tdefault:\r\n\t\t\t\tif ( drag.touched )\r\n\t\t\t\t\t$event.remove( drag.touched, \"touchmove touchend\", drag.handler ); // remove touch events\r\n\t\t\t\telse \r\n\t\t\t\t\t$event.remove( document, \"mousemove mouseup\", drag.handler ); // remove page events\t\r\n\t\t\t\tif ( dd.dragging ){\r\n\t\t\t\t\tif ( dd.drop !== false && $special.drop )\r\n\t\t\t\t\t\t$special.drop.handler( event, dd ); // \"drop\"\r\n\t\t\t\t\tdrag.hijack( event, \"dragend\", dd ); // trigger \"dragend\"\t\r\n\t\t\t\t}\r\n\t\t\t\tdrag.textselect( true ); // enable text selection\r\n\t\t\t\t// if suppressing click events...\r\n\t\t\t\tif ( dd.click === false && dd.dragging )\r\n\t\t\t\t\t$.data( dd.mousedown, \"suppress.click\", new Date().getTime() + 5 );\r\n\t\t\t\tdd.dragging = drag.touched = false; // deactivate element\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\t\r\n\t// re-use event object for custom events\r\n\thijack: function( event, type, dd, x, elem ){\r\n\t\t// not configured\r\n\t\tif ( !dd ) \r\n\t\t\treturn;\r\n\t\t// remember the original event and type\r\n\t\tvar orig = { event:event.originalEvent, type:event.type },\r\n\t\t// is the event drag related or drog related?\r\n\t\tmode = type.indexOf(\"drop\") ? \"drag\" : \"drop\",\r\n\t\t// iteration vars\r\n\t\tresult, i = x || 0, ia, $elems, callback,\r\n\t\tlen = !isNaN( x ) ? x : dd.interactions.length;\r\n\t\t// modify the event type\r\n\t\tevent.type = type;\r\n\t\t// remove the original event\r\n\t\tevent.originalEvent = null;\r\n\t\t// initialize the results\r\n\t\tdd.results = [];\r\n\t\t// handle each interacted element\r\n\t\tdo if ( ia = dd.interactions[ i ] ){\r\n\t\t\t// validate the interaction\r\n\t\t\tif ( type !== \"dragend\" && ia.cancelled )\r\n\t\t\t\tcontinue;\r\n\t\t\t// set the dragdrop properties on the event object\r\n\t\t\tcallback = drag.properties( event, dd, ia );\r\n\t\t\t// prepare for more results\r\n\t\t\tia.results = [];\r\n\t\t\t// handle each element\r\n\t\t\t$( elem || ia[ mode ] || dd.droppable ).each(function( p, subject ){\r\n\t\t\t\t// identify drag or drop targets individually\r\n\t\t\t\tcallback.target = subject;\r\n\t\t\t\t// force propagtion of the custom event\r\n\t\t\t\tevent.isPropagationStopped = function(){ return false; };\r\n\t\t\t\t// handle the event\t\r\n\t\t\t\tresult = subject ? $event.dispatch.call( subject, event, callback ) : null;\r\n\t\t\t\t// stop the drag interaction for this element\r\n\t\t\t\tif ( result === false ){\r\n\t\t\t\t\tif ( mode == \"drag\" ){\r\n\t\t\t\t\t\tia.cancelled = true;\r\n\t\t\t\t\t\tdd.propagates -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( type == \"drop\" ){\r\n\t\t\t\t\t\tia[ mode ][p] = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// assign any dropinit elements\r\n\t\t\t\telse if ( type == \"dropinit\" )\r\n\t\t\t\t\tia.droppable.push( drag.element( result ) || subject );\r\n\t\t\t\t// accept a returned proxy element \r\n\t\t\t\tif ( type == \"dragstart\" )\r\n\t\t\t\t\tia.proxy = $( drag.element( result ) || ia.drag )[0];\r\n\t\t\t\t// remember this result\t\r\n\t\t\t\tia.results.push( result );\r\n\t\t\t\t// forget the event result, for recycling\r\n\t\t\t\tdelete event.result;\r\n\t\t\t\t// break on cancelled handler\r\n\t\t\t\tif ( type !== \"dropinit\" )\r\n\t\t\t\t\treturn result;\r\n\t\t\t});\t\r\n\t\t\t// flatten the results\t\r\n\t\t\tdd.results[ i ] = drag.flatten( ia.results );\t\r\n\t\t\t// accept a set of valid drop targets\r\n\t\t\tif ( type == \"dropinit\" )\r\n\t\t\t\tia.droppable = drag.flatten( ia.droppable );\r\n\t\t\t// locate drop targets\r\n\t\t\tif ( type == \"dragstart\" && !ia.cancelled )\r\n\t\t\t\tcallback.update(); \r\n\t\t}\r\n\t\twhile ( ++i < len )\r\n\t\t// restore the original event & type\r\n\t\tevent.type = orig.type;\r\n\t\tevent.originalEvent = orig.event;\r\n\t\t// return all handler results\r\n\t\treturn drag.flatten( dd.results );\r\n\t},\r\n\t\t\r\n\t// extend the callback object with drag/drop properties...\r\n\tproperties: function( event, dd, ia ){\t\t\r\n\t\tvar obj = ia.callback;\r\n\t\t// elements\r\n\t\tobj.drag = ia.drag;\r\n\t\tobj.proxy = ia.proxy || ia.drag;\r\n\t\t// starting mouse position\r\n\t\tobj.startX = dd.pageX;\r\n\t\tobj.startY = dd.pageY;\r\n\t\t// current distance dragged\r\n\t\tobj.deltaX = event.pageX - dd.pageX;\r\n\t\tobj.deltaY = event.pageY - dd.pageY;\r\n\t\t// original element position\r\n\t\tobj.originalX = ia.offset.left;\r\n\t\tobj.originalY = ia.offset.top;\r\n\t\t// adjusted element position\r\n\t\tobj.offsetX = obj.originalX + obj.deltaX; \r\n\t\tobj.offsetY = obj.originalY + obj.deltaY;\r\n\t\t// assign the drop targets information\r\n\t\tobj.drop = drag.flatten( ( ia.drop || [] ).slice() );\r\n\t\tobj.available = drag.flatten( ( ia.droppable || [] ).slice() );\r\n\t\treturn obj;\t\r\n\t},\r\n\t\r\n\t// determine is the argument is an element or jquery instance\r\n\telement: function( arg ){\r\n\t\tif ( arg && ( arg.jquery || arg.nodeType == 1 ) )\r\n\t\t\treturn arg;\r\n\t},\r\n\t\r\n\t// flatten nested jquery objects and arrays into a single dimension array\r\n\tflatten: function( arr ){\r\n\t\treturn $.map( arr, function( member ){\r\n\t\t\treturn member && member.jquery ? $.makeArray( member ) : \r\n\t\t\t\tmember && member.length ? drag.flatten( member ) : member;\r\n\t\t});\r\n\t},\r\n\t\r\n\t// toggles text selection attributes ON (true) or OFF (false)\r\n\ttextselect: function( bool ){ \r\n\t\t$( document )[ bool ? \"unbind\" : \"bind\" ](\"selectstart\", drag.dontstart )\r\n\t\t\t.css(\"MozUserSelect\", bool ? \"\" : \"none\" );\r\n\t\t// .attr(\"unselectable\", bool ? \"off\" : \"on\" )\r\n\t\tdocument.unselectable = bool ? \"off\" : \"on\"; \r\n\t},\r\n\t\r\n\t// suppress \"selectstart\" and \"ondragstart\" events\r\n\tdontstart: function(){ \r\n\t\treturn false; \r\n\t},\r\n\t\r\n\t// a callback instance contructor\r\n\tcallback: function(){}\r\n\t\r\n};\r\n\r\n// callback methods\r\ndrag.callback.prototype = {\r\n\tupdate: function(){\r\n\t\tif ( $special.drop && this.available.length )\r\n\t\t\t$.each( this.available, function( i ){\r\n\t\t\t\t$special.drop.locate( this, i );\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\n// patch $.event.$dispatch to allow suppressing clicks\r\nvar $dispatch = $event.dispatch;\r\n$event.dispatch = function( event ){\r\n\tif ( $.data( this, \"suppress.\"+ event.type ) - new Date().getTime() > 0 ){\r\n\t\t$.removeData( this, \"suppress.\"+ event.type );\r\n\t\treturn;\r\n\t}\r\n\treturn $dispatch.apply( this, arguments );\r\n};\r\n\r\n// event fix hooks for touch events...\r\nvar touchHooks = \r\n$event.fixHooks.touchstart = \r\n$event.fixHooks.touchmove = \r\n$event.fixHooks.touchend =\r\n$event.fixHooks.touchcancel = {\r\n\tprops: \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tfilter: function( event, orig ) {\r\n\t\tif ( orig ){\r\n\t\t\tvar touched = ( orig.touches && orig.touches[0] )\r\n\t\t\t\t|| ( orig.changedTouches && orig.changedTouches[0] )\r\n\t\t\t\t|| null; \r\n\t\t\t// iOS webkit: touchstart, touchmove, touchend\r\n\t\t\tif ( touched ) \r\n\t\t\t\t$.each( touchHooks.props, function( i, prop ){\r\n\t\t\t\t\tevent[ prop ] = touched[ prop ];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn event;\r\n\t}\r\n};\r\n\r\n// share the same special event configuration with related events...\r\n$special.draginit = $special.dragstart = $special.dragend = drag;\r\n\r\n})( jQuery );","/*! \r\n * jquery.event.drag.live - v 2.2\r\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\r\n * Open Source MIT License - http://threedubmedia.com/code/license\r\n */\r\n// Created: 2010-06-07\r\n// Updated: 2012-05-21\r\n// REQUIRES: jquery 1.7.x, event.drag 2.2\r\n\r\n;(function( $ ){\r\n\t\r\n// local refs (increase compression)\r\nvar $event = $.event,\r\n// ref the special event config\r\ndrag = $event.special.drag,\r\n// old drag event add method\r\norigadd = drag.add,\r\n// old drag event teradown method\r\norigteardown = drag.teardown;\r\n\r\n// allow events to bubble for delegation\r\ndrag.noBubble = false;\r\n\r\n// the namespace for internal live events\r\ndrag.livekey = \"livedrag\";\r\n\r\n// new drop event add method\r\ndrag.add = function( obj ){ \r\n\t// call the old method\r\n\torigadd.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey );\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( !data.live && obj.selector ){\r\n\t\tdata.live = true;\r\n\t\t$event.add( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t}\r\n};\r\n\r\n// new drop event teardown method\r\ndrag.teardown = function(){ \r\n\t// call the old method\r\n\torigteardown.apply( this, arguments );\r\n\t// read the data\r\n\tvar data = $.data( this, drag.datakey ) || {};\r\n\t// bind the live \"draginit\" delegator\r\n\tif ( data.live ){\r\n\t\t// remove the \"live\" delegation\r\n\t\t$event.remove( this, \"draginit.\"+ drag.livekey, drag.delegate );\r\n\t\tdata.live = false;\r\n\t}\r\n};\r\n\r\n// identify potential delegate elements\r\ndrag.delegate = function( event ){\r\n\t// local refs\r\n\tvar elems = [], target, \r\n\t// element event structure\r\n\tevents = $.data( this, \"events\" ) || {};\r\n\t// query live events\r\n\t$.each( events || [], function( key, arr ){\r\n\t\t// no event type matches\r\n\t\tif ( key.indexOf(\"drag\") !== 0 )\r\n\t\t\treturn;\r\n\t\t$.each( arr || [], function( i, obj ){\r\n\t\t\t// locate the element to delegate\r\n\t\t\ttarget = $( event.target ).closest( obj.selector, event.currentTarget )[0];\r\n\t\t\t// no element found\r\n\t\t\tif ( !target ) \r\n\t\t\t\treturn;\r\n\t\t\t// add an event handler\r\n\t\t\t$event.add( target, obj.origType+'.'+drag.livekey, obj.origHandler || obj.handler, obj.data );\r\n\t\t\t// remember new elements\r\n\t\t\tif ( $.inArray( target, elems ) < 0 )\r\n\t\t\t\telems.push( target );\t\t\r\n\t\t});\r\n\t});\r\n\t// if there are no elements, break\r\n\tif ( !elems.length ) \r\n\t\treturn false;\r\n\t// return the matched results, and clenup when complete\t\t\r\n\treturn $( elems ).bind(\"dragend.\"+ drag.livekey, function(){\r\n\t\t$event.remove( this, \".\"+ drag.livekey ); // cleanup delegation\r\n\t});\r\n};\r\n\t\r\n})( jQuery );","/*! \n * jquery.event.drop - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2008-06-04 \n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// Events: drop, dropstart, dropend\n\n// add the jquery instance method\n$.fn.drop = function( str, arg, opts ){\n\t// figure out the event type\n\tvar type = typeof str == \"string\" ? str : \"\",\n\t// figure out the event handler...\n\tfn = $.isFunction( str ) ? str : $.isFunction( arg ) ? arg : null;\n\t// fix the event type\n\tif ( type.indexOf(\"drop\") !== 0 ) \n\t\ttype = \"drop\"+ type;\n\t// were options passed\n\topts = ( str == fn ? arg : opts ) || {};\n\t// trigger or bind event handler\n\treturn fn ? this.bind( type, opts, fn ) : this.trigger( type );\n};\n\n// DROP MANAGEMENT UTILITY\n// returns filtered drop target elements, caches their positions\n$.drop = function( opts ){ \n\topts = opts || {};\n\t// safely set new options...\n\tdrop.multi = opts.multi === true ? Infinity : \n\t\topts.multi === false ? 1 : !isNaN( opts.multi ) ? opts.multi : drop.multi;\n\tdrop.delay = opts.delay || drop.delay;\n\tdrop.tolerance = $.isFunction( opts.tolerance ) ? opts.tolerance : \n\t\topts.tolerance === null ? null : drop.tolerance;\n\tdrop.mode = opts.mode || drop.mode || 'intersect';\n};\n\n// local refs (increase compression)\nvar $event = $.event, \n$special = $event.special,\n// configure the drop special event\ndrop = $.event.special.drop = {\n\n\t// these are the default settings\n\tmulti: 1, // allow multiple drop winners per dragged element\n\tdelay: 20, // async timeout delay\n\tmode: 'overlap', // drop tolerance mode\n\t\t\n\t// internal cache\n\ttargets: [], \n\t\n\t// the key name for stored drop data\n\tdatakey: \"dropdata\",\n\t\t\n\t// prevent bubbling for better performance\n\tnoBubble: true,\n\t\n\t// count bound related events\n\tadd: function( obj ){ \n\t\t// read the interaction data\n\t\tvar data = $.data( this, drop.datakey );\n\t\t// count another realted event\n\t\tdata.related += 1;\n\t},\n\t\n\t// forget unbound related events\n\tremove: function(){\n\t\t$.data( this, drop.datakey ).related -= 1;\n\t},\n\t\n\t// configure the interactions\n\tsetup: function(){\n\t\t// check for related events\n\t\tif ( $.data( this, drop.datakey ) ) \n\t\t\treturn;\n\t\t// initialize the drop element data\n\t\tvar data = { \n\t\t\trelated: 0,\n\t\t\tactive: [],\n\t\t\tanyactive: 0,\n\t\t\twinner: 0,\n\t\t\tlocation: {}\n\t\t};\n\t\t// store the drop data on the element\n\t\t$.data( this, drop.datakey, data );\n\t\t// store the drop target in internal cache\n\t\tdrop.targets.push( this );\n\t},\n\t\n\t// destroy the configure interaction\t\n\tteardown: function(){ \n\t\tvar data = $.data( this, drop.datakey ) || {};\n\t\t// check for related events\n\t\tif ( data.related ) \n\t\t\treturn;\n\t\t// remove the stored data\n\t\t$.removeData( this, drop.datakey );\n\t\t// reference the targeted element\n\t\tvar element = this;\n\t\t// remove from the internal cache\n\t\tdrop.targets = $.grep( drop.targets, function( target ){ \n\t\t\treturn ( target !== element ); \n\t\t});\n\t},\n\t\n\t// shared event handler\n\thandler: function( event, dd ){ \n\t\t// local vars\n\t\tvar results, $targets;\n\t\t// make sure the right data is available\n\t\tif ( !dd ) \n\t\t\treturn;\n\t\t// handle various events\n\t\tswitch ( event.type ){\n\t\t\t// draginit, from $.event.special.drag\n\t\t\tcase 'mousedown': // DROPINIT >>\n\t\t\tcase 'touchstart': // DROPINIT >>\n\t\t\t\t// collect and assign the drop targets\n\t\t\t\t$targets =  $( drop.targets );\n\t\t\t\tif ( typeof dd.drop == \"string\" )\n\t\t\t\t\t$targets = $targets.filter( dd.drop );\n\t\t\t\t// reset drop data winner properties\n\t\t\t\t$targets.each(function(){\n\t\t\t\t\tvar data = $.data( this, drop.datakey );\n\t\t\t\t\tdata.active = [];\n\t\t\t\t\tdata.anyactive = 0;\n\t\t\t\t\tdata.winner = 0;\n\t\t\t\t});\n\t\t\t\t// set available target elements\n\t\t\t\tdd.droppable = $targets;\n\t\t\t\t// activate drop targets for the initial element being dragged\n\t\t\t\t$special.drag.hijack( event, \"dropinit\", dd ); \n\t\t\t\tbreak;\n\t\t\t// drag, from $.event.special.drag\n\t\t\tcase 'mousemove': // TOLERATE >>\n\t\t\tcase 'touchmove': // TOLERATE >>\n\t\t\t\tdrop.event = event; // store the mousemove event\n\t\t\t\tif ( !drop.timer )\n\t\t\t\t\t// monitor drop targets\n\t\t\t\t\tdrop.tolerate( dd ); \n\t\t\t\tbreak;\n\t\t\t// dragend, from $.event.special.drag\n\t\t\tcase 'mouseup': // DROP >> DROPEND >>\n\t\t\tcase 'touchend': // DROP >> DROPEND >>\n\t\t\t\tdrop.timer = clearTimeout( drop.timer ); // delete timer\t\n\t\t\t\tif ( dd.propagates ){\n\t\t\t\t\t$special.drag.hijack( event, \"drop\", dd ); \n\t\t\t\t\t$special.drag.hijack( event, \"dropend\", dd ); \n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t}\n\t},\n\t\t\n\t// returns the location positions of an element\n\tlocate: function( elem, index ){ \n\t\tvar data = $.data( elem, drop.datakey ),\n\t\t$elem = $( elem ), \n\t\tposi = $elem.offset() || {}, \n\t\theight = $elem.outerHeight(), \n\t\twidth = $elem.outerWidth(),\n\t\tlocation = { \n\t\t\telem: elem, \n\t\t\twidth: width, \n\t\t\theight: height,\n\t\t\ttop: posi.top, \n\t\t\tleft: posi.left, \n\t\t\tright: posi.left + width, \n\t\t\tbottom: posi.top + height\n\t\t};\n\t\t// drag elements might not have dropdata\n\t\tif ( data ){\n\t\t\tdata.location = location;\n\t\t\tdata.index = index;\n\t\t\tdata.elem = elem;\n\t\t}\n\t\treturn location;\n\t},\n\t\n\t// test the location positions of an element against another OR an X,Y coord\n\tcontains: function( target, test ){ // target { location } contains test [x,y] or { location }\n\t\treturn ( ( test[0] || test.left ) >= target.left && ( test[0] || test.right ) <= target.right\n\t\t\t&& ( test[1] || test.top ) >= target.top && ( test[1] || test.bottom ) <= target.bottom ); \n\t},\n\t\n\t// stored tolerance modes\n\tmodes: { // fn scope: \"$.event.special.drop\" object \n\t\t// target with mouse wins, else target with most overlap wins\n\t\t'intersect': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ event.pageX, event.pageY ] ) ? // check cursor\n\t\t\t\t1e9 : this.modes.overlap.apply( this, arguments ); // check overlap\n\t\t},\n\t\t// target with most overlap wins\t\n\t\t'overlap': function( event, proxy, target ){\n\t\t\t// calculate the area of overlap...\n\t\t\treturn Math.max( 0, Math.min( target.bottom, proxy.bottom ) - Math.max( target.top, proxy.top ) )\n\t\t\t\t* Math.max( 0, Math.min( target.right, proxy.right ) - Math.max( target.left, proxy.left ) );\n\t\t},\n\t\t// proxy is completely contained within target bounds\t\n\t\t'fit': function( event, proxy, target ){\n\t\t\treturn this.contains( target, proxy ) ? 1 : 0;\n\t\t},\n\t\t// center of the proxy is contained within target bounds\t\n\t\t'middle': function( event, proxy, target ){\n\t\t\treturn this.contains( target, [ proxy.left + proxy.width * .5, proxy.top + proxy.height * .5 ] ) ? 1 : 0;\n\t\t}\n\t},\t\n\t\n\t// sort drop target cache by by winner (dsc), then index (asc)\n\tsort: function( a, b ){\n\t\treturn ( b.winner - a.winner ) || ( a.index - b.index );\n\t},\n\t\t\n\t// async, recursive tolerance execution\n\ttolerate: function( dd ){\t\t\n\t\t// declare local refs\n\t\tvar i, drp, drg, data, arr, len, elem,\n\t\t// interaction iteration variables\n\t\tx = 0, ia, end = dd.interactions.length,\n\t\t// determine the mouse coords\n\t\txy = [ drop.event.pageX, drop.event.pageY ],\n\t\t// custom or stored tolerance fn\n\t\ttolerance = drop.tolerance || drop.modes[ drop.mode ];\n\t\t// go through each passed interaction...\n\t\tdo if ( ia = dd.interactions[x] ){\n\t\t\t// check valid interaction\n\t\t\tif ( !ia )\n\t\t\t\treturn; \n\t\t\t// initialize or clear the drop data\n\t\t\tia.drop = [];\n\t\t\t// holds the drop elements\n\t\t\tarr = []; \n\t\t\tlen = ia.droppable.length;\n\t\t\t// determine the proxy location, if needed\n\t\t\tif ( tolerance )\n\t\t\t\tdrg = drop.locate( ia.proxy ); \n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop each stored drop target\n\t\t\tdo if ( elem = ia.droppable[i] ){ \n\t\t\t\tdata = $.data( elem, drop.datakey );\n\t\t\t\tdrp = data.location;\n\t\t\t\tif ( !drp ) continue;\n\t\t\t\t// find a winner: tolerance function is defined, call it\n\t\t\t\tdata.winner = tolerance ? tolerance.call( drop, drop.event, drg, drp ) \n\t\t\t\t\t// mouse position is always the fallback\n\t\t\t\t\t: drop.contains( drp, xy ) ? 1 : 0; \n\t\t\t\tarr.push( data );\t\n\t\t\t} while ( ++i < len ); // loop \n\t\t\t// sort the drop targets\n\t\t\tarr.sort( drop.sort );\t\t\t\n\t\t\t// reset the loop\n\t\t\ti = 0;\n\t\t\t// loop through all of the targets again\n\t\t\tdo if ( data = arr[ i ] ){\n\t\t\t\t// winners...\n\t\t\t\tif ( data.winner && ia.drop.length < drop.multi ){\n\t\t\t\t\t// new winner... dropstart\n\t\t\t\t\tif ( !data.active[x] && !data.anyactive ){\n\t\t\t\t\t\t// check to make sure that this is not prevented\n\t\t\t\t\t\tif ( $special.drag.hijack( drop.event, \"dropstart\", dd, x, data.elem )[0] !== false ){ \t\n\t\t\t\t\t\t\tdata.active[x] = 1;\n\t\t\t\t\t\t\tdata.anyactive += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if false, it is not a winner\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata.winner = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// if it is still a winner\n\t\t\t\t\tif ( data.winner )\n\t\t\t\t\t\tia.drop.push( data.elem );\n\t\t\t\t}\n\t\t\t\t// losers... \n\t\t\t\telse if ( data.active[x] && data.anyactive == 1 ){\n\t\t\t\t\t// former winner... dropend\n\t\t\t\t\t$special.drag.hijack( drop.event, \"dropend\", dd, x, data.elem ); \n\t\t\t\t\tdata.active[x] = 0;\n\t\t\t\t\tdata.anyactive -= 1;\n\t\t\t\t}\n\t\t\t} while ( ++i < len ); // loop \t\t\n\t\t} while ( ++x < end ) // loop\n\t\t// check if the mouse is still moving or is idle\n\t\tif ( drop.last && xy[0] == drop.last.pageX && xy[1] == drop.last.pageY ) \n\t\t\tdelete drop.timer; // idle, don't recurse\n\t\telse  // recurse\n\t\t\tdrop.timer = setTimeout(function(){ \n\t\t\t\tdrop.tolerate( dd ); \n\t\t\t}, drop.delay );\n\t\t// remember event, to compare idleness\n\t\tdrop.last = drop.event; \n\t}\n\t\n};\n\n// share the same special event configuration with related events...\n$special.dropinit = $special.dropstart = $special.dropend = drop;\n\n})(jQuery); // confine scope\t","/*! \n * jquery.event.drop.live - v 2.2\n * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com\n * Open Source MIT License - http://threedubmedia.com/code/license\n */\n// Created: 2010-06-07\n// Updated: 2012-05-21\n// REQUIRES: jquery 1.7.x, event.drag 2.2, event.drop 2.2\n\n;(function($){ // secure $ jQuery alias\n\n// local refs (increase compression)\nvar $event = $.event,\n// ref the drop special event config\ndrop = $event.special.drop,\n// old drop event add method\norigadd = drop.add,\n// old drop event teradown method\norigteardown = drop.teardown;\n\n// allow events to bubble for delegation\ndrop.noBubble = false;\n\n// the namespace for internal live events\ndrop.livekey = \"livedrop\";\n\n// new drop event add method\ndrop.add = function( obj ){ \n\t// call the old method\n\torigadd.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey );\n\t// bind the live \"dropinit\" delegator\n\tif ( !data.live && obj.selector ){\n\t\tdata.live = true;\n\t\t$event.add( this, \"dropinit.\"+ drop.livekey, drop.delegate );\n\t}\n};\n\n// new drop event teardown method\ndrop.teardown = function(){ \n\t// call the old method\n\torigteardown.apply( this, arguments );\n\t// read the data\n\tvar data = $.data( this, drop.datakey ) || {};\n\t// remove the live \"dropinit\" delegator\n\tif ( data.live ){\n\t\t// remove the \"live\" delegation\n\t\t$event.remove( this, \"dropinit\", drop.delegate );\n\t\tdata.live = false;\n\t}\n};\n\n// identify potential delegate elements\ndrop.delegate = function( event, dd ){\n\t// local refs\n\tvar elems = [], $targets, \n\t// element event structure\n\tevents = $.data( this, \"events\" ) || {};\n\t// query live events\n\t$.each( events || [], function( key, arr ){\n\t\t// no event type matches\n\t\tif ( key.indexOf(\"drop\") !== 0 )\n\t\t\treturn;\n\t\t$.each( arr, function( i, obj ){\n\t\t\t// locate the elements to delegate\n\t\t\t$targets = $( event.currentTarget ).find( obj.selector );\n\t\t\t// no element found\n\t\t\tif ( !$targets.length ) \n\t\t\t\treturn;\n\t\t\t// take each target...\n\t\t\t$targets.each(function(){\n\t\t\t\t// add an event handler\n\t\t\t\t$event.add( this, obj.origType +'.'+ drop.livekey, obj.origHandler || obj.handler, obj.data );\n\t\t\t\t// remember new elements\n\t\t\t\tif ( $.inArray( this, elems ) < 0 )\n\t\t\t\t\telems.push( this );\t\n\t\t\t});\t\n\t\t});\n\t});\n\t// may not exist when artifically triggering dropinit event\n\tif ( dd )\n\t\t// clean-up after the interaction ends\n\t\t$event.add( dd.drag, \"dragend.\"+drop.livekey, function(){\n\t\t\t$.each( elems.concat( this ), function(){\n\t\t\t\t$event.remove( this, '.'+ drop.livekey );\t\t\t\t\t\t\t\n\t\t\t});\n\t\t});\n\t//drop.delegates.push( elems );\n\treturn elems.length ? $( elems ) : false;\n};\n\n})( jQuery ); // confine scope\t","\"use strict\"; /// <reference path=\"./typings/declare.d.ts\"/>\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar errors_1 = require(\"./errors\");\n\nvar common_1 = require(\"./common\");\n\nvar component_panel_1 = require(\"./component-panel\");\n\nvar style_1 = require(\"./style\");\n\nvar component_1 = require(\"./component\");\n/**\r\n * \r\n * 1. \r\n * 2. \r\n */\n\n\nvar ComponentWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComponentWrapper, _React$Component);\n\n  function ComponentWrapper(props) {\n    _classCallCheck(this, ComponentWrapper);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ComponentWrapper).call(this, props));\n  }\n\n  _createClass(ComponentWrapper, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      // Display fallback UI\n      this.setState({\n        error: error\n      }); // You can also log the error to an error reporting service\n      //   logErrorToMyService(error, info);\n\n      debugger;\n    }\n  }, {\n    key: \"designtimeBehavior\",\n    value: function designtimeBehavior(element, attr) {\n      if (!element) throw errors_1.Errors.argumentNull('element');\n      if (!attr) throw errors_1.Errors.argumentNull('args');\n\n      if (element.getAttribute('data-behavior')) {\n        return;\n      }\n\n      element.setAttribute('data-behavior', 'behavior');\n      var designer = this.props.designer;\n      console.assert(attr.container != null);\n      console.assert(attr.movable != null);\n\n      if (attr.container) {\n        ComponentWrapper.enableAppendDroppable(element, designer);\n      }\n\n      if (attr.movable) {\n        console.assert(element != null);\n        ComponentWrapper.draggable(designer, element);\n        if (this.handler != null) ComponentWrapper.draggable(designer, element, this.handler);\n      } else {\n        element.onclick = function (ev) {\n          return ComponentWrapper.invokeOnClick(ev, designer, element);\n        };\n      }\n    }\n    /**\r\n     * \r\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.element) {\n        return;\n      }\n\n      var attr = this.props.source.attr;\n      this.designtimeBehavior(this.element, attr);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _ref = this.state || {},\n          error = _ref.error;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"error\"\n        }, React.createElement(\"div\", null, error.message), React.createElement(\"div\", null, error.stack));\n      }\n\n      var attr = this.props.source.attr;\n      var shouldWrapper = attr.resize || typeof this.props.source.type != 'string' && this.props.source.type != component_1.MasterPage;\n\n      if (!shouldWrapper) {\n        return this.renderWidthoutWrapper();\n      }\n\n      var props = this.props.source.props;\n      var style = props.style = JSON.parse(JSON.stringify(props.style || {})); //  style\n\n      var top = style.top,\n          left = style.left,\n          position = style.position,\n          width = style.width,\n          height = style.height,\n          display = style.display,\n          visibility = style.visibility;\n      var className = style_1.appendClassName(props.className || '', style_1.classNames.componentWrapper);\n      className = props.selected ? style_1.appendClassName(className, style_1.classNames.componentSelected) : className;\n      var wrapperProps = {\n        id: props.id,\n        className: className,\n        style: {\n          top: top,\n          left: left,\n          position: position,\n          width: width,\n          height: height,\n          display: display,\n          visibility: visibility\n        },\n        ref: function ref(e) {\n          return _this.element = e || _this.element;\n        }\n      };\n      var move_handle = props.selected && attr.showHandler ? React.createElement(\"div\", {\n        className: \"move_handle\",\n        style: {},\n        ref: function ref(e) {\n          return _this.handler = e || _this.handler;\n        }\n      }) : null;\n      var showResizeHandle = attr.resize && props.style.position == 'absolute' && props.selected;\n      var source = this.props.source;\n\n      if (props.style) {\n        delete props.style.left;\n        delete props.style.top;\n        delete props.style.position;\n        if (wrapperProps.style.width && wrapperProps.style.width != 'unset') props.style.width = '100%';\n        if (wrapperProps.style.height && wrapperProps.style.height != 'unset') props.style.height = '100%';\n      } // source.props.ref = function (e) {\n      // };\n\n\n      return React.createElement(component_1.ComponentWrapperContext.Provider, {\n        value: this\n      }, React.createElement(\"div\", Object.assign({}, wrapperProps), move_handle, showResizeHandle ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"resize_handle NE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NN\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle NW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle WW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle EE\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SW\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SS\"\n      }), React.createElement(\"div\", {\n        className: \"resize_handle SE\"\n      })) : null, this.createRawElement(source.type, source.props, source.children)));\n    }\n  }, {\n    key: \"renderWidthoutWrapper\",\n    value: function renderWidthoutWrapper() {\n      var _this2 = this;\n\n      var _this$props$source = this.props.source,\n          type = _this$props$source.type,\n          props = _this$props$source.props,\n          children = _this$props$source.children;\n      var ref = props.ref;\n\n      props.ref = function (e) {\n        if (typeof ref == \"function\") ref(e);\n        if (!e) return;\n\n        if (e.tagName) {\n          var attr = _this2.props.source.attr;\n\n          _this2.designtimeBehavior(e, attr);\n\n          return;\n        }\n      };\n\n      if (props.selected) {\n        props.className = style_1.appendClassName(props.className || '', style_1.classNames.componentSelected);\n      }\n\n      var element = this.createRawElement(type, props, children);\n      return React.createElement(component_1.ComponentWrapperContext.Provider, {\n        value: this\n      }, element);\n    }\n  }, {\n    key: \"createRawElement\",\n    value: function createRawElement(type, props, children) {\n      var isEmptyElement = (children || []).length == 0;\n\n      if (isEmptyElement) {\n        var emtpy = this.designTimeEmptyElement(type, props);\n        if (emtpy != null) children = [emtpy];\n      }\n\n      return React.createElement.apply(React, [type, props].concat(_toConsumableArray(children)));\n    }\n  }, {\n    key: \"designTimeEmptyElement\",\n    value: function designTimeEmptyElement(type, props) {\n      if (type == 'input' || type == 'img' || type == 'meta' || type == 'link') return null;\n      var typename = typeof type == 'string' ? type : type.name;\n      var text = this.designTimeText(typename, props);\n      return text;\n    }\n  }, {\n    key: \"designTimeText\",\n    value: function designTimeText(type, props) {\n      var text = props.text;\n\n      if (text) {\n        return text;\n      }\n\n      text = text || props.name || type;\n      return text;\n    }\n  }], [{\n    key: \"enableAppendDroppable\",\n    value: function enableAppendDroppable(element, designer) {\n      console.assert(element != null);\n      element.addEventListener('dragover', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var componentName = event.dataTransfer.getData(common_1.constants.componentData);\n        if (componentName) event.dataTransfer.dropEffect = \"copy\";else event.dataTransfer.dropEffect = \"move\";\n        console.log(\"dragover: left:\".concat(event['layerX'], \" top:\").concat(event['layerX']));\n      });\n      element.addEventListener(\"drop\", function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var args1 = arguments[1];\n        if (!event.dataTransfer) return;\n        var ctrl = component_panel_1.ComponentPanel.getComponentData(event.dataTransfer);\n        if (!ctrl) return;\n        ctrl.props.style = ctrl.props.style || {};\n        designer.pageData.props.style = designer.pageData.props.style || {};\n\n        if (!ctrl.props.style.position) {\n          ctrl.props.style.position = designer.pageData.props.style.position;\n        }\n\n        var pos = component_panel_1.ComponentPanel.mouseInnerPosition(event.dataTransfer);\n        console.assert(pos != null);\n\n        if (ctrl.props.style.position == 'absolute') {\n          ctrl.props.style.left = event['layerX'] - pos.x;\n          ctrl.props.style.top = event['layerY'] - pos.y;\n        }\n\n        designer.appendComponent(element.id, ctrl);\n      });\n    }\n  }, {\n    key: \"isResizeHandleClassName\",\n    value: function isResizeHandleClassName(className) {\n      var classNames = ['resize_handle NE', 'resize_handle NN', 'resize_handle NW', 'resize_handle WW', 'resize_handle EE', 'resize_handle SW', 'resize_handle SS', 'resize_handle SE'];\n      return classNames.indexOf(className) >= 0;\n    }\n  }, {\n    key: \"draggable\",\n    value: function draggable(designer, element, handler) {\n      if (!designer) throw errors_1.Errors.argumentNull('designer');\n      if (!element) throw errors_1.Errors.argumentNull('element');\n      console.assert(element.id != \"\");\n      handler = handler || element;\n      var componentId = element.id;\n      console.assert(componentId != \"\");\n      var startPos;\n      var rect;\n      var dragStart;\n      $(handler).drag(\"init\", function (ev) {\n        startPos = $(element).position();\n        if ($(this).is(\".\".concat(style_1.classNames.componentSelected))) return $(\".\".concat(style_1.classNames.componentSelected));\n      }).drag('start', function (ev, dd) {\n        dd.attr = $(ev.target).prop(\"className\");\n        dd.width = $(this).width();\n        dd.height = $(this).height();\n        dd.sourceElement = element;\n        dragStart = Date.now();\n      }).drag(function (ev, dd) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        console.log(\"drop:\");\n        console.log(dd.drop);\n        rect = {};\n\n        if (dd.attr.indexOf(\"E\") > -1) {\n          rect.width = Math.max(32, dd.width + dd.deltaX);\n        }\n\n        if (dd.attr.indexOf(\"S\") > -1) {\n          rect.height = Math.max(32, dd.height + dd.deltaY);\n        }\n\n        if (dd.attr.indexOf(\"W\") > -1) {\n          rect.width = Math.max(32, dd.width - dd.deltaX);\n          setLeft(dd);\n        }\n\n        if (dd.attr.indexOf(\"N\") > -1) {\n          rect.height = Math.max(32, dd.height - dd.deltaY);\n          setTop(dd);\n        }\n\n        if (dd.attr.indexOf(\"WW\") >= 0) setLeft(dd);\n        if (dd.attr.indexOf(\"NE\") >= 0 || dd.attr.indexOf(\"NW\") >= 0 || dd.attr.indexOf(\"SW\") >= 0) setPosition(dd);\n        if (dd.attr.indexOf(\"NN\") >= 0) setTop(dd);\n\n        if (dd.attr.indexOf(\"drag\") > -1) {\n          rect.top = dd.offsetY;\n          rect.left = dd.offsetX;\n        }\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          setPosition(dd);\n        }\n\n        if (dd.attr) $(this).css(rect);\n      }, {\n        click: true\n      }).drag('end', function (ev, dd) {\n        var interval = Date.now() - dragStart;\n        ComponentWrapper.isDrag = interval >= 300;\n\n        if (!ComponentWrapper.isResizeHandleClassName(dd.attr)) {\n          var left = startPos.left + dd.deltaX;\n          var top = startPos.top + dd.deltaY;\n          designer.setComponentPosition(element.id, {\n            left: left,\n            top: top\n          });\n          element.style.transform = '';\n        } else {\n          var _left, _top;\n\n          if (dd.attr.indexOf(\"W\") > -1) _left = startPos.left + dd.deltaX;\n          if (dd.attr.indexOf(\"N\") > -1) _top = startPos.top + dd.deltaY;\n          element.style.transform = '';\n          designer.setComponentPosition(element.id, {\n            left: _left,\n            top: _top\n          });\n          designer.setComponentSize(componentId, rect);\n        }\n      }).click(function (ev) {\n        ComponentWrapper.invokeOnClick(ev, designer, element);\n      });\n\n      var setPosition = function setPosition(dd) {\n        console.log(['dd.offsetX, dd.offsetY', dd.offsetX, dd.offsetY]);\n        console.log(dd);\n        element.style.transform = \"translate(\".concat(dd.deltaX, \"px,\").concat(dd.deltaY, \"px)\");\n      };\n\n      var setTop = function setTop(dd) {\n        element.style.transform = \"translateY(\".concat(dd.deltaY, \"px)\");\n      };\n\n      var setLeft = function setLeft(dd) {\n        element.style.transform = \"translateX(\".concat(dd.deltaX, \"px)\");\n      };\n    }\n  }, {\n    key: \"invokeOnClick\",\n    value: function invokeOnClick(ev, designer, element) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (ComponentWrapper.isDrag) {\n        ComponentWrapper.isDrag = false;\n        return;\n      }\n\n      var elementID = element.id;\n\n      if (!ev.ctrlKey) {\n        designer.selectComponent(element.id);\n        return;\n      }\n\n      var selectedControlIds = designer.selectedComponentIds;\n      console.assert(elementID != \"\");\n\n      if (selectedControlIds.indexOf(elementID) >= 0) {\n        selectedControlIds = selectedControlIds.filter(function (o) {\n          return o != elementID;\n        });\n      } else {\n        selectedControlIds.push(elementID);\n      }\n\n      designer.selectComponent(selectedControlIds);\n    }\n  }]);\n\n  return ComponentWrapper;\n}(React.Component);\n\nComponentWrapper.isDrag = false;\nexports.ComponentWrapper = ComponentWrapper;\n//# sourceMappingURL=component-wrapper.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar property_editor_1 = require(\"./property-editor\");\n\nvar style_1 = require(\"./style\");\n\nvar EditorPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditorPanel, _React$Component);\n\n  function EditorPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EditorPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditorPanel).call(this, props));\n    _this.state = {\n      componentDatas: [],\n      designer: null\n    };\n\n    _this.designerComponentChanged = function () {\n      console.assert(_this.designer != null);\n\n      _this.setState({\n        designer: _this.designer\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(EditorPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.props.empty;\n      empty = empty || React.createElement(\"div\", {\n        className: \"empty\"\n      }, \"\\u6682\\u65E0\\u53EF\\u7528\\u7684\\u5C5E\\u6027\");\n      var designer = this.state.designer;\n      return React.createElement(\"div\", {\n        className: \"\".concat(style_1.classNames.editorPanel, \" \").concat(this.props.className || \"\"),\n        ref: function ref(e) {\n          return _this2.element = e || _this2.element;\n        }\n      }, React.createElement(property_editor_1.PropertyEditor, {\n        designer: designer,\n        ref: function ref(e) {\n          return _this2.editor = e || _this2.editor;\n        },\n        empty: empty,\n        customRender: this.props.customRender\n      }));\n    }\n  }, {\n    key: \"designer\",\n    get: function get() {\n      return this._designer;\n    },\n    set: function set(value) {\n      if (this._designer) {\n        this._designer.componentRemoved.remove(this.designerComponentChanged);\n\n        this._designer.componentAppend.remove(this.designerComponentChanged);\n\n        this._designer.componentUpdated.remove(this.designerComponentChanged);\n\n        this._designer.componentSelected.remove(this.designerComponentChanged);\n      }\n\n      if (value) {\n        value.componentRemoved.add(this.designerComponentChanged);\n        value.componentAppend.add(this.designerComponentChanged);\n        value.componentUpdated.add(this.designerComponentChanged);\n        value.componentSelected.add(this.designerComponentChanged);\n      }\n\n      this._designer = value;\n      this.setState({\n        designer: value\n      });\n    }\n  }]);\n\n  return EditorPanel;\n}(React.Component);\n\nexports.EditorPanel = EditorPanel;\n//# sourceMappingURL=editor-panel.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar component_1 = require(\"./component\");\n\nvar common_1 = require(\"./common\");\n\nvar errors_1 = require(\"./errors\");\n\nvar PropertyEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n\n  function PropertyEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyEditor).call(this, props));\n    _this._element = null;\n    _this.state = {\n      designer: _this.props.designer\n    };\n    return _this;\n  }\n\n  _createClass(PropertyEditor, [{\n    key: \"getEditors\",\n    value: function getEditors(designer) {\n      var _this2 = this;\n\n      if (designer == null) {\n        return [];\n      } // \n\n\n      var commonPropEditorInfos = [];\n      var selectedComponents = designer.selectedComponents;\n\n      var _loop = function _loop(i) {\n        var componentData = selectedComponents[i];\n        var propEditorInfos = component_1.Component.getPropEditors(componentData);\n\n        if (i == 0) {\n          commonPropEditorInfos = propEditorInfos || [];\n        } else {\n          var items = [];\n          commonPropEditorInfos.forEach(function (propInfo1) {\n            propEditorInfos.forEach(function (propInfo2) {\n              var propName1 = propInfo1.propName; //propInfo1.propNames.join('.')\n\n              var propName2 = propInfo2.propName; //propInfo2.propNames.join('.')\n\n              if (propInfo1.editorType == propInfo2.editorType && propName1 == propName2) {\n                items.push(propInfo1);\n              }\n            });\n          });\n          commonPropEditorInfos = items;\n        }\n      };\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        _loop(i);\n      } // \n\n\n      var commonFlatProps;\n\n      for (var i = 0; i < selectedComponents.length; i++) {\n        var control = selectedComponents[i];\n        var controlProps = Object.assign({}, control.props);\n        delete controlProps.children; // controlProps = this.flatProps(controlProps)\n\n        if (i == 0) {\n          commonFlatProps = controlProps;\n        } else {\n          var obj = {};\n\n          for (var key in commonFlatProps) {\n            if (commonFlatProps[key] == controlProps[key]) obj[key] = controlProps[key];\n          }\n\n          commonFlatProps = obj;\n        }\n      }\n\n      var editors = [];\n\n      var _loop2 = function _loop2(_i) {\n        var propEditorInfo = commonPropEditorInfos[_i];\n        var propName = propEditorInfo.propName;\n        ;\n        var editorType = propEditorInfo.editorType;\n\n        var value = _this2.propValue(propName, commonFlatProps);\n\n        var editorProps = {\n          value: value,\n          editComponents: selectedComponents,\n          updateComponentProp: function updateComponentProp(value) {\n            var componentProps = selectedComponents.map(function (o) {\n              return {\n                componentId: o.props.id,\n                propName: propEditorInfo.propName,\n                value: value\n              };\n            });\n            designer.updateComponentProps.apply(designer, _toConsumableArray(componentProps));\n          }\n        };\n        var editor = React.createElement(editorType, editorProps);\n        editors.push({\n          prop: propEditorInfo.propName,\n          editor: editor,\n          group: propEditorInfo.group\n        });\n      };\n\n      for (var _i = 0; _i < commonPropEditorInfos.length; _i++) {\n        _loop2(_i);\n      }\n\n      return editors;\n    }\n  }, {\n    key: \"propValue\",\n    value: function propValue(propName, props) {\n      if (!propName) throw errors_1.Errors.argumentNull(\"propName\");\n      if (!props) throw errors_1.Errors.argumentNull(\"props\");\n      var navPropsNames = propName.split(\".\");\n      var obj = props;\n\n      for (var i = 0; i < navPropsNames.length; i++) {\n        obj = obj[navPropsNames[i]];\n        if (obj == null) return null;\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var designer = this.state.designer;\n      var editors = this.getEditors(designer);\n\n      if (editors.length == 0) {\n        var empty = this.props.empty;\n        return React.createElement(\"div\", {\n          className: \"text-center\"\n        }, empty);\n      }\n\n      if (this.props.customRender) {\n        var items = editors.map(function (o) {\n          return Object.assign({\n            displayName: common_1.proptDisplayNames[o.prop] || o.prop\n          }, o);\n        });\n        var r = this.props.customRender(designer.selectedComponents, items);\n\n        if (r != null) {\n          return r;\n        }\n      }\n\n      var groupEditorsArray = [];\n\n      var _loop3 = function _loop3(i) {\n        var group = editors[i].group || '';\n        var groupEditors = groupEditorsArray.filter(function (o) {\n          return o.group == group;\n        })[0];\n\n        if (groupEditors == null) {\n          groupEditors = {\n            group: editors[i].group,\n            editors: []\n          };\n          groupEditorsArray.push(groupEditors);\n        }\n\n        groupEditors.editors.push({\n          prop: editors[i].prop,\n          editor: editors[i].editor\n        });\n      };\n\n      for (var i = 0; i < editors.length; i++) {\n        _loop3(i);\n      }\n\n      return React.createElement(React.Fragment, null, groupEditorsArray.map(function (g) {\n        return React.createElement(\"div\", {\n          key: g.group,\n          className: \"panel panel-default\"\n        }, g.group ? React.createElement(\"div\", {\n          className: \"panel-heading\"\n        }, common_1.proptDisplayNames[g.group] || g.group) : null, React.createElement(\"div\", {\n          className: \"panel-body\"\n        }, g.editors.map(function (o, i) {\n          return React.createElement(\"div\", {\n            key: o.prop,\n            className: \"form-group clearfix\"\n          }, React.createElement(\"label\", null, common_1.proptDisplayNames[o.prop] || o.prop), React.createElement(\"div\", {\n            className: \"control\"\n          }, React.createElement(component_1.ErrorBoundary, null, o.editor)));\n        })));\n      }));\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      return {\n        designer: props.designer\n      };\n    }\n  }]);\n\n  return PropertyEditor;\n}(React.Component);\n\nexports.PropertyEditor = PropertyEditor;\n//# sourceMappingURL=property-editor.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PropEditor, _React$Component);\n\n  function PropEditor(props) {\n    _classCallCheck(this, PropEditor);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PropEditor).call(this, props));\n  }\n\n  _createClass(PropEditor, null, [{\n    key: \"dropdown\",\n    value: function dropdown(items, valueType) {\n      return _dropdown(items, valueType);\n    }\n  }, {\n    key: \"textInput\",\n    value: function textInput() {\n      return TextInput;\n    }\n  }]);\n\n  return PropEditor;\n}(React.Component);\n\nexports.PropEditor = PropEditor;\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_PropEditor) {\n  _inherits(TextInput, _PropEditor);\n\n  function TextInput() {\n    _classCallCheck(this, TextInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TextInput).apply(this, arguments));\n  }\n\n  _createClass(TextInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var value = this.props.value;\n      return React.createElement(\"input\", {\n        className: 'form-control',\n        value: value || '',\n        onChange: function onChange(e) {\n          // this.setState({ value: e.target.value })\n          _this.props.updateComponentProp(e.target.value);\n        }\n      });\n    }\n  }]);\n\n  return TextInput;\n}(PropEditor);\n\nexports.TextInput = TextInput;\n\nfunction _dropdown(items, valueType) {\n  var itemsPromise;\n  var textValues = [];\n\n  if (valueType == null && Array.isArray(items)) {\n    valueType = items.length > 0 && typeof items[0] == \"number\" ? \"number\" : \"string\";\n\n    for (var i = 0; i < items.length; i++) {\n      textValues[i] = {\n        text: items[i],\n        value: items[i]\n      };\n    }\n  } else if (valueType == null) {\n    valueType = \"string\";\n    var propNames = Object.getOwnPropertyNames(items);\n\n    for (var _i = 0; _i < propNames.length; _i++) {\n      textValues[_i] = {\n        text: items[propNames[_i]],\n        value: propNames[_i]\n      };\n    }\n  } else if (Array.isArray(items)) {\n    textValues = items;\n  } else {\n    itemsPromise = items;\n  }\n\n  var Dropdown =\n  /*#__PURE__*/\n  function (_PropEditor2) {\n    _inherits(Dropdown, _PropEditor2);\n\n    function Dropdown(props) {\n      var _this2;\n\n      _classCallCheck(this, Dropdown);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n      _this2.state = {};\n      return _this2;\n    }\n\n    _createClass(Dropdown, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        return __awaiter(this, void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var _items;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!itemsPromise) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return itemsPromise;\n\n                case 3:\n                  _items = _context.sent;\n                  this.setState({\n                    items: _items\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var items = this.state.items;\n        var value = this.props.value;\n        items = items || textValues;\n        return React.createElement(\"select\", {\n          className: 'form-control',\n          value: value == null ? \"\" : value,\n          onChange: function onChange(e) {\n            var textValue = e.target.value;\n\n            if (valueType == \"number\") {\n              var integerRegex = /^\\d+$/;\n              var floatRegex = /^[+-]?\\d+(\\.\\d+)?$/;\n              if (integerRegex.test(textValue)) value = parseInt(textValue);else if (floatRegex.test(textValue)) value = parseFloat(textValue);else value = null;\n            } else {\n              value = textValue;\n            }\n\n            _this3.props.updateComponentProp(value);\n          }\n        }, items.map(function (o) {\n          return React.createElement(\"option\", {\n            key: o.value,\n            value: o.value\n          }, o.text);\n        }));\n      }\n    }]);\n\n    return Dropdown;\n  }(PropEditor);\n\n  return Dropdown;\n}\n//# sourceMappingURL=prop-editor.js.map\n"],"sourceRoot":""}